function cov_fp2f7me56() {
  var path = "D:\\! At Work\\5OpenSource\\svg-path-commander\\src\\util\\shapeToPath.js";
  var hash = "25d4a01fbf9f4044fe85317dd9905596253df993";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\! At Work\\5OpenSource\\svg-path-commander\\src\\util\\shapeToPath.js",
    statementMap: {
      "0": {
        start: {
          line: 8,
          column: 20
        },
        end: {
          line: 15,
          column: 1
        }
      },
      "1": {
        start: {
          line: 26,
          column: 6
        },
        end: {
          line: 26,
          column: 10
        }
      },
      "2": {
        start: {
          line: 27,
          column: 2
        },
        end: {
          line: 27,
          column: 40
        }
      },
      "3": {
        start: {
          line: 39,
          column: 20
        },
        end: {
          line: 39,
          column: 22
        }
      },
      "4": {
        start: {
          line: 40,
          column: 17
        },
        end: {
          line: 40,
          column: 63
        }
      },
      "5": {
        start: {
          line: 42,
          column: 14
        },
        end: {
          line: 42,
          column: 15
        }
      },
      "6": {
        start: {
          line: 43,
          column: 2
        },
        end: {
          line: 46,
          column: 3
        }
      },
      "7": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 44,
          column: 80
        }
      },
      "8": {
        start: {
          line: 45,
          column: 4
        },
        end: {
          line: 45,
          column: 15
        }
      },
      "9": {
        start: {
          line: 48,
          column: 2
        },
        end: {
          line: 48,
          column: 69
        }
      },
      "10": {
        start: {
          line: 60,
          column: 6
        },
        end: {
          line: 60,
          column: 10
        }
      },
      "11": {
        start: {
          line: 62,
          column: 2
        },
        end: {
          line: 66,
          column: 4
        }
      },
      "12": {
        start: {
          line: 78,
          column: 6
        },
        end: {
          line: 78,
          column: 10
        }
      },
      "13": {
        start: {
          line: 80,
          column: 2
        },
        end: {
          line: 84,
          column: 4
        }
      },
      "14": {
        start: {
          line: 94,
          column: 12
        },
        end: {
          line: 94,
          column: 24
        }
      },
      "15": {
        start: {
          line: 95,
          column: 12
        },
        end: {
          line: 95,
          column: 24
        }
      },
      "16": {
        start: {
          line: 96,
          column: 12
        },
        end: {
          line: 96,
          column: 23
        }
      },
      "17": {
        start: {
          line: 97,
          column: 12
        },
        end: {
          line: 97,
          column: 24
        }
      },
      "18": {
        start: {
          line: 98,
          column: 11
        },
        end: {
          line: 98,
          column: 19
        }
      },
      "19": {
        start: {
          line: 99,
          column: 11
        },
        end: {
          line: 99,
          column: 19
        }
      },
      "20": {
        start: {
          line: 102,
          column: 2
        },
        end: {
          line: 120,
          column: 3
        }
      },
      "21": {
        start: {
          line: 103,
          column: 4
        },
        end: {
          line: 103,
          column: 23
        }
      },
      "22": {
        start: {
          line: 104,
          column: 4
        },
        end: {
          line: 104,
          column: 23
        }
      },
      "23": {
        start: {
          line: 106,
          column: 4
        },
        end: {
          line: 106,
          column: 43
        }
      },
      "24": {
        start: {
          line: 106,
          column: 20
        },
        end: {
          line: 106,
          column: 43
        }
      },
      "25": {
        start: {
          line: 107,
          column: 4
        },
        end: {
          line: 107,
          column: 43
        }
      },
      "26": {
        start: {
          line: 107,
          column: 20
        },
        end: {
          line: 107,
          column: 43
        }
      },
      "27": {
        start: {
          line: 109,
          column: 4
        },
        end: {
          line: 119,
          column: 6
        }
      },
      "28": {
        start: {
          line: 122,
          column: 2
        },
        end: {
          line: 128,
          column: 4
        }
      },
      "29": {
        start: {
          line: 147,
          column: 26
        },
        end: {
          line: 147,
          column: 50
        }
      },
      "30": {
        start: {
          line: 148,
          column: 20
        },
        end: {
          line: 148,
          column: 46
        }
      },
      "31": {
        start: {
          line: 150,
          column: 2
        },
        end: {
          line: 152,
          column: 3
        }
      },
      "32": {
        start: {
          line: 150,
          column: 48
        },
        end: {
          line: 150,
          column: 69
        }
      },
      "33": {
        start: {
          line: 151,
          column: 4
        },
        end: {
          line: 151,
          column: 67
        }
      },
      "34": {
        start: {
          line: 154,
          column: 15
        },
        end: {
          line: 154,
          column: 77
        }
      },
      "35": {
        start: {
          line: 156,
          column: 15
        },
        end: {
          line: 156,
          column: 57
        }
      },
      "36": {
        start: {
          line: 158,
          column: 17
        },
        end: {
          line: 158,
          column: 19
        }
      },
      "37": {
        start: {
          line: 159,
          column: 2
        },
        end: {
          line: 159,
          column: 21
        }
      },
      "38": {
        start: {
          line: 161,
          column: 2
        },
        end: {
          line: 170,
          column: 3
        }
      },
      "39": {
        start: {
          line: 162,
          column: 23
        },
        end: {
          line: 162,
          column: 40
        }
      },
      "40": {
        start: {
          line: 163,
          column: 4
        },
        end: {
          line: 163,
          column: 72
        }
      },
      "41": {
        start: {
          line: 163,
          column: 32
        },
        end: {
          line: 163,
          column: 68
        }
      },
      "42": {
        start: {
          line: 165,
          column: 4
        },
        end: {
          line: 167,
          column: 7
        }
      },
      "43": {
        start: {
          line: 166,
          column: 6
        },
        end: {
          line: 166,
          column: 69
        }
      },
      "44": {
        start: {
          line: 166,
          column: 38
        },
        end: {
          line: 166,
          column: 69
        }
      },
      "45": {
        start: {
          line: 169,
          column: 4
        },
        end: {
          line: 169,
          column: 35
        }
      },
      "46": {
        start: {
          line: 174,
          column: 20
        },
        end: {
          line: 174,
          column: 34
        }
      },
      "47": {
        start: {
          line: 176,
          column: 2
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "48": {
        start: {
          line: 176,
          column: 25
        },
        end: {
          line: 176,
          column: 82
        }
      },
      "49": {
        start: {
          line: 177,
          column: 7
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "50": {
        start: {
          line: 177,
          column: 31
        },
        end: {
          line: 177,
          column: 89
        }
      },
      "51": {
        start: {
          line: 178,
          column: 7
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "52": {
        start: {
          line: 178,
          column: 51
        },
        end: {
          line: 178,
          column: 106
        }
      },
      "53": {
        start: {
          line: 179,
          column: 7
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "54": {
        start: {
          line: 179,
          column: 28
        },
        end: {
          line: 179,
          column: 88
        }
      },
      "55": {
        start: {
          line: 180,
          column: 7
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "56": {
        start: {
          line: 180,
          column: 28
        },
        end: {
          line: 180,
          column: 83
        }
      },
      "57": {
        start: {
          line: 181,
          column: 7
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "58": {
        start: {
          line: 181,
          column: 29
        },
        end: {
          line: 181,
          column: 96
        }
      },
      "59": {
        start: {
          line: 184,
          column: 2
        },
        end: {
          line: 191,
          column: 3
        }
      },
      "60": {
        start: {
          line: 185,
          column: 4
        },
        end: {
          line: 185,
          column: 40
        }
      },
      "61": {
        start: {
          line: 186,
          column: 4
        },
        end: {
          line: 189,
          column: 5
        }
      },
      "62": {
        start: {
          line: 187,
          column: 6
        },
        end: {
          line: 187,
          column: 36
        }
      },
      "63": {
        start: {
          line: 188,
          column: 6
        },
        end: {
          line: 188,
          column: 23
        }
      },
      "64": {
        start: {
          line: 190,
          column: 4
        },
        end: {
          line: 190,
          column: 16
        }
      },
      "65": {
        start: {
          line: 192,
          column: 2
        },
        end: {
          line: 192,
          column: 15
        }
      }
    },
    fnMap: {
      "0": {
        name: "getLinePath",
        decl: {
          start: {
            line: 23,
            column: 16
          },
          end: {
            line: 23,
            column: 27
          }
        },
        loc: {
          start: {
            line: 23,
            column: 34
          },
          end: {
            line: 28,
            column: 1
          }
        },
        line: 23
      },
      "1": {
        name: "getPolyPath",
        decl: {
          start: {
            line: 36,
            column: 16
          },
          end: {
            line: 36,
            column: 27
          }
        },
        loc: {
          start: {
            line: 36,
            column: 34
          },
          end: {
            line: 49,
            column: 1
          }
        },
        line: 36
      },
      "2": {
        name: "getCirclePath",
        decl: {
          start: {
            line: 57,
            column: 16
          },
          end: {
            line: 57,
            column: 29
          }
        },
        loc: {
          start: {
            line: 57,
            column: 36
          },
          end: {
            line: 67,
            column: 1
          }
        },
        line: 57
      },
      "3": {
        name: "getEllipsePath",
        decl: {
          start: {
            line: 75,
            column: 16
          },
          end: {
            line: 75,
            column: 30
          }
        },
        loc: {
          start: {
            line: 75,
            column: 37
          },
          end: {
            line: 85,
            column: 1
          }
        },
        line: 75
      },
      "4": {
        name: "getRectanglePath",
        decl: {
          start: {
            line: 93,
            column: 16
          },
          end: {
            line: 93,
            column: 32
          }
        },
        loc: {
          start: {
            line: 93,
            column: 39
          },
          end: {
            line: 129,
            column: 1
          }
        },
        line: 93
      },
      "5": {
        name: "shapeToPath",
        decl: {
          start: {
            line: 146,
            column: 24
          },
          end: {
            line: 146,
            column: 35
          }
        },
        loc: {
          start: {
            line: 146,
            column: 54
          },
          end: {
            line: 193,
            column: 1
          }
        },
        line: 146
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 150,
            column: 41
          },
          end: {
            line: 150,
            column: 42
          }
        },
        loc: {
          start: {
            line: 150,
            column: 48
          },
          end: {
            line: 150,
            column: 69
          }
        },
        line: 150
      },
      "7": {
        name: "(anonymous_7)",
        decl: {
          start: {
            line: 163,
            column: 23
          },
          end: {
            line: 163,
            column: 24
          }
        },
        loc: {
          start: {
            line: 163,
            column: 30
          },
          end: {
            line: 163,
            column: 70
          }
        },
        line: 163
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 165,
            column: 46
          },
          end: {
            line: 165,
            column: 47
          }
        },
        loc: {
          start: {
            line: 165,
            column: 67
          },
          end: {
            line: 167,
            column: 5
          }
        },
        line: 165
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 44,
            column: 21
          },
          end: {
            line: 44,
            column: 38
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 44,
            column: 29
          },
          end: {
            line: 44,
            column: 32
          }
        }, {
          start: {
            line: 44,
            column: 35
          },
          end: {
            line: 44,
            column: 38
          }
        }],
        line: 44
      },
      "1": {
        loc: {
          start: {
            line: 48,
            column: 9
          },
          end: {
            line: 48,
            column: 68
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 48,
            column: 35
          },
          end: {
            line: 48,
            column: 56
          }
        }, {
          start: {
            line: 48,
            column: 59
          },
          end: {
            line: 48,
            column: 68
          }
        }],
        line: 48
      },
      "2": {
        loc: {
          start: {
            line: 94,
            column: 12
          },
          end: {
            line: 94,
            column: 24
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 94,
            column: 12
          },
          end: {
            line: 94,
            column: 19
          }
        }, {
          start: {
            line: 94,
            column: 23
          },
          end: {
            line: 94,
            column: 24
          }
        }],
        line: 94
      },
      "3": {
        loc: {
          start: {
            line: 95,
            column: 12
          },
          end: {
            line: 95,
            column: 24
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 95,
            column: 12
          },
          end: {
            line: 95,
            column: 19
          }
        }, {
          start: {
            line: 95,
            column: 23
          },
          end: {
            line: 95,
            column: 24
          }
        }],
        line: 95
      },
      "4": {
        loc: {
          start: {
            line: 102,
            column: 2
          },
          end: {
            line: 120,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 102,
            column: 2
          },
          end: {
            line: 120,
            column: 3
          }
        }, {
          start: {
            line: 102,
            column: 2
          },
          end: {
            line: 120,
            column: 3
          }
        }],
        line: 102
      },
      "5": {
        loc: {
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 102,
            column: 14
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 102,
            column: 6
          },
          end: {
            line: 102,
            column: 8
          }
        }, {
          start: {
            line: 102,
            column: 12
          },
          end: {
            line: 102,
            column: 14
          }
        }],
        line: 102
      },
      "6": {
        loc: {
          start: {
            line: 103,
            column: 9
          },
          end: {
            line: 103,
            column: 22
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 103,
            column: 15
          },
          end: {
            line: 103,
            column: 17
          }
        }, {
          start: {
            line: 103,
            column: 20
          },
          end: {
            line: 103,
            column: 22
          }
        }],
        line: 103
      },
      "7": {
        loc: {
          start: {
            line: 104,
            column: 9
          },
          end: {
            line: 104,
            column: 22
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 104,
            column: 15
          },
          end: {
            line: 104,
            column: 17
          }
        }, {
          start: {
            line: 104,
            column: 20
          },
          end: {
            line: 104,
            column: 22
          }
        }],
        line: 104
      },
      "8": {
        loc: {
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 106,
            column: 43
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 106,
            column: 43
          }
        }, {
          start: {
            line: 106,
            column: 4
          },
          end: {
            line: 106,
            column: 43
          }
        }],
        line: 106
      },
      "9": {
        loc: {
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 107,
            column: 43
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 107,
            column: 43
          }
        }, {
          start: {
            line: 107,
            column: 4
          },
          end: {
            line: 107,
            column: 43
          }
        }],
        line: 107
      },
      "10": {
        loc: {
          start: {
            line: 150,
            column: 2
          },
          end: {
            line: 152,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 150,
            column: 2
          },
          end: {
            line: 152,
            column: 3
          }
        }, {
          start: {
            line: 150,
            column: 2
          },
          end: {
            line: 152,
            column: 3
          }
        }],
        line: 150
      },
      "11": {
        loc: {
          start: {
            line: 150,
            column: 6
          },
          end: {
            line: 150,
            column: 70
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 150,
            column: 6
          },
          end: {
            line: 150,
            column: 15
          }
        }, {
          start: {
            line: 150,
            column: 19
          },
          end: {
            line: 150,
            column: 70
          }
        }],
        line: 150
      },
      "12": {
        loc: {
          start: {
            line: 156,
            column: 15
          },
          end: {
            line: 156,
            column: 57
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 156,
            column: 27
          },
          end: {
            line: 156,
            column: 42
          }
        }, {
          start: {
            line: 156,
            column: 45
          },
          end: {
            line: 156,
            column: 57
          }
        }],
        line: 156
      },
      "13": {
        loc: {
          start: {
            line: 161,
            column: 2
          },
          end: {
            line: 170,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 161,
            column: 2
          },
          end: {
            line: 170,
            column: 3
          }
        }, {
          start: {
            line: 161,
            column: 2
          },
          end: {
            line: 170,
            column: 3
          }
        }],
        line: 161
      },
      "14": {
        loc: {
          start: {
            line: 166,
            column: 6
          },
          end: {
            line: 166,
            column: 69
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 166,
            column: 6
          },
          end: {
            line: 166,
            column: 69
          }
        }, {
          start: {
            line: 166,
            column: 6
          },
          end: {
            line: 166,
            column: 69
          }
        }],
        line: 166
      },
      "15": {
        loc: {
          start: {
            line: 176,
            column: 2
          },
          end: {
            line: 181,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 176,
            column: 2
          },
          end: {
            line: 181,
            column: 96
          }
        }, {
          start: {
            line: 176,
            column: 2
          },
          end: {
            line: 181,
            column: 96
          }
        }],
        line: 176
      },
      "16": {
        loc: {
          start: {
            line: 177,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 177,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }, {
          start: {
            line: 177,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }],
        line: 177
      },
      "17": {
        loc: {
          start: {
            line: 178,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 178,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }, {
          start: {
            line: 178,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }],
        line: 178
      },
      "18": {
        loc: {
          start: {
            line: 179,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 179,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }, {
          start: {
            line: 179,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }],
        line: 179
      },
      "19": {
        loc: {
          start: {
            line: 180,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 180,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }, {
          start: {
            line: 180,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }],
        line: 180
      },
      "20": {
        loc: {
          start: {
            line: 181,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 181,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }, {
          start: {
            line: 181,
            column: 7
          },
          end: {
            line: 181,
            column: 96
          }
        }],
        line: 181
      },
      "21": {
        loc: {
          start: {
            line: 181,
            column: 43
          },
          end: {
            line: 181,
            column: 95
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 181,
            column: 55
          },
          end: {
            line: 181,
            column: 80
          }
        }, {
          start: {
            line: 181,
            column: 83
          },
          end: {
            line: 181,
            column: 95
          }
        }],
        line: 181
      },
      "22": {
        loc: {
          start: {
            line: 184,
            column: 2
          },
          end: {
            line: 191,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 184,
            column: 2
          },
          end: {
            line: 191,
            column: 3
          }
        }, {
          start: {
            line: 184,
            column: 2
          },
          end: {
            line: 191,
            column: 3
          }
        }],
        line: 184
      },
      "23": {
        loc: {
          start: {
            line: 186,
            column: 4
          },
          end: {
            line: 189,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 186,
            column: 4
          },
          end: {
            line: 189,
            column: 5
          }
        }, {
          start: {
            line: 186,
            column: 4
          },
          end: {
            line: 189,
            column: 5
          }
        }],
        line: 186
      },
      "24": {
        loc: {
          start: {
            line: 186,
            column: 8
          },
          end: {
            line: 186,
            column: 28
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 186,
            column: 8
          },
          end: {
            line: 186,
            column: 15
          }
        }, {
          start: {
            line: 186,
            column: 19
          },
          end: {
            line: 186,
            column: 28
          }
        }],
        line: 186
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0,
      "56": 0,
      "57": 0,
      "58": 0,
      "59": 0,
      "60": 0,
      "61": 0,
      "62": 0,
      "63": 0,
      "64": 0,
      "65": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0],
      "13": [0, 0],
      "14": [0, 0],
      "15": [0, 0],
      "16": [0, 0],
      "17": [0, 0],
      "18": [0, 0],
      "19": [0, 0],
      "20": [0, 0],
      "21": [0, 0],
      "22": [0, 0],
      "23": [0, 0],
      "24": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "25d4a01fbf9f4044fe85317dd9905596253df993"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_fp2f7me56 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_fp2f7me56();
import pathToString from '../convert/pathToString';
import defaultOptions from '../options/options';
/**
 * Supported shapes and their specific parameters.
 * @type {Object.<string, string[]>}
 */

const shapeParams = (cov_fp2f7me56().s[0]++, {
  circle: ['cx', 'cy', 'r'],
  ellipse: ['cx', 'cy', 'rx', 'ry'],
  rect: ['width', 'height', 'x', 'y', 'rx', 'ry'],
  polygon: ['points'],
  polyline: ['points'],
  glyph: []
});
/**
 * Returns a new `pathArray` from line attributes.
 *
 * @param {SVGPath.lineAttr} attr shape configuration
 * @returns {SVGPath.pathArray} a new line `pathArray`
 */

export function getLinePath(attr) {
  cov_fp2f7me56().f[0]++;
  const {
    x1,
    y1,
    x2,
    y2
  } = (cov_fp2f7me56().s[1]++, attr);
  cov_fp2f7me56().s[2]++;
  return [['M', x1, y1], ['L', x2, y2]];
}
/**
 * Returns a new `pathArray` like from polyline/polygon attributes.
 *
 * @param {SVGPath.polyAttr} attr shape configuration
 * @return {SVGPath.pathArray} a new polygon/polyline `pathArray`
 */

export function getPolyPath(attr) {
  cov_fp2f7me56().f[1]++;

  /** @type {SVGPath.pathArray} */
  // @ts-ignore -- it's an empty `pathArray`
  const pathArray = (cov_fp2f7me56().s[3]++, []);
  const points = (cov_fp2f7me56().s[4]++, attr.points.trim().split(/[\s|,]/).map(Number));
  let index = (cov_fp2f7me56().s[5]++, 0);
  cov_fp2f7me56().s[6]++;

  while (index < points.length) {
    cov_fp2f7me56().s[7]++;
    pathArray.push([index ? (cov_fp2f7me56().b[0][0]++, 'L') : (cov_fp2f7me56().b[0][1]++, 'M'), points[index], points[index + 1]]);
    cov_fp2f7me56().s[8]++;
    index += 2;
  } // @ts-ignore -- it's a `pathArray`


  cov_fp2f7me56().s[9]++;
  return attr.type === 'polygon' ? (cov_fp2f7me56().b[1][0]++, [...pathArray, ['z']]) : (cov_fp2f7me56().b[1][1]++, pathArray);
}
/**
 * Returns a new `pathArray` from circle attributes.
 *
 * @param {SVGPath.circleAttr} attr shape configuration
 * @return {SVGPath.pathArray} a circle `pathArray`
 */

export function getCirclePath(attr) {
  cov_fp2f7me56().f[2]++;
  const {
    cx,
    cy,
    r
  } = (cov_fp2f7me56().s[10]++, attr);
  cov_fp2f7me56().s[11]++;
  return [['M', cx - r, cy], ['a', r, r, 0, 1, 0, 2 * r, 0], ['a', r, r, 0, 1, 0, -2 * r, 0]];
}
/**
 * Returns a new `pathArray` from ellipse attributes.
 *
 * @param {SVGPath.ellipseAttr} attr shape configuration
 * @return {SVGPath.pathArray} an ellipse `pathArray`
 */

export function getEllipsePath(attr) {
  cov_fp2f7me56().f[3]++;
  const {
    cx,
    cy,
    rx,
    ry
  } = (cov_fp2f7me56().s[12]++, attr);
  cov_fp2f7me56().s[13]++;
  return [['M', cx - rx, cy], ['a', rx, ry, 0, 1, 0, 2 * rx, 0], ['a', rx, ry, 0, 1, 0, -2 * rx, 0]];
}
/**
 * Returns a new `pathArray` like from rect attributes.
 *
 * @param {SVGPath.rectAttr} attr object with properties above
 * @return {SVGPath.pathArray} a new `pathArray` from `<rect>` attributes
 */

export function getRectanglePath(attr) {
  cov_fp2f7me56().f[4]++;
  const x = (cov_fp2f7me56().s[14]++, (cov_fp2f7me56().b[2][0]++, +attr.x) || (cov_fp2f7me56().b[2][1]++, 0));
  const y = (cov_fp2f7me56().s[15]++, (cov_fp2f7me56().b[3][0]++, +attr.y) || (cov_fp2f7me56().b[3][1]++, 0));
  const w = (cov_fp2f7me56().s[16]++, +attr.width);
  const h = (cov_fp2f7me56().s[17]++, +attr.height);
  let rx = (cov_fp2f7me56().s[18]++, +attr.rx);
  let ry = (cov_fp2f7me56().s[19]++, +attr.ry); // Validity checks from http://www.w3.org/TR/SVG/shapes.html#RectElement:

  cov_fp2f7me56().s[20]++;

  if ((cov_fp2f7me56().b[5][0]++, rx) || (cov_fp2f7me56().b[5][1]++, ry)) {
    cov_fp2f7me56().b[4][0]++;
    cov_fp2f7me56().s[21]++;
    rx = !rx ? (cov_fp2f7me56().b[6][0]++, ry) : (cov_fp2f7me56().b[6][1]++, rx);
    cov_fp2f7me56().s[22]++;
    ry = !ry ? (cov_fp2f7me56().b[7][0]++, rx) : (cov_fp2f7me56().b[7][1]++, ry);
    cov_fp2f7me56().s[23]++;

    if (rx * 2 > w) {
      cov_fp2f7me56().b[8][0]++;
      cov_fp2f7me56().s[24]++;
      rx -= (rx * 2 - w) / 2;
    } else {
      cov_fp2f7me56().b[8][1]++;
    }

    cov_fp2f7me56().s[25]++;

    if (ry * 2 > h) {
      cov_fp2f7me56().b[9][0]++;
      cov_fp2f7me56().s[26]++;
      ry -= (ry * 2 - h) / 2;
    } else {
      cov_fp2f7me56().b[9][1]++;
    }

    cov_fp2f7me56().s[27]++;
    return [['M', x + rx, y], ['h', w - rx * 2], ['s', rx, 0, rx, ry], ['v', h - ry * 2], ['s', 0, ry, -rx, ry], ['h', -w + rx * 2], ['s', -rx, 0, -rx, -ry], ['v', -h + ry * 2], ['s', 0, -ry, rx, -ry]];
  } else {
    cov_fp2f7me56().b[4][1]++;
  }

  cov_fp2f7me56().s[28]++;
  return [['M', x, y], ['h', w], ['v', h], ['H', x], ['Z']];
}
/**
 * Returns a new `<path>` element created from attributes of a `<line>`, `<polyline>`,
 * `<polygon>`, `<rect>`, `<ellipse>`, `<circle>` or `<glyph>`. If `replace` parameter
 * is `true`, it will replace the target.
 *
 * It can also work with an options object,
 * @see SVGPath.shapeOps
 *
 * The newly created `<path>` element keeps all non-specific
 * attributes like `class`, `fill`, etc.
 *
 * @param {SVGPath.shapeTypes | SVGPath.shapeOps} element target shape
 * @param {boolean=} replace option to replace target
 * @return {SVGPathElement | boolean} the newly created `<path>` element
 */

export default function shapeToPath(element, replace) {
  cov_fp2f7me56().f[5]++;
  const supportedShapes = (cov_fp2f7me56().s[29]++, Object.keys(shapeParams));
  const isElement = (cov_fp2f7me56().s[30]++, element instanceof Element);
  cov_fp2f7me56().s[31]++;

  if ((cov_fp2f7me56().b[11][0]++, isElement) && (cov_fp2f7me56().b[11][1]++, !supportedShapes.some(s => {
    cov_fp2f7me56().f[6]++;
    cov_fp2f7me56().s[32]++;
    return element.tagName === s;
  }))) {
    cov_fp2f7me56().b[10][0]++;
    cov_fp2f7me56().s[33]++;
    throw TypeError(`shapeToPath: "${element}" is not SVGElement`);
  } else {
    cov_fp2f7me56().b[10][1]++;
  }

  const path = (cov_fp2f7me56().s[34]++, document.createElementNS('http://www.w3.org/2000/svg', 'path'));
  /** @type {string} */

  const type = (cov_fp2f7me56().s[35]++, isElement ? (cov_fp2f7me56().b[12][0]++, element.tagName) : (cov_fp2f7me56().b[12][1]++, element.type));
  /** @type {any} disables TS checking for something that's specific to shape */

  const config = (cov_fp2f7me56().s[36]++, {});
  cov_fp2f7me56().s[37]++;
  config.type = type;
  cov_fp2f7me56().s[38]++;

  if (isElement) {
    cov_fp2f7me56().b[13][0]++;
    const shapeAttrs = (cov_fp2f7me56().s[39]++, shapeParams[type]);
    cov_fp2f7me56().s[40]++;
    shapeAttrs.forEach(p => {
      cov_fp2f7me56().f[7]++;
      cov_fp2f7me56().s[41]++;
      config[p] = element.getAttribute(p);
    }); // set no-specific shape attributes: fill, stroke, etc

    cov_fp2f7me56().s[42]++;
    Object.values(element.attributes).forEach(({
      name,
      value
    }) => {
      cov_fp2f7me56().f[8]++;
      cov_fp2f7me56().s[43]++;

      if (!shapeAttrs.includes(name)) {
        cov_fp2f7me56().b[14][0]++;
        cov_fp2f7me56().s[44]++;
        path.setAttribute(name, value);
      } else {
        cov_fp2f7me56().b[14][1]++;
      }
    });
  } else {
    cov_fp2f7me56().b[13][1]++;
    cov_fp2f7me56().s[45]++;
    Object.assign(config, element);
  } // set d


  let description;
  const {
    round
  } = (cov_fp2f7me56().s[46]++, defaultOptions);
  cov_fp2f7me56().s[47]++;

  if (type === 'circle') {
    cov_fp2f7me56().b[15][0]++;
    cov_fp2f7me56().s[48]++;
    description = pathToString(getCirclePath(config), round);
  } else {
    cov_fp2f7me56().b[15][1]++;
    cov_fp2f7me56().s[49]++;

    if (type === 'ellipse') {
      cov_fp2f7me56().b[16][0]++;
      cov_fp2f7me56().s[50]++;
      description = pathToString(getEllipsePath(config), round);
    } else {
      cov_fp2f7me56().b[16][1]++;
      cov_fp2f7me56().s[51]++;

      if (['polyline', 'polygon'].includes(type)) {
        cov_fp2f7me56().b[17][0]++;
        cov_fp2f7me56().s[52]++;
        description = pathToString(getPolyPath(config), round);
      } else {
        cov_fp2f7me56().b[17][1]++;
        cov_fp2f7me56().s[53]++;

        if (type === 'rect') {
          cov_fp2f7me56().b[18][0]++;
          cov_fp2f7me56().s[54]++;
          description = pathToString(getRectanglePath(config), round);
        } else {
          cov_fp2f7me56().b[18][1]++;
          cov_fp2f7me56().s[55]++;

          if (type === 'line') {
            cov_fp2f7me56().b[19][0]++;
            cov_fp2f7me56().s[56]++;
            description = pathToString(getLinePath(config), round);
          } else {
            cov_fp2f7me56().b[19][1]++;
            cov_fp2f7me56().s[57]++;

            if (type === 'glyph') {
              cov_fp2f7me56().b[20][0]++;
              cov_fp2f7me56().s[58]++;
              description = isElement ? (cov_fp2f7me56().b[21][0]++, element.getAttribute('d')) : (cov_fp2f7me56().b[21][1]++, element.type);
            } else {
              cov_fp2f7me56().b[20][1]++;
            }
          }
        }
      }
    }
  } // replace target element


  cov_fp2f7me56().s[59]++;

  if (description) {
    cov_fp2f7me56().b[22][0]++;
    cov_fp2f7me56().s[60]++;
    path.setAttribute('d', description);
    cov_fp2f7me56().s[61]++;

    if ((cov_fp2f7me56().b[24][0]++, replace) && (cov_fp2f7me56().b[24][1]++, isElement)) {
      cov_fp2f7me56().b[23][0]++;
      cov_fp2f7me56().s[62]++;
      element.before(path, element);
      cov_fp2f7me56().s[63]++;
      element.remove();
    } else {
      cov_fp2f7me56().b[23][1]++;
    }

    cov_fp2f7me56().s[64]++;
    return path;
  } else {
    cov_fp2f7me56().b[22][1]++;
  }

  cov_fp2f7me56().s[65]++;
  return false;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNoYXBlVG9QYXRoLmpzIl0sIm5hbWVzIjpbInBhdGhUb1N0cmluZyIsImRlZmF1bHRPcHRpb25zIiwic2hhcGVQYXJhbXMiLCJjaXJjbGUiLCJlbGxpcHNlIiwicmVjdCIsInBvbHlnb24iLCJwb2x5bGluZSIsImdseXBoIiwiZ2V0TGluZVBhdGgiLCJhdHRyIiwieDEiLCJ5MSIsIngyIiwieTIiLCJnZXRQb2x5UGF0aCIsInBhdGhBcnJheSIsInBvaW50cyIsInRyaW0iLCJzcGxpdCIsIm1hcCIsIk51bWJlciIsImluZGV4IiwibGVuZ3RoIiwicHVzaCIsInR5cGUiLCJnZXRDaXJjbGVQYXRoIiwiY3giLCJjeSIsInIiLCJnZXRFbGxpcHNlUGF0aCIsInJ4IiwicnkiLCJnZXRSZWN0YW5nbGVQYXRoIiwieCIsInkiLCJ3Iiwid2lkdGgiLCJoIiwiaGVpZ2h0Iiwic2hhcGVUb1BhdGgiLCJlbGVtZW50IiwicmVwbGFjZSIsInN1cHBvcnRlZFNoYXBlcyIsIk9iamVjdCIsImtleXMiLCJpc0VsZW1lbnQiLCJFbGVtZW50Iiwic29tZSIsInMiLCJ0YWdOYW1lIiwiVHlwZUVycm9yIiwicGF0aCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudE5TIiwiY29uZmlnIiwic2hhcGVBdHRycyIsImZvckVhY2giLCJwIiwiZ2V0QXR0cmlidXRlIiwidmFsdWVzIiwiYXR0cmlidXRlcyIsIm5hbWUiLCJ2YWx1ZSIsImluY2x1ZGVzIiwic2V0QXR0cmlidXRlIiwiYXNzaWduIiwiZGVzY3JpcHRpb24iLCJyb3VuZCIsImJlZm9yZSIsInJlbW92ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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R0FuQzFDLENBcUNwRDs7O0FBckNvRDs7QUFzQ3BELE1BQUkwQyxXQUFKLEVBQWlCO0FBQUE7QUFBQTtBQUNmZixJQUFBQSxJQUFJLENBQUNhLFlBQUwsQ0FBa0IsR0FBbEIsRUFBdUJFLFdBQXZCO0FBRGU7O0FBRWYsUUFBSSw2QkFBQXpCLE9BQU8sa0NBQUlJLFNBQUosQ0FBWCxFQUEwQjtBQUFBO0FBQUE7QUFDeEJMLE1BQUFBLE9BQU8sQ0FBQzRCLE1BQVIsQ0FBZWpCLElBQWYsRUFBcUJYLE9BQXJCO0FBRHdCO0FBRXhCQSxNQUFBQSxPQUFPLENBQUM2QixNQUFSO0FBQ0QsS0FIRDtBQUFBO0FBQUE7O0FBRmU7QUFNZixXQUFPbEIsSUFBUDtBQUNELEdBUEQ7QUFBQTtBQUFBOztBQXRDb0Q7QUE4Q3BELFNBQU8sS0FBUDtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhdGhUb1N0cmluZyBmcm9tICcuLi9jb252ZXJ0L3BhdGhUb1N0cmluZyc7XG5pbXBvcnQgZGVmYXVsdE9wdGlvbnMgZnJvbSAnLi4vb3B0aW9ucy9vcHRpb25zJztcblxuLyoqXG4gKiBTdXBwb3J0ZWQgc2hhcGVzIGFuZCB0aGVpciBzcGVjaWZpYyBwYXJhbWV0ZXJzLlxuICogQHR5cGUge09iamVjdC48c3RyaW5nLCBzdHJpbmdbXT59XG4gKi9cbmNvbnN0IHNoYXBlUGFyYW1zID0ge1xuICBjaXJjbGU6IFsnY3gnLCAnY3knLCAnciddLFxuICBlbGxpcHNlOiBbJ2N4JywgJ2N5JywgJ3J4JywgJ3J5J10sXG4gIHJlY3Q6IFsnd2lkdGgnLCAnaGVpZ2h0JywgJ3gnLCAneScsICdyeCcsICdyeSddLFxuICBwb2x5Z29uOiBbJ3BvaW50cyddLFxuICBwb2x5bGluZTogWydwb2ludHMnXSxcbiAgZ2x5cGg6IFtdLFxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGBwYXRoQXJyYXlgIGZyb20gbGluZSBhdHRyaWJ1dGVzLlxuICpcbiAqIEBwYXJhbSB7U1ZHUGF0aC5saW5lQXR0cn0gYXR0ciBzaGFwZSBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJucyB7U1ZHUGF0aC5wYXRoQXJyYXl9IGEgbmV3IGxpbmUgYHBhdGhBcnJheWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldExpbmVQYXRoKGF0dHIpIHtcbiAgY29uc3Qge1xuICAgIHgxLCB5MSwgeDIsIHkyLFxuICB9ID0gYXR0cjtcbiAgcmV0dXJuIFtbJ00nLCB4MSwgeTFdLCBbJ0wnLCB4MiwgeTJdXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGBwYXRoQXJyYXlgIGxpa2UgZnJvbSBwb2x5bGluZS9wb2x5Z29uIGF0dHJpYnV0ZXMuXG4gKlxuICogQHBhcmFtIHtTVkdQYXRoLnBvbHlBdHRyfSBhdHRyIHNoYXBlIGNvbmZpZ3VyYXRpb25cbiAqIEByZXR1cm4ge1NWR1BhdGgucGF0aEFycmF5fSBhIG5ldyBwb2x5Z29uL3BvbHlsaW5lIGBwYXRoQXJyYXlgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRQb2x5UGF0aChhdHRyKSB7XG4gIC8qKiBAdHlwZSB7U1ZHUGF0aC5wYXRoQXJyYXl9ICovXG4gIC8vIEB0cy1pZ25vcmUgLS0gaXQncyBhbiBlbXB0eSBgcGF0aEFycmF5YFxuICBjb25zdCBwYXRoQXJyYXkgPSBbXTtcbiAgY29uc3QgcG9pbnRzID0gYXR0ci5wb2ludHMudHJpbSgpLnNwbGl0KC9bXFxzfCxdLykubWFwKE51bWJlcik7XG5cbiAgbGV0IGluZGV4ID0gMDtcbiAgd2hpbGUgKGluZGV4IDwgcG9pbnRzLmxlbmd0aCkge1xuICAgIHBhdGhBcnJheS5wdXNoKFsoaW5kZXggPyAnTCcgOiAnTScpLCAocG9pbnRzW2luZGV4XSksIChwb2ludHNbaW5kZXggKyAxXSldKTtcbiAgICBpbmRleCArPSAyO1xuICB9XG4gIC8vIEB0cy1pZ25vcmUgLS0gaXQncyBhIGBwYXRoQXJyYXlgXG4gIHJldHVybiBhdHRyLnR5cGUgPT09ICdwb2x5Z29uJyA/IFsuLi5wYXRoQXJyYXksIFsneiddXSA6IHBhdGhBcnJheTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGBwYXRoQXJyYXlgIGZyb20gY2lyY2xlIGF0dHJpYnV0ZXMuXG4gKlxuICogQHBhcmFtIHtTVkdQYXRoLmNpcmNsZUF0dHJ9IGF0dHIgc2hhcGUgY29uZmlndXJhdGlvblxuICogQHJldHVybiB7U1ZHUGF0aC5wYXRoQXJyYXl9IGEgY2lyY2xlIGBwYXRoQXJyYXlgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRDaXJjbGVQYXRoKGF0dHIpIHtcbiAgY29uc3Qge1xuICAgIGN4LCBjeSwgcixcbiAgfSA9IGF0dHI7XG5cbiAgcmV0dXJuIFtcbiAgICBbJ00nLCAoY3ggLSByKSwgY3ldLFxuICAgIFsnYScsIHIsIHIsIDAsIDEsIDAsICgyICogciksIDBdLFxuICAgIFsnYScsIHIsIHIsIDAsIDEsIDAsICgtMiAqIHIpLCAwXSxcbiAgXTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGBwYXRoQXJyYXlgIGZyb20gZWxsaXBzZSBhdHRyaWJ1dGVzLlxuICpcbiAqIEBwYXJhbSB7U1ZHUGF0aC5lbGxpcHNlQXR0cn0gYXR0ciBzaGFwZSBjb25maWd1cmF0aW9uXG4gKiBAcmV0dXJuIHtTVkdQYXRoLnBhdGhBcnJheX0gYW4gZWxsaXBzZSBgcGF0aEFycmF5YFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxsaXBzZVBhdGgoYXR0cikge1xuICBjb25zdCB7XG4gICAgY3gsIGN5LCByeCwgcnksXG4gIH0gPSBhdHRyO1xuXG4gIHJldHVybiBbXG4gICAgWydNJywgKGN4IC0gcngpLCBjeV0sXG4gICAgWydhJywgcngsIHJ5LCAwLCAxLCAwLCAoMiAqIHJ4KSwgMF0sXG4gICAgWydhJywgcngsIHJ5LCAwLCAxLCAwLCAoLTIgKiByeCksIDBdLFxuICBdO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBuZXcgYHBhdGhBcnJheWAgbGlrZSBmcm9tIHJlY3QgYXR0cmlidXRlcy5cbiAqXG4gKiBAcGFyYW0ge1NWR1BhdGgucmVjdEF0dHJ9IGF0dHIgb2JqZWN0IHdpdGggcHJvcGVydGllcyBhYm92ZVxuICogQHJldHVybiB7U1ZHUGF0aC5wYXRoQXJyYXl9IGEgbmV3IGBwYXRoQXJyYXlgIGZyb20gYDxyZWN0PmAgYXR0cmlidXRlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmVjdGFuZ2xlUGF0aChhdHRyKSB7XG4gIGNvbnN0IHggPSArYXR0ci54IHx8IDA7XG4gIGNvbnN0IHkgPSArYXR0ci55IHx8IDA7XG4gIGNvbnN0IHcgPSArYXR0ci53aWR0aDtcbiAgY29uc3QgaCA9ICthdHRyLmhlaWdodDtcbiAgbGV0IHJ4ID0gK2F0dHIucng7XG4gIGxldCByeSA9ICthdHRyLnJ5O1xuXG4gIC8vIFZhbGlkaXR5IGNoZWNrcyBmcm9tIGh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9zaGFwZXMuaHRtbCNSZWN0RWxlbWVudDpcbiAgaWYgKHJ4IHx8IHJ5KSB7XG4gICAgcnggPSAhcnggPyByeSA6IHJ4O1xuICAgIHJ5ID0gIXJ5ID8gcnggOiByeTtcblxuICAgIGlmIChyeCAqIDIgPiB3KSByeCAtPSAocnggKiAyIC0gdykgLyAyO1xuICAgIGlmIChyeSAqIDIgPiBoKSByeSAtPSAocnkgKiAyIC0gaCkgLyAyO1xuXG4gICAgcmV0dXJuIFtcbiAgICAgIFsnTScsIHggKyByeCwgeV0sXG4gICAgICBbJ2gnLCB3IC0gcnggKiAyXSxcbiAgICAgIFsncycsIHJ4LCAwLCByeCwgcnldLFxuICAgICAgWyd2JywgaCAtIHJ5ICogMl0sXG4gICAgICBbJ3MnLCAwLCByeSwgLXJ4LCByeV0sXG4gICAgICBbJ2gnLCAtdyArIHJ4ICogMl0sXG4gICAgICBbJ3MnLCAtcngsIDAsIC1yeCwgLXJ5XSxcbiAgICAgIFsndicsIC1oICsgcnkgKiAyXSxcbiAgICAgIFsncycsIDAsIC1yeSwgcngsIC1yeV0sXG4gICAgXTtcbiAgfVxuXG4gIHJldHVybiBbXG4gICAgWydNJywgeCwgeV0sXG4gICAgWydoJywgd10sXG4gICAgWyd2JywgaF0sXG4gICAgWydIJywgeF0sXG4gICAgWydaJ10sXG4gIF07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBgPHBhdGg+YCBlbGVtZW50IGNyZWF0ZWQgZnJvbSBhdHRyaWJ1dGVzIG9mIGEgYDxsaW5lPmAsIGA8cG9seWxpbmU+YCxcbiAqIGA8cG9seWdvbj5gLCBgPHJlY3Q+YCwgYDxlbGxpcHNlPmAsIGA8Y2lyY2xlPmAgb3IgYDxnbHlwaD5gLiBJZiBgcmVwbGFjZWAgcGFyYW1ldGVyXG4gKiBpcyBgdHJ1ZWAsIGl0IHdpbGwgcmVwbGFjZSB0aGUgdGFyZ2V0LlxuICpcbiAqIEl0IGNhbiBhbHNvIHdvcmsgd2l0aCBhbiBvcHRpb25zIG9iamVjdCxcbiAqIEBzZWUgU1ZHUGF0aC5zaGFwZU9wc1xuICpcbiAqIFRoZSBuZXdseSBjcmVhdGVkIGA8cGF0aD5gIGVsZW1lbnQga2VlcHMgYWxsIG5vbi1zcGVjaWZpY1xuICogYXR0cmlidXRlcyBsaWtlIGBjbGFzc2AsIGBmaWxsYCwgZXRjLlxuICpcbiAqIEBwYXJhbSB7U1ZHUGF0aC5zaGFwZVR5cGVzIHwgU1ZHUGF0aC5zaGFwZU9wc30gZWxlbWVudCB0YXJnZXQgc2hhcGVcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHJlcGxhY2Ugb3B0aW9uIHRvIHJlcGxhY2UgdGFyZ2V0XG4gKiBAcmV0dXJuIHtTVkdQYXRoRWxlbWVudCB8IGJvb2xlYW59IHRoZSBuZXdseSBjcmVhdGVkIGA8cGF0aD5gIGVsZW1lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gc2hhcGVUb1BhdGgoZWxlbWVudCwgcmVwbGFjZSkge1xuICBjb25zdCBzdXBwb3J0ZWRTaGFwZXMgPSBPYmplY3Qua2V5cyhzaGFwZVBhcmFtcyk7XG4gIGNvbnN0IGlzRWxlbWVudCA9IGVsZW1lbnQgaW5zdGFuY2VvZiBFbGVtZW50O1xuXG4gIGlmIChpc0VsZW1lbnQgJiYgIXN1cHBvcnRlZFNoYXBlcy5zb21lKChzKSA9PiBlbGVtZW50LnRhZ05hbWUgPT09IHMpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKGBzaGFwZVRvUGF0aDogXCIke2VsZW1lbnR9XCIgaXMgbm90IFNWR0VsZW1lbnRgKTtcbiAgfVxuXG4gIGNvbnN0IHBhdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJywgJ3BhdGgnKTtcbiAgLyoqIEB0eXBlIHtzdHJpbmd9ICovXG4gIGNvbnN0IHR5cGUgPSBpc0VsZW1lbnQgPyBlbGVtZW50LnRhZ05hbWUgOiBlbGVtZW50LnR5cGU7XG4gIC8qKiBAdHlwZSB7YW55fSBkaXNhYmxlcyBUUyBjaGVja2luZyBmb3Igc29tZXRoaW5nIHRoYXQncyBzcGVjaWZpYyB0byBzaGFwZSAqL1xuICBjb25zdCBjb25maWcgPSB7fTtcbiAgY29uZmlnLnR5cGUgPSB0eXBlO1xuXG4gIGlmIChpc0VsZW1lbnQpIHtcbiAgICBjb25zdCBzaGFwZUF0dHJzID0gc2hhcGVQYXJhbXNbdHlwZV07XG4gICAgc2hhcGVBdHRycy5mb3JFYWNoKChwKSA9PiB7IGNvbmZpZ1twXSA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKHApOyB9KTtcbiAgICAvLyBzZXQgbm8tc3BlY2lmaWMgc2hhcGUgYXR0cmlidXRlczogZmlsbCwgc3Ryb2tlLCBldGNcbiAgICBPYmplY3QudmFsdWVzKGVsZW1lbnQuYXR0cmlidXRlcykuZm9yRWFjaCgoeyBuYW1lLCB2YWx1ZSB9KSA9PiB7XG4gICAgICBpZiAoIXNoYXBlQXR0cnMuaW5jbHVkZXMobmFtZSkpIHBhdGguc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3QuYXNzaWduKGNvbmZpZywgZWxlbWVudCk7XG4gIH1cblxuICAvLyBzZXQgZFxuICBsZXQgZGVzY3JpcHRpb247XG4gIGNvbnN0IHsgcm91bmQgfSA9IGRlZmF1bHRPcHRpb25zO1xuXG4gIGlmICh0eXBlID09PSAnY2lyY2xlJykgZGVzY3JpcHRpb24gPSBwYXRoVG9TdHJpbmcoZ2V0Q2lyY2xlUGF0aChjb25maWcpLCByb3VuZCk7XG4gIGVsc2UgaWYgKHR5cGUgPT09ICdlbGxpcHNlJykgZGVzY3JpcHRpb24gPSBwYXRoVG9TdHJpbmcoZ2V0RWxsaXBzZVBhdGgoY29uZmlnKSwgcm91bmQpO1xuICBlbHNlIGlmIChbJ3BvbHlsaW5lJywgJ3BvbHlnb24nXS5pbmNsdWRlcyh0eXBlKSkgZGVzY3JpcHRpb24gPSBwYXRoVG9TdHJpbmcoZ2V0UG9seVBhdGgoY29uZmlnKSwgcm91bmQpO1xuICBlbHNlIGlmICh0eXBlID09PSAncmVjdCcpIGRlc2NyaXB0aW9uID0gcGF0aFRvU3RyaW5nKGdldFJlY3RhbmdsZVBhdGgoY29uZmlnKSwgcm91bmQpO1xuICBlbHNlIGlmICh0eXBlID09PSAnbGluZScpIGRlc2NyaXB0aW9uID0gcGF0aFRvU3RyaW5nKGdldExpbmVQYXRoKGNvbmZpZyksIHJvdW5kKTtcbiAgZWxzZSBpZiAodHlwZSA9PT0gJ2dseXBoJykgZGVzY3JpcHRpb24gPSBpc0VsZW1lbnQgPyBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZCcpIDogZWxlbWVudC50eXBlO1xuXG4gIC8vIHJlcGxhY2UgdGFyZ2V0IGVsZW1lbnRcbiAgaWYgKGRlc2NyaXB0aW9uKSB7XG4gICAgcGF0aC5zZXRBdHRyaWJ1dGUoJ2QnLCBkZXNjcmlwdGlvbik7XG4gICAgaWYgKHJlcGxhY2UgJiYgaXNFbGVtZW50KSB7XG4gICAgICBlbGVtZW50LmJlZm9yZShwYXRoLCBlbGVtZW50KTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cbiJdfQ==