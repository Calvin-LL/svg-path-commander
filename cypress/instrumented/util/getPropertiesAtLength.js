function cov_1h39p7s19q() {
  var path = "D:\\! At Work\\5OpenSource\\svg-path-commander\\src\\util\\getPropertiesAtLength.js";
  var hash = "6576d3c8c4a586d82825265180cf1d336d5bd5b8";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\! At Work\\5OpenSource\\svg-path-commander\\src\\util\\getPropertiesAtLength.js",
    statementMap: {
      "0": {
        start: {
          line: 13,
          column: 20
        },
        end: {
          line: 13,
          column: 46
        }
      },
      "1": {
        start: {
          line: 14,
          column: 19
        },
        end: {
          line: 14,
          column: 21
        }
      },
      "2": {
        start: {
          line: 16,
          column: 17
        },
        end: {
          line: 16,
          column: 31
        }
      },
      "3": {
        start: {
          line: 18,
          column: 19
        },
        end: {
          line: 18,
          column: 43
        }
      },
      "4": {
        start: {
          line: 19,
          column: 14
        },
        end: {
          line: 19,
          column: 33
        }
      },
      "5": {
        start: {
          line: 20,
          column: 24
        },
        end: {
          line: 20,
          column: 25
        }
      },
      "6": {
        start: {
          line: 21,
          column: 15
        },
        end: {
          line: 21,
          column: 16
        }
      },
      "7": {
        start: {
          line: 23,
          column: 16
        },
        end: {
          line: 23,
          column: 28
        }
      },
      "8": {
        start: {
          line: 24,
          column: 17
        },
        end: {
          line: 24,
          column: 34
        }
      },
      "9": {
        start: {
          line: 25,
          column: 16
        },
        end: {
          line: 25,
          column: 24
        }
      },
      "10": {
        start: {
          line: 28,
          column: 2
        },
        end: {
          line: 33,
          column: 3
        }
      },
      "11": {
        start: {
          line: 29,
          column: 4
        },
        end: {
          line: 32,
          column: 6
        }
      },
      "12": {
        start: {
          line: 35,
          column: 2
        },
        end: {
          line: 45,
          column: 3
        }
      },
      "13": {
        start: {
          line: 36,
          column: 4
        },
        end: {
          line: 36,
          column: 38
        }
      },
      "14": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 47
        }
      },
      "15": {
        start: {
          line: 40,
          column: 4
        },
        end: {
          line: 40,
          column: 42
        }
      },
      "16": {
        start: {
          line: 41,
          column: 4
        },
        end: {
          line: 44,
          column: 6
        }
      },
      "17": {
        start: {
          line: 47,
          column: 2
        },
        end: {
          line: 59,
          column: 3
        }
      },
      "18": {
        start: {
          line: 48,
          column: 4
        },
        end: {
          line: 48,
          column: 30
        }
      },
      "19": {
        start: {
          line: 49,
          column: 4
        },
        end: {
          line: 49,
          column: 37
        }
      },
      "20": {
        start: {
          line: 51,
          column: 4
        },
        end: {
          line: 51,
          column: 47
        }
      },
      "21": {
        start: {
          line: 53,
          column: 4
        },
        end: {
          line: 53,
          column: 42
        }
      },
      "22": {
        start: {
          line: 54,
          column: 4
        },
        end: {
          line: 54,
          column: 33
        }
      },
      "23": {
        start: {
          line: 55,
          column: 4
        },
        end: {
          line: 57,
          column: 7
        }
      },
      "24": {
        start: {
          line: 58,
          column: 4
        },
        end: {
          line: 58,
          column: 15
        }
      },
      "25": {
        start: {
          line: 62,
          column: 2
        },
        end: {
          line: 62,
          column: 66
        }
      },
      "26": {
        start: {
          line: 62,
          column: 51
        },
        end: {
          line: 62,
          column: 64
        }
      }
    },
    fnMap: {
      "0": {
        name: "getPropertiesAtLength",
        decl: {
          start: {
            line: 12,
            column: 24
          },
          end: {
            line: 12,
            column: 45
          }
        },
        loc: {
          start: {
            line: 12,
            column: 67
          },
          end: {
            line: 63,
            column: 1
          }
        },
        line: 12
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 62,
            column: 23
          },
          end: {
            line: 62,
            column: 24
          }
        },
        loc: {
          start: {
            line: 62,
            column: 51
          },
          end: {
            line: 62,
            column: 64
          }
        },
        line: 62
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 28,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 28,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        }, {
          start: {
            line: 28,
            column: 2
          },
          end: {
            line: 33,
            column: 3
          }
        }],
        line: 28
      },
      "1": {
        loc: {
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 28,
            column: 59
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 28,
            column: 6
          },
          end: {
            line: 28,
            column: 16
          }
        }, {
          start: {
            line: 28,
            column: 20
          },
          end: {
            line: 28,
            column: 29
          }
        }, {
          start: {
            line: 28,
            column: 33
          },
          end: {
            line: 28,
            column: 59
          }
        }],
        line: 28
      },
      "2": {
        loc: {
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 45,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 45,
            column: 3
          }
        }, {
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 45,
            column: 3
          }
        }],
        line: 35
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0
    },
    f: {
      "0": 0,
      "1": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0, 0],
      "2": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "6576d3c8c4a586d82825265180cf1d336d5bd5b8"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_1h39p7s19q = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_1h39p7s19q();
import parsePathString from '../parser/parsePathString';
import getTotalLength from './getTotalLength';
/**
 * Returns the segment, its index and length as well as
 * the length to that segment at a given length in a path.
 *
 * @param {string | SVGPath.pathArray} pathInput target `pathArray`
 * @param {number=} distance the given length
 * @returns {SVGPath.segmentProperties=} the requested properties
 */

export default function getPropertiesAtLength(pathInput, distance) {
  cov_1h39p7s19q().f[0]++;
  const pathArray = (cov_1h39p7s19q().s[0]++, parsePathString(pathInput));
  const segments = (cov_1h39p7s19q().s[1]++, []);
  let pathTemp = (cov_1h39p7s19q().s[2]++, [...pathArray]); // @ts-ignore

  let pathLength = (cov_1h39p7s19q().s[3]++, getTotalLength(pathTemp));
  let index = (cov_1h39p7s19q().s[4]++, pathTemp.length - 1);
  let lengthAtSegment = (cov_1h39p7s19q().s[5]++, 0);
  let length = (cov_1h39p7s19q().s[6]++, 0);
  /** @type {SVGPath.pathSegment} */

  let segment = (cov_1h39p7s19q().s[7]++, pathArray[0]);
  const [x, y] = (cov_1h39p7s19q().s[8]++, segment.slice(-2));
  const point = (cov_1h39p7s19q().s[9]++, {
    x,
    y
  }); // If the path is empty, return 0.

  cov_1h39p7s19q().s[10]++;

  if ((cov_1h39p7s19q().b[1][0]++, index <= 0) || (cov_1h39p7s19q().b[1][1]++, !distance) || (cov_1h39p7s19q().b[1][2]++, !Number.isFinite(distance))) {
    cov_1h39p7s19q().b[0][0]++;
    cov_1h39p7s19q().s[11]++;
    return {
      // @ts-ignore
      segment,
      index: 0,
      length,
      point,
      lengthAtSegment
    };
  } else {
    cov_1h39p7s19q().b[0][1]++;
  }

  cov_1h39p7s19q().s[12]++;

  if (distance >= pathLength) {
    cov_1h39p7s19q().b[2][0]++;
    cov_1h39p7s19q().s[13]++;
    pathTemp = pathArray.slice(0, -1); // @ts-ignore

    cov_1h39p7s19q().s[14]++;
    lengthAtSegment = getTotalLength(pathTemp); // @ts-ignore

    cov_1h39p7s19q().s[15]++;
    length = pathLength - lengthAtSegment;
    cov_1h39p7s19q().s[16]++;
    return {
      // @ts-ignore
      segment: pathArray[index],
      index,
      length,
      lengthAtSegment
    };
  } else {
    cov_1h39p7s19q().b[2][1]++;
  }

  cov_1h39p7s19q().s[17]++;

  while (index > 0) {
    cov_1h39p7s19q().s[18]++;
    segment = pathTemp[index];
    cov_1h39p7s19q().s[19]++;
    pathTemp = pathTemp.slice(0, -1); // @ts-ignore -- `pathTemp` === `pathSegment[]` === `pathArray`

    cov_1h39p7s19q().s[20]++;
    lengthAtSegment = getTotalLength(pathTemp); // @ts-ignore

    cov_1h39p7s19q().s[21]++;
    length = pathLength - lengthAtSegment;
    cov_1h39p7s19q().s[22]++;
    pathLength = lengthAtSegment;
    cov_1h39p7s19q().s[23]++;
    segments.push({
      segment,
      index,
      length,
      lengthAtSegment
    });
    cov_1h39p7s19q().s[24]++;
    index -= 1;
  } // @ts-ignore


  cov_1h39p7s19q().s[25]++;
  return segments.find(({
    lengthAtSegment: l
  }) => {
    cov_1h39p7s19q().f[1]++;
    cov_1h39p7s19q().s[26]++;
    return l <= distance;
  });
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdldFByb3BlcnRpZXNBdExlbmd0aC5qcyJdLCJuYW1lcyI6WyJwYXJzZVBhdGhTdHJpbmciLCJnZXRUb3RhbExlbmd0aCIsImdldFByb3BlcnRpZXNBdExlbmd0aCIsInBhdGhJbnB1dCIsImRpc3RhbmNlIiwicGF0aEFycmF5Iiwic2VnbWVudHMiLCJwYXRoVGVtcCIsInBhdGhMZW5ndGgiLCJpbmRleCIsImxlbmd0aCIsImxlbmd0aEF0U2VnbWVudCIsInNlZ21lbnQiLCJ4IiwieSIsInNsaWNlIiwicG9pbnQiLCJOdW1iZXIiLCJpc0Zpbml0ZSIsInB1c2giLCJmaW5kIiwibCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlWTs7Ozs7Ozs7O0FBZlosT0FBT0EsZUFBUCxNQUE0QiwyQkFBNUI7QUFDQSxPQUFPQyxjQUFQLE1BQTJCLGtCQUEzQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtB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VCxDQUFjLENBQUM7QUFBRVQsSUFBQUEsZUFBZSxFQUFFVTtBQUFuQixHQUFELEtBQTRCO0FBQUE7QUFBQTtBQUFBLFdBQUFBLENBQUMsSUFBSWpCLFFBQUw7QUFBYSxHQUF2RCxDQUFQO0FBQ0QiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcGFyc2VQYXRoU3RyaW5nIGZyb20gJy4uL3BhcnNlci9wYXJzZVBhdGhTdHJpbmcnO1xuaW1wb3J0IGdldFRvdGFsTGVuZ3RoIGZyb20gJy4vZ2V0VG90YWxMZW5ndGgnO1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHNlZ21lbnQsIGl0cyBpbmRleCBhbmQgbGVuZ3RoIGFzIHdlbGwgYXNcbiAqIHRoZSBsZW5ndGggdG8gdGhhdCBzZWdtZW50IGF0IGEgZ2l2ZW4gbGVuZ3RoIGluIGEgcGF0aC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZyB8IFNWR1BhdGgucGF0aEFycmF5fSBwYXRoSW5wdXQgdGFyZ2V0IGBwYXRoQXJyYXlgXG4gKiBAcGFyYW0ge251bWJlcj19IGRpc3RhbmNlIHRoZSBnaXZlbiBsZW5ndGhcbiAqIEByZXR1cm5zIHtTVkdQYXRoLnNlZ21lbnRQcm9wZXJ0aWVzPX0gdGhlIHJlcXVlc3RlZCBwcm9wZXJ0aWVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFByb3BlcnRpZXNBdExlbmd0aChwYXRoSW5wdXQsIGRpc3RhbmNlKSB7XG4gIGNvbnN0IHBhdGhBcnJheSA9IHBhcnNlUGF0aFN0cmluZyhwYXRoSW5wdXQpO1xuICBjb25zdCBzZWdtZW50cyA9IFtdO1xuXG4gIGxldCBwYXRoVGVtcCA9IFsuLi5wYXRoQXJyYXldO1xuICAvLyBAdHMtaWdub3JlXG4gIGxldCBwYXRoTGVuZ3RoID0gZ2V0VG90YWxMZW5ndGgocGF0aFRlbXApO1xuICBsZXQgaW5kZXggPSBwYXRoVGVtcC5sZW5ndGggLSAxO1xuICBsZXQgbGVuZ3RoQXRTZWdtZW50ID0gMDtcbiAgbGV0IGxlbmd0aCA9IDA7XG4gIC8qKiBAdHlwZSB7U1ZHUGF0aC5wYXRoU2VnbWVudH0gKi9cbiAgbGV0IHNlZ21lbnQgPSBwYXRoQXJyYXlbMF07XG4gIGNvbnN0IFt4LCB5XSA9IHNlZ21lbnQuc2xpY2UoLTIpO1xuICBjb25zdCBwb2ludCA9IHsgeCwgeSB9O1xuXG4gIC8vIElmIHRoZSBwYXRoIGlzIGVtcHR5LCByZXR1cm4gMC5cbiAgaWYgKGluZGV4IDw9IDAgfHwgIWRpc3RhbmNlIHx8ICFOdW1iZXIuaXNGaW5pdGUoZGlzdGFuY2UpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHNlZ21lbnQsIGluZGV4OiAwLCBsZW5ndGgsIHBvaW50LCBsZW5ndGhBdFNlZ21lbnQsXG4gICAgfTtcbiAgfVxuXG4gIGlmIChkaXN0YW5jZSA+PSBwYXRoTGVuZ3RoKSB7XG4gICAgcGF0aFRlbXAgPSBwYXRoQXJyYXkuc2xpY2UoMCwgLTEpO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZW5ndGhBdFNlZ21lbnQgPSBnZXRUb3RhbExlbmd0aChwYXRoVGVtcCk7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGxlbmd0aCA9IHBhdGhMZW5ndGggLSBsZW5ndGhBdFNlZ21lbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIHNlZ21lbnQ6IHBhdGhBcnJheVtpbmRleF0sIGluZGV4LCBsZW5ndGgsIGxlbmd0aEF0U2VnbWVudCxcbiAgICB9O1xuICB9XG5cbiAgd2hpbGUgKGluZGV4ID4gMCkge1xuICAgIHNlZ21lbnQgPSBwYXRoVGVtcFtpbmRleF07XG4gICAgcGF0aFRlbXAgPSBwYXRoVGVtcC5zbGljZSgwLCAtMSk7XG4gICAgLy8gQHRzLWlnbm9yZSAtLSBgcGF0aFRlbXBgID09PSBgcGF0aFNlZ21lbnRbXWAgPT09IGBwYXRoQXJyYXlgXG4gICAgbGVuZ3RoQXRTZWdtZW50ID0gZ2V0VG90YWxMZW5ndGgocGF0aFRlbXApO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBsZW5ndGggPSBwYXRoTGVuZ3RoIC0gbGVuZ3RoQXRTZWdtZW50O1xuICAgIHBhdGhMZW5ndGggPSBsZW5ndGhBdFNlZ21lbnQ7XG4gICAgc2VnbWVudHMucHVzaCh7XG4gICAgICBzZWdtZW50LCBpbmRleCwgbGVuZ3RoLCBsZW5ndGhBdFNlZ21lbnQsXG4gICAgfSk7XG4gICAgaW5kZXggLT0gMTtcbiAgfVxuXG4gIC8vIEB0cy1pZ25vcmVcbiAgcmV0dXJuIHNlZ21lbnRzLmZpbmQoKHsgbGVuZ3RoQXRTZWdtZW50OiBsIH0pID0+IGwgPD0gZGlzdGFuY2UpO1xufVxuIl19