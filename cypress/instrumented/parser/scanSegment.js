function cov_qdv0x4d78() {
  var path = "D:\\! At Work\\5OpenSource\\svg-path-commander\\src\\parser\\scanSegment.js";
  var hash = "08e36667b731466fd9a291d6f4ec9da37308b24d";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "D:\\! At Work\\5OpenSource\\svg-path-commander\\src\\parser\\scanSegment.js",
    statementMap: {
      "0": {
        start: {
          line: 19,
          column: 36
        },
        end: {
          line: 19,
          column: 40
        }
      },
      "1": {
        start: {
          line: 20,
          column: 18
        },
        end: {
          line: 20,
          column: 45
        }
      },
      "2": {
        start: {
          line: 21,
          column: 20
        },
        end: {
          line: 21,
          column: 63
        }
      },
      "3": {
        start: {
          line: 23,
          column: 2
        },
        end: {
          line: 23,
          column: 28
        }
      },
      "4": {
        start: {
          line: 25,
          column: 2
        },
        end: {
          line: 28,
          column: 3
        }
      },
      "5": {
        start: {
          line: 26,
          column: 4
        },
        end: {
          line: 26,
          column: 91
        }
      },
      "6": {
        start: {
          line: 27,
          column: 4
        },
        end: {
          line: 27,
          column: 11
        }
      },
      "7": {
        start: {
          line: 30,
          column: 2
        },
        end: {
          line: 30,
          column: 18
        }
      },
      "8": {
        start: {
          line: 31,
          column: 2
        },
        end: {
          line: 31,
          column: 19
        }
      },
      "9": {
        start: {
          line: 33,
          column: 2
        },
        end: {
          line: 33,
          column: 17
        }
      },
      "10": {
        start: {
          line: 35,
          column: 2
        },
        end: {
          line: 39,
          column: 3
        }
      },
      "11": {
        start: {
          line: 37,
          column: 4
        },
        end: {
          line: 37,
          column: 26
        }
      },
      "12": {
        start: {
          line: 38,
          column: 4
        },
        end: {
          line: 38,
          column: 11
        }
      },
      "13": {
        start: {
          line: 41,
          column: 2
        },
        end: {
          line: 68,
          column: 3
        }
      },
      "14": {
        start: {
          line: 42,
          column: 4
        },
        end: {
          line: 58,
          column: 5
        }
      },
      "15": {
        start: {
          line: 42,
          column: 17
        },
        end: {
          line: 42,
          column: 26
        }
      },
      "16": {
        start: {
          line: 43,
          column: 6
        },
        end: {
          line: 44,
          column: 27
        }
      },
      "17": {
        start: {
          line: 43,
          column: 57
        },
        end: {
          line: 43,
          column: 72
        }
      },
      "18": {
        start: {
          line: 44,
          column: 11
        },
        end: {
          line: 44,
          column: 27
        }
      },
      "19": {
        start: {
          line: 46,
          column: 6
        },
        end: {
          line: 48,
          column: 7
        }
      },
      "20": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 47,
          column: 15
        }
      },
      "21": {
        start: {
          line: 49,
          column: 6
        },
        end: {
          line: 49,
          column: 33
        }
      },
      "22": {
        start: {
          line: 51,
          column: 6
        },
        end: {
          line: 51,
          column: 23
        }
      },
      "23": {
        start: {
          line: 54,
          column: 6
        },
        end: {
          line: 57,
          column: 7
        }
      },
      "24": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 55,
          column: 24
        }
      },
      "25": {
        start: {
          line: 56,
          column: 8
        },
        end: {
          line: 56,
          column: 25
        }
      },
      "26": {
        start: {
          line: 60,
          column: 4
        },
        end: {
          line: 62,
          column: 5
        }
      },
      "27": {
        start: {
          line: 61,
          column: 6
        },
        end: {
          line: 61,
          column: 12
        }
      },
      "28": {
        start: {
          line: 65,
          column: 4
        },
        end: {
          line: 67,
          column: 5
        }
      },
      "29": {
        start: {
          line: 66,
          column: 6
        },
        end: {
          line: 66,
          column: 12
        }
      },
      "30": {
        start: {
          line: 70,
          column: 2
        },
        end: {
          line: 70,
          column: 24
        }
      }
    },
    fnMap: {
      "0": {
        name: "scanSegment",
        decl: {
          start: {
            line: 18,
            column: 24
          },
          end: {
            line: 18,
            column: 35
          }
        },
        loc: {
          start: {
            line: 18,
            column: 42
          },
          end: {
            line: 71,
            column: 1
          }
        },
        line: 18
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 28,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 28,
            column: 3
          }
        }, {
          start: {
            line: 25,
            column: 2
          },
          end: {
            line: 28,
            column: 3
          }
        }],
        line: 25
      },
      "1": {
        loc: {
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        }, {
          start: {
            line: 35,
            column: 2
          },
          end: {
            line: 39,
            column: 3
          }
        }],
        line: 35
      },
      "2": {
        loc: {
          start: {
            line: 43,
            column: 6
          },
          end: {
            line: 44,
            column: 27
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 43,
            column: 6
          },
          end: {
            line: 44,
            column: 27
          }
        }, {
          start: {
            line: 43,
            column: 6
          },
          end: {
            line: 44,
            column: 27
          }
        }],
        line: 43
      },
      "3": {
        loc: {
          start: {
            line: 43,
            column: 10
          },
          end: {
            line: 43,
            column: 55
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 43,
            column: 10
          },
          end: {
            line: 43,
            column: 31
          }
        }, {
          start: {
            line: 43,
            column: 36
          },
          end: {
            line: 43,
            column: 43
          }
        }, {
          start: {
            line: 43,
            column: 47
          },
          end: {
            line: 43,
            column: 54
          }
        }],
        line: 43
      },
      "4": {
        loc: {
          start: {
            line: 46,
            column: 6
          },
          end: {
            line: 48,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 46,
            column: 6
          },
          end: {
            line: 48,
            column: 7
          }
        }, {
          start: {
            line: 46,
            column: 6
          },
          end: {
            line: 48,
            column: 7
          }
        }],
        line: 46
      },
      "5": {
        loc: {
          start: {
            line: 54,
            column: 6
          },
          end: {
            line: 57,
            column: 7
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 54,
            column: 6
          },
          end: {
            line: 57,
            column: 7
          }
        }, {
          start: {
            line: 54,
            column: 6
          },
          end: {
            line: 57,
            column: 7
          }
        }],
        line: 54
      },
      "6": {
        loc: {
          start: {
            line: 54,
            column: 10
          },
          end: {
            line: 54,
            column: 71
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 54,
            column: 10
          },
          end: {
            line: 54,
            column: 26
          }
        }, {
          start: {
            line: 54,
            column: 30
          },
          end: {
            line: 54,
            column: 71
          }
        }],
        line: 54
      },
      "7": {
        loc: {
          start: {
            line: 60,
            column: 4
          },
          end: {
            line: 62,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 60,
            column: 4
          },
          end: {
            line: 62,
            column: 5
          }
        }, {
          start: {
            line: 60,
            column: 4
          },
          end: {
            line: 62,
            column: 5
          }
        }],
        line: 60
      },
      "8": {
        loc: {
          start: {
            line: 65,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 65,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        }, {
          start: {
            line: 65,
            column: 4
          },
          end: {
            line: 67,
            column: 5
          }
        }],
        line: 65
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0
    },
    f: {
      "0": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0]
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "08e36667b731466fd9a291d6f4ec9da37308b24d"
  };
  var coverage = global[gcv] || (global[gcv] = {});

  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }

  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_qdv0x4d78 = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}

cov_qdv0x4d78();
import finalizeSegment from './finalizeSegment';
import paramCounts from './paramsCount';
import scanFlag from './scanFlag';
import scanParam from './scanParam';
import skipSpaces from './skipSpaces';
import isPathCommand from './isPathCommand';
import isDigitStart from './isDigitStart';
import isArcCommand from './isArcCommand';
import invalidPathValue from './invalidPathValue';
import error from './error';
/**
 * Scans every character in the path string to determine
 * where a segment starts and where it ends.
 *
 * @param {SVGPath.PathParser} path the `PathParser` instance
 */

export default function scanSegment(path) {
  cov_qdv0x4d78().f[0]++;
  const {
    max,
    pathValue,
    index
  } = (cov_qdv0x4d78().s[0]++, path);
  const cmdCode = (cov_qdv0x4d78().s[1]++, pathValue.charCodeAt(index));
  const reqParams = (cov_qdv0x4d78().s[2]++, paramCounts[pathValue[index].toLowerCase()]);
  cov_qdv0x4d78().s[3]++;
  path.segmentStart = index;
  cov_qdv0x4d78().s[4]++;

  if (!isPathCommand(cmdCode)) {
    cov_qdv0x4d78().b[0][0]++;
    cov_qdv0x4d78().s[5]++;
    path.err = `${error}: ${invalidPathValue} "${pathValue[index]}" is not a path command`;
    cov_qdv0x4d78().s[6]++;
    return;
  } else {
    cov_qdv0x4d78().b[0][1]++;
  }

  cov_qdv0x4d78().s[7]++;
  path.index += 1;
  cov_qdv0x4d78().s[8]++;
  skipSpaces(path);
  cov_qdv0x4d78().s[9]++;
  path.data = [];
  cov_qdv0x4d78().s[10]++;

  if (!reqParams) {
    cov_qdv0x4d78().b[1][0]++;
    cov_qdv0x4d78().s[11]++;
    // Z
    finalizeSegment(path);
    cov_qdv0x4d78().s[12]++;
    return;
  } else {
    cov_qdv0x4d78().b[1][1]++;
  }

  cov_qdv0x4d78().s[13]++;

  for (;;) {
    cov_qdv0x4d78().s[14]++;

    for (let i = (cov_qdv0x4d78().s[15]++, reqParams); i > 0; i -= 1) {
      cov_qdv0x4d78().s[16]++;

      if ((cov_qdv0x4d78().b[3][0]++, isArcCommand(cmdCode)) && ((cov_qdv0x4d78().b[3][1]++, i === 3) || (cov_qdv0x4d78().b[3][2]++, i === 4))) {
        cov_qdv0x4d78().b[2][0]++;
        cov_qdv0x4d78().s[17]++;
        scanFlag(path);
      } else {
        cov_qdv0x4d78().b[2][1]++;
        cov_qdv0x4d78().s[18]++;
        scanParam(path);
      }

      cov_qdv0x4d78().s[19]++;

      if (path.err.length) {
        cov_qdv0x4d78().b[4][0]++;
        cov_qdv0x4d78().s[20]++;
        return;
      } else {
        cov_qdv0x4d78().b[4][1]++;
      }

      cov_qdv0x4d78().s[21]++;
      path.data.push(path.param);
      cov_qdv0x4d78().s[22]++;
      skipSpaces(path); // after ',' param is mandatory

      cov_qdv0x4d78().s[23]++;

      if ((cov_qdv0x4d78().b[6][0]++, path.index < max) && (cov_qdv0x4d78().b[6][1]++, pathValue.charCodeAt(path.index) === 0x2C)
      /* , */
      ) {
        cov_qdv0x4d78().b[5][0]++;
        cov_qdv0x4d78().s[24]++;
        path.index += 1;
        cov_qdv0x4d78().s[25]++;
        skipSpaces(path);
      } else {
        cov_qdv0x4d78().b[5][1]++;
      }
    }

    cov_qdv0x4d78().s[26]++;

    if (path.index >= path.max) {
      cov_qdv0x4d78().b[7][0]++;
      cov_qdv0x4d78().s[27]++;
      break;
    } else {
      cov_qdv0x4d78().b[7][1]++;
    } // Stop on next segment


    cov_qdv0x4d78().s[28]++;

    if (!isDigitStart(pathValue.charCodeAt(path.index))) {
      cov_qdv0x4d78().b[8][0]++;
      cov_qdv0x4d78().s[29]++;
      break;
    } else {
      cov_qdv0x4d78().b[8][1]++;
    }
  }

  cov_qdv0x4d78().s[30]++;
  finalizeSegment(path);
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjYW5TZWdtZW50LmpzIl0sIm5hbWVzIjpbImZpbmFsaXplU2VnbWVudCIsInBhcmFtQ291bnRzIiwic2NhbkZsYWciLCJzY2FuUGFyYW0iLCJza2lwU3BhY2VzIiwiaXNQYXRoQ29tbWFuZCIsImlzRGlnaXRTdGFydCIsImlzQXJjQ29tbWFuZCIsImludmFsaWRQYXRoVmFsdWUiLCJlcnJvciIsInNjYW5TZWdtZW50IiwicGF0aCIsIm1heCIsInBhdGhWYWx1ZSIsImluZGV4IiwiY21kQ29kZSIsImNoYXJDb2RlQXQiLCJyZXFQYXJhbXMiLCJ0b0xvd2VyQ2FzZSIsInNlZ21lbnRTdGFydCIsImVyciIsImRhdGEiLCJpIiwibGVuZ3RoIiwicHVzaCIsInBhcmFtIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFlWTs7Ozs7Ozs7O0FBZlosT0FBT0EsZUFBUCxNQUE0QixtQkFBNUI7QUFDQSxPQUFPQyxXQUFQLE1BQXdCLGVBQXhCO0FBQ0EsT0FBT0MsUUFBUCxNQUFxQixZQUFyQjtBQUNBLE9BQU9DLFNBQVAsTUFBc0IsYUFBdEI7QUFDQSxPQUFPQyxVQUFQLE1BQXVCLGNBQXZCO0FBQ0EsT0FBT0MsYUFBUCxNQUEwQixpQkFBMUI7QUFDQSxPQUFPQyxZQUFQLE1BQXlCLGdCQUF6QjtBQUNBLE9BQU9DLFlBQVAsTUFBeUIsZ0JBQXpCO0FBQ0EsT0FBT0MsZ0JBQVAsTUFBNkIsb0JBQTdCO0FBQ0EsT0FBT0MsS0FBUCxNQUFrQixTQUFsQjtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQSxlQUFlLFNBQVNDLFdBQVQsQ0FBcUJDLElBQXJCLEVBQTJCO0FBQUE7QUFDeEMsUUFBTTtBQUFFQyxJQUFBQSxHQUFGO0FBQU9DLElBQUFBLFNBQVA7QUFBa0JDLElBQUFBO0FBQWxCLCtCQUE0QkgsSUFBNUIsQ0FBTjtBQUNBLFFBQU1JLE9BQU8sNEJBQUdGLFNBQVMsQ0FBQ0csVUFBVixDQUFxQkYsS0FBckIsQ0FBSCxDQUFiO0FBQ0EsUUFBTUcsU0FBUyw0QkFBR2hCLFdBQVcsQ0FBQ1ksU0FBUyxDQUFDQyxLQUFELENBQVQsQ0FBaUJJLFdBQWpCLEVBQUQsQ0FBZCxDQUFmO0FBSHdDO0FBS3hDUCxFQUFBQSxJQUFJLENBQUNRLFlBQUwsR0FBb0JMLEtBQXBCO0FBTHdDOztBQU94QyxNQUFJLENBQUNULGFBQWEsQ0FBQ1UsT0FBRCxDQUFsQixFQUE2QjtBQUFBO0FBQUE7QUFDM0JKLElBQUFBLElBQUksQ0FBQ1MsR0FBTCxHQUFZLEdBQUVYLEtBQU0sS0FBSUQsZ0JBQWlCLEtBQUlLLFNBQVMsQ0FBQ0MsS0FBRCxDQUFRLHlCQUE5RDtBQUQyQjtBQUUzQjtBQUNELEdBSEQ7QUFBQTtBQUFBOztBQVB3QztBQVl4Q0gsRUFBQUEsSUFBSSxDQUFDRyxLQUFMLElBQWMsQ0FBZDtBQVp3QztBQWF4Q1YsRUFBQUEsVUFBVSxDQUFDTyxJQUFELENBQVY7QUFid0M7QUFleENBLEVBQUFBLElBQUksQ0FBQ1UsSUFBTCxHQUFZLEVBQVo7QUFmd0M7O0FBaUJ4QyxNQUFJLENBQUNKLFNBQUwsRUFBZ0I7QUFBQTtBQUFBO0FBQ2Q7QUFDQWpCLElBQUFBLGVBQWUsQ0FBQ1csSUFBRCxDQUFmO0FBRmM7QUFHZDtBQUNELEdBSkQ7QUFBQTtBQUFBOztBQWpCd0M7O0FBdUJ4QyxXQUFTO0FBQUE7O0FBQ1AsU0FBSyxJQUFJVyxDQUFDLDZCQUFHTCxTQUFILENBQVYsRUFBd0JLLENBQUMsR0FBRyxDQUE1QixFQUErQkEsQ0FBQyxJQUFJLENBQXBDLEVBQXVDO0FBQUE7O0FBQ3JDLFVBQUksNEJBQUFmLFlBQVksQ0FBQ1EsT0FBRCxDQUFaLE1BQTBCLDRCQUFBTyxDQUFDLEtBQUssQ0FBTixpQ0FBV0EsQ0FBQyxLQUFLLENBQWpCLENBQTFCLENBQUosRUFBbUQ7QUFBQTtBQUFBO0FBQUFwQixRQUFBQSxRQUFRLENBQUNTLElBQUQsQ0FBUjtBQUFlLE9BQWxFLE1BQ0s7QUFBQTtBQUFBO0FBQUFSLFFBQUFBLFNBQVMsQ0FBQ1EsSUFBRCxDQUFUO0FBQWdCOztBQUZnQjs7QUFJckMsVUFBSUEsSUFBSSxDQUFDUyxHQUFMLENBQVNHLE1BQWIsRUFBcUI7QUFBQTtBQUFBO0FBQ25CO0FBQ0QsT0FGRDtBQUFBO0FBQUE7O0FBSnFDO0FBT3JDWixNQUFBQSxJQUFJLENBQUNVLElBQUwsQ0FBVUcsSUFBVixDQUFlYixJQUFJLENBQUNjLEtBQXBCO0FBUHFDO0FBU3JDckIsTUFBQUEsVUFBVSxDQUFDTyxJQUFELENBQVYsQ0FUcUMsQ0FXckM7O0FBWHFDOztBQVlyQyxVQUFJLDRCQUFBQSxJQUFJLENBQUNHLEtBQUwsR0FBYUYsR0FBYixpQ0FBb0JDLFNBQVMsQ0FBQ0csVUFBVixDQUFxQkwsSUFBSSxDQUFDRyxLQUExQixNQUFxQyxJQUF6RDtBQUE2RDtBQUFqRSxRQUEwRTtBQUFBO0FBQUE7QUFDeEVILFFBQUFBLElBQUksQ0FBQ0csS0FBTCxJQUFjLENBQWQ7QUFEd0U7QUFFeEVWLFFBQUFBLFVBQVUsQ0FBQ08sSUFBRCxDQUFWO0FBQ0QsT0FIRDtBQUFBO0FBQUE7QUFJRDs7QUFqQk07O0FBbUJQLFFBQUlBLElBQUksQ0FBQ0csS0FBTCxJQUFjSCxJQUFJLENBQUNDLEdBQXZCLEVBQTRCO0FBQUE7QUFBQTtBQUMxQjtBQUNELEtBRkQ7QUFBQTtBQUFBLEtBbkJPLENBdUJQOzs7QUF2Qk87O0FBd0JQLFFBQUksQ0FBQ04sWUFBWSxDQUFDTyxTQUFTLENBQUNHLFVBQVYsQ0FBcUJMLElBQUksQ0FBQ0csS0FBMUIsQ0FBRCxDQUFqQixFQUFxRDtBQUFBO0FBQUE7QUFDbkQ7QUFDRCxLQUZEO0FBQUE7QUFBQTtBQUdEOztBQWxEdUM7QUFvRHhDZCxFQUFBQSxlQUFlLENBQUNXLElBQUQsQ0FBZjtBQUNEIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGZpbmFsaXplU2VnbWVudCBmcm9tICcuL2ZpbmFsaXplU2VnbWVudCc7XG5pbXBvcnQgcGFyYW1Db3VudHMgZnJvbSAnLi9wYXJhbXNDb3VudCc7XG5pbXBvcnQgc2NhbkZsYWcgZnJvbSAnLi9zY2FuRmxhZyc7XG5pbXBvcnQgc2NhblBhcmFtIGZyb20gJy4vc2NhblBhcmFtJztcbmltcG9ydCBza2lwU3BhY2VzIGZyb20gJy4vc2tpcFNwYWNlcyc7XG5pbXBvcnQgaXNQYXRoQ29tbWFuZCBmcm9tICcuL2lzUGF0aENvbW1hbmQnO1xuaW1wb3J0IGlzRGlnaXRTdGFydCBmcm9tICcuL2lzRGlnaXRTdGFydCc7XG5pbXBvcnQgaXNBcmNDb21tYW5kIGZyb20gJy4vaXNBcmNDb21tYW5kJztcbmltcG9ydCBpbnZhbGlkUGF0aFZhbHVlIGZyb20gJy4vaW52YWxpZFBhdGhWYWx1ZSc7XG5pbXBvcnQgZXJyb3IgZnJvbSAnLi9lcnJvcic7XG5cbi8qKlxuICogU2NhbnMgZXZlcnkgY2hhcmFjdGVyIGluIHRoZSBwYXRoIHN0cmluZyB0byBkZXRlcm1pbmVcbiAqIHdoZXJlIGEgc2VnbWVudCBzdGFydHMgYW5kIHdoZXJlIGl0IGVuZHMuXG4gKlxuICogQHBhcmFtIHtTVkdQYXRoLlBhdGhQYXJzZXJ9IHBhdGggdGhlIGBQYXRoUGFyc2VyYCBpbnN0YW5jZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBzY2FuU2VnbWVudChwYXRoKSB7XG4gIGNvbnN0IHsgbWF4LCBwYXRoVmFsdWUsIGluZGV4IH0gPSBwYXRoO1xuICBjb25zdCBjbWRDb2RlID0gcGF0aFZhbHVlLmNoYXJDb2RlQXQoaW5kZXgpO1xuICBjb25zdCByZXFQYXJhbXMgPSBwYXJhbUNvdW50c1twYXRoVmFsdWVbaW5kZXhdLnRvTG93ZXJDYXNlKCldO1xuXG4gIHBhdGguc2VnbWVudFN0YXJ0ID0gaW5kZXg7XG5cbiAgaWYgKCFpc1BhdGhDb21tYW5kKGNtZENvZGUpKSB7XG4gICAgcGF0aC5lcnIgPSBgJHtlcnJvcn06ICR7aW52YWxpZFBhdGhWYWx1ZX0gXCIke3BhdGhWYWx1ZVtpbmRleF19XCIgaXMgbm90IGEgcGF0aCBjb21tYW5kYDtcbiAgICByZXR1cm47XG4gIH1cblxuICBwYXRoLmluZGV4ICs9IDE7XG4gIHNraXBTcGFjZXMocGF0aCk7XG5cbiAgcGF0aC5kYXRhID0gW107XG5cbiAgaWYgKCFyZXFQYXJhbXMpIHtcbiAgICAvLyBaXG4gICAgZmluYWxpemVTZWdtZW50KHBhdGgpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAoOzspIHtcbiAgICBmb3IgKGxldCBpID0gcmVxUGFyYW1zOyBpID4gMDsgaSAtPSAxKSB7XG4gICAgICBpZiAoaXNBcmNDb21tYW5kKGNtZENvZGUpICYmIChpID09PSAzIHx8IGkgPT09IDQpKSBzY2FuRmxhZyhwYXRoKTtcbiAgICAgIGVsc2Ugc2NhblBhcmFtKHBhdGgpO1xuXG4gICAgICBpZiAocGF0aC5lcnIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhdGguZGF0YS5wdXNoKHBhdGgucGFyYW0pO1xuXG4gICAgICBza2lwU3BhY2VzKHBhdGgpO1xuXG4gICAgICAvLyBhZnRlciAnLCcgcGFyYW0gaXMgbWFuZGF0b3J5XG4gICAgICBpZiAocGF0aC5pbmRleCA8IG1heCAmJiBwYXRoVmFsdWUuY2hhckNvZGVBdChwYXRoLmluZGV4KSA9PT0gMHgyQy8qICwgKi8pIHtcbiAgICAgICAgcGF0aC5pbmRleCArPSAxO1xuICAgICAgICBza2lwU3BhY2VzKHBhdGgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChwYXRoLmluZGV4ID49IHBhdGgubWF4KSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICAvLyBTdG9wIG9uIG5leHQgc2VnbWVudFxuICAgIGlmICghaXNEaWdpdFN0YXJ0KHBhdGhWYWx1ZS5jaGFyQ29kZUF0KHBhdGguaW5kZXgpKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgZmluYWxpemVTZWdtZW50KHBhdGgpO1xufVxuIl19