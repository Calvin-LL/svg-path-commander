// SVGPathCommander v0.0.1a | thednp Â© 2020 | MIT-License
function t(e){return e.map((function(e){return Array.isArray(e)?t(e):isNaN(+e)?e:+e}))}var e={decimals:3,round:1};function a(t){t.isClosed="isClosed"in t?t.isClosed:"Z"===t[t.length-1][0].toUpperCase(),t.isAbsolute="isAbsolute"in t?t.isClosed:t.every((function(t){return t[0]===t[0].toUpperCase()}))}function n(n){var r=e.round?n.map((function(t){return t.map((function(t,a){var n=+t,r=Math.pow(10,e.decimals);return a?n%1==0?n:(n*r>>0)/r:t}))})):t(n);return a(r),r}function r(e){if(!e)return null;if(Array.isArray(e))return t(e);var a="\\"+"x09|x0a|x0b|x0c|x0d|x20|xa0|u1680|u180e|u2000|u2001|u2002|u2003|u2004|u2005|u2006|u2007|u2008|u2009|u200a|u202f|u205f|u3000|u2028|u2029".split("|").join("\\"),r=new RegExp("([a-z])["+a+",]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?["+a+"]*,?["+a+"]*)+)","ig"),s=new RegExp("(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)["+a+"]*,?["+a+"]*","ig"),c={a:7,c:6,o:2,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,u:3,z:0},o=[];return e.replace(r,(function(t,e,a){var n=[],r=e.toLowerCase();if(a.replace(s,(function(t,e){return e&&n.push(e)})),n=n.filter((function(t){return t})),"a"!==r&&n.length<c[r])throw Error(r+" path command requires "+c[r]+" coordinates, only "+n.length+" given: ["+n.join(",")+"]");if("m"===r&&n.length>2&&(o.push([e].concat(n.splice(0,2))),r="l",e="m"==e?"l":"L"),"o"===r&&1===n.length&&o.push([e,n[0]]),"r"===r&&o.push([e].concat(n)),"a"===r&&n.length<c[r]){for(var i=0,u=n.length;i<u;i++)(3===i||4===i)&&n[i].length>1&&(u=(n=n.slice(0,i).concat(n[i][0]).concat(n[i].slice(1).replace(/(\-\d|\-\.\d|\.\d*(?=\.))/g,"|$1").split("|"),n.slice(i+1)).filter((function(t){return t}))).length);n.length===c[r]&&o.push([e].concat(n.splice(0,c[r])))}else for(;n.length>=c[r]&&(o.push([e].concat(n.splice(0,c[r]))),c[r]););})),n(o)}function s(t,e){for(var a=[],n=0,r=t.length;r-2*!e>n;n+=2){var s=[{x:+t[n-2],y:+t[n-1]},{x:+t[n],y:+t[n+1]},{x:+t[n+2],y:+t[n+3]},{x:+t[n+4],y:+t[n+5]}];e?n?r-4==n?s[3]={x:+t[0],y:+t[1]}:r-2==n&&(s[2]={x:+t[0],y:+t[1]},s[3]={x:+t[2],y:+t[3]}):s[0]={x:+t[r-2],y:+t[r-1]}:r-4==n?s[3]=s[2]:n||(s[0]={x:+t[n],y:+t[n+1]}),a.push(["C",(-s[0].x+6*s[1].x+s[2].x)/6,(-s[0].y+6*s[1].y+s[2].y)/6,(s[1].x+6*s[2].x-s[3].x)/6,(s[1].y+6*s[2].y-s[3].y)/6,s[2].x,s[2].y])}return a}function c(t,e,a,n,r){var s;if(null==r&&null==n&&(n=a),t=+t,e=+e,a=+a,n=+n,null!=r){var c=Math.PI/180,o=t+a*Math.cos(-n*c),i=t+a*Math.cos(-r*c);s=[["M",o,e+a*Math.sin(-n*c)],["A",a,a,0,+(r-n>180),0,i,e+a*Math.sin(-r*c)]]}else s=[["M",t,e],["m",0,-n],["a",a,n,0,1,1,0,2*n],["a",a,n,0,1,1,0,-2*n],["z"]];return s}function o(t){if(!(t=r(t))||!t.length)return[["M",0,0]];var e=[],a=0,o=0,i=0,u=0,h=0,l=t.length,p=3===t.length&&"M"===t[0][0]&&"R"===t[1][0].toUpperCase()&&"Z"===t[2][0].toUpperCase();"M"===t[0][0]&&(a=+t[0][1],o=+t[0][2],i=a,u=o,h++,e[0]=["M",a,o]);for(var f=function(n){var r=void 0,h=t[n],l=h[0];if(e.push(r=[]),l!==l.toUpperCase())switch(r[0]=l.toUpperCase(),r[0]){case"A":r[1]=h[1],r[2]=h[2],r[3]=h[3],r[4]=h[4],r[5]=h[5],r[6]=+h[6]+a,r[7]=+h[7]+o;break;case"V":r[1]=+h[1]+o;break;case"H":r[1]=+h[1]+a;break;case"R":for(var f=[a,o].concat(h.slice(1)),y=2,g=f.length;y<g;y++)f[y]=+f[y]+a,f[++y]=+f[y]+o;e.pop(),e=e.concat(s(f,p));break;case"O":e.pop(),(f=c(a,o,+h[1],+h[2])).push(f[0]),e=e.concat(f);break;case"U":e.pop(),e=e.concat(c(a,o,h[1],h[2],h[3])),r=["U"].concat(e[e.length-1].slice(-2));break;case"M":i=+h[1]+a,u=+h[2]+o;default:for(var x=1,v=h.length;x<v;x++)r[x]=+h[x]+(x%2?a:o)}else"R"===l?(dots=[a,o].concat(h.slice(1)),e.pop(),e=e.concat(s(dots,p)),r=["R"].concat(h.slice(-2))):"O"===l?(e.pop(),dots=c(a,o,+h[1],+h[2]),dots.push(dots[0]),e=e.concat(dots)):"U"===l?(e.pop(),e=e.concat(c(a,o,+h[1],+h[2],+h[3])),r=["U"].concat(e[e.length-1].slice(-2))):h.map((function(t){return r.push(t)}));if("O"!==(l=l.toUpperCase()))switch(r[0]){case"Z":a=i,o=u;break;case"H":a=+r[1];break;case"V":o=+r[1];break;case"M":i=+r[r.length-2],u=+r[r.length-1];default:a=+r[r.length-2],o=+r[r.length-1]}},y=h;y<l;y++)f(y);return n(e)}function i(t){t=r(t);var e=[],a=0,s=0,c=0,o=0,i=0,u=t.length;"M"===t[0][0]&&(a=+t[0][1],s=+t[0][2],c=a,o=s,i++,e.push(["M",a,s]));for(var h=function(n){var r=void 0,i=t[n];if(e.push(r=[]),i[0]!==i[0].toLowerCase())switch(r[0]=i[0].toLowerCase(),r[0]){case"a":r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=+i[6]-a,r[7]=+i[7]-s;break;case"v":r[1]=+i[1]-s;break;case"m":c=+i[1],o=+i[2];default:for(var u=1,h=i.length;u<h;u++)r[u]=+i[u]-(u%2?a:s)}else r=[],e[n]=r,"m"===i[0]&&(c=+i[1]+a,o=+i[2]+s),i.map((function(t){return e[n].push(t)}));var l=e[n].length;switch(e[n][0]){case"z":a=c,s=o;break;case"h":a+=e[n][l-1];break;case"v":s+=e[n][l-1];break;default:a+=e[n][l-2],s+=e[n][l-1]}},l=i;l<u;l++)h(l);return n(e)}function u(t,e,a){return{x:t*Math.cos(a)-e*Math.sin(a),y:t*Math.sin(a)+e*Math.cos(a)}}function h(t,e,a,n,r,s,c,o,i,l){var p,f,y,g,x,v=120*Math.PI/180,M=Math.PI/180*(r||0),b=[];if(l)f=l[0],y=l[1],g=l[2],x=l[3];else{t=(p=u(t,e,-M)).x,e=p.y;var m=(t-(o=(p=u(o,i,-M)).x))/2,C=(e-(i=p.y))/2,d=m*m/(a*a)+C*C/(n*n);d>1&&(a*=d=Math.sqrt(d),n*=d);var k=a*a,q=n*n,A=(s==c?-1:1)*Math.sqrt(Math.abs((k*q-k*C*C-q*m*m)/(k*C*C+q*m*m)));g=A*a*C/n+(t+o)/2,x=A*-n*m/a+(e+i)/2,f=Math.asin((e-x)/n),y=Math.asin((i-x)/n),f=t<g?Math.PI-f:f,y=o<g?Math.PI-y:y,f<0&&(f=2*Math.PI+f),y<0&&(y=2*Math.PI+y),c&&f>y&&(f-=2*Math.PI),!c&&y>f&&(y-=2*Math.PI)}var w=y-f;if(Math.abs(w)>v){var P=y,V=o,U=i;y=f+v*(c&&y>f?1:-1),o=g+a*Math.cos(y),i=x+n*Math.sin(y),b=h(o,i,a,n,r,0,c,V,U,[y,P,g,x])}w=y-f;var I=Math.cos(f),R=Math.sin(f),L=Math.cos(y),T=Math.sin(y),S=Math.tan(w/4),Z=4/3*a*S,j=4/3*n*S,z=[t,e],H=[t+Z*R,e-j*I],D=[o+Z*T,i-j*L],F=[o,i];return H[0]=2*z[0]-H[0],H[1]=2*z[1]-H[1],l?[H,D,F].concat(b):(b=[H,D,F].concat(b).join().split(",")).map((function(t,e){return e%2?u(b[e-1],t,M).y:u(t,b[e+1],M).x}))}function l(t,e,a,n,r,s){return[1/3*t+2/3*a,1/3*e+2/3*n,1/3*r+2/3*a,1/3*s+2/3*n,r,s]}function p(t,e,a,n){return[t,e,a,n,a,n]}function f(t,e,a){var n,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(h.apply(0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==a||"S"==a?(n=2*e.x-e.bx,r=2*e.y-e.by):(n=e.x,r=e.y),t=["C",n,r].concat(t.slice(1));break;case"T":"Q"==a||"T"==a?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(l(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(l(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(p(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(p(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(p(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(p(e.x,e.y,e.X,e.Y))}return t}function y(t,e,a,n,r){t&&e&&"M"===t[r][0]&&"M"!==e[r][0]&&(e.splice(r,0,["M",n.x,n.y]),a.bx=0,a.by=0,a.x=t[r][1],a.y=t[r][2])}function g(t,e,a,n,r){if(t[r].length>7){t[r].shift();for(var s=t[r];s.length;)a[r]="A",e&&(n[r]="A"),t.splice(r++,0,["C"].concat(s.splice(0,6)));t.splice(r,1)}}function x(t,e){for(var a=o(t),r=e&&o(e),s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},c={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},i=[],u=[],h="",l="",p=Math.max(a.length,r&&r.length||0),x=0;x<p;x++){a[x]&&(h=a[x][0]),"C"!==h&&(i[x]=h,x&&(l=i[x-1])),a[x]=f(a[x],s,l),"A"!==i[x]&&"C"===h&&(i[x]="C"),g(a,r,i,u,x),p=Math.max(a.length,r&&r.length||0),r&&(r[x]&&(h=r[x][0]),"C"!==h&&(u[x]=h,x&&(l=u[x-1])),r[x]=f(r[x],c,l),"A"!==u[x]&&"C"===h&&(u[x]="C"),g(r,a,u,i,x),p=Math.max(a.length,r&&r.length||0)),y(a,r,s,c,x),r&&y(r,a,c,s,x),p=Math.max(a.length,r&&r.length||0);var v=a[x],M=r&&r[x],b=v.length,m=r&&M.length;s.x=v[b-2],s.y=v[b-1],s.bx=parseFloat(v[b-4])||s.x,s.by=parseFloat(v[b-3])||s.y,c.bx=r&&(parseFloat(M[m-4])||c.x),c.by=r&&(parseFloat(M[m-3])||c.y),c.x=r&&M[m-2],c.y=r&&M[m-1]}return r?[n(a),n(r)]:n(a)}function v(t){return t.map((function(t){return"string"==typeof t?t:t.shift()+t.join(",")})).join(" ")}function M(e){var a,n,r,s,c,o,i=x(e),u=i.length-1,h=0,l=0,p=[],f=[];return[i[0]].concat(i.slice(1,u).map((function(e,y){return l=(h=u-1-y)-1<0?u:h-1,p=t(i[h]),f=t(i[l]),c=f[f.length-2],o=f[f.length-1],a=p[3],n=p[4],r=p[1],s=p[2],[e[0],a,n,r,s,c,o]})))}function b(t){var e,a,n,r,s,c,i,u=x(t),h=o(t).isClosed,l=[];return M(u).map((function(t,o){switch(a=t[1],n=t[2],r=t[3],s=t[4],c=t[t.length-2],i=t[t.length-1],e=3===t.length?"M":n===s===i?"H":a===r===c?"V":r===c&&s===i?"L":t[0]){case"M":l=["M",c,i];break;case"L":l=[e,c,i];break;case"V":l=[e,i];break;case"H":l=[e,c];break;case"Z":l=[e];break;case"C":default:l=[e,a,n,r,s,c,i]}return l})).concat(h&&[["Z"]])}function m(t){return t.replace(/(m|M)/g,"|$1").split("|").map((function(t){return t.trim()})).filter((function(t){return t}))}var C=function(e){return this.original=e,this.pathKey="path-"+Math.floor(9999*Math.random()),this.pathCache={},this.segments=r(e),this.pathValue=v(t(this.segments)),this};function d(t){var e=t[0],a=t[1],n=t[2],r=t[3],s=t[4],c=t[5],o=t[6],i=t[7];return 3*((i-a)*(n+s)-(o-e)*(r+c)+r*(e-s)-n*(a-c)+i*(s+e/3)-o*(c+a/3))/20}function k(t){var e=0;return t.map((function(a,n){var r=t[0===n?t.length-1:n-1];e+=d(r.slice(r.length-2).concat(a.slice(1)))})),e}C.prototype.toAbsolute=function(){var e=o(this.segments);return this.segments=t(e),this.pathValue=v(t(e)),this},C.prototype.toRelative=function(){var e=i(this.segments);return this.segments=t(e),this.pathValue=v(t(e)),this},C.prototype.toCurve=function(){var e=x(this.segments);return this.segments=t(e),this.pathValue=v(t(e)),this},C.prototype.reverse=function(){var e=m(this.pathValue).length>1,n=e&&m(v(o(this.segments))).map((function(t){return b(t)})),r=e?[].concat.apply([],n):b(this.segments);return!("isClosed"in r)&&a(r),this.segments=t(r),this.pathValue=v(t(r)),this},C.prototype.toString=function(){return this.pathValue};var q={a2c:h,catmullRom2bezier:s,clonePath:t,ellipsePath:c,fixArc:g,fixM:y,getArea:d,getDrawDirection:function(t){if(Array.isArray(t)&&t.slice(1).every((function(t){return t[0].toUpperCase()===t[0]})))return k(t)>=0;throw"getDrawDirection expects a curveArray"},getShapeArea:k,l2c:p,q2c:l,rotateVector:u,splitPath:m,pathToAbsolute:o,pathToRelative:i,pathToCurve:x,pathToString:v,parsePathString:r,processPath:f,reverseCurve:M,reversePath:b,options:e};for(var A in q)C[A]=q[A];export default C;
