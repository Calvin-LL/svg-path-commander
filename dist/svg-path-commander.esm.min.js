// SVGPathCommander v0.0.7 | thednp Â© 2020 | MIT-License
var t={origin:null,decimals:3,round:1};function e(t){return t.map((function(t){return Array.isArray(t)?e(t):isNaN(+t)?t:+t}))}function a(a,r){var n=isNaN(+r)?t.round&&t.decimals:+r;return n?a.map((function(t){return t.map((function(t,e){var a=+t,r=Math.pow(10,n);return e?a%1==0?a:Math.round(a*r)/r:t}))})):e(a)}function r(t){return this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err="",this}var n={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function i(t){var e=t.pathValue[t.segmentStart],a=e.toLowerCase(),r=t.data;if("m"===a&&r.length>2&&(t.segments.push([e,r[0],r[1]]),r=r.slice(2),a="l",e="m"===e?"l":"L"),"r"===a)t.segments.push([e].concat(r));else for(;r.length>=n[a]&&(t.segments.push([e].concat(r.splice(0,n[a]))),n[a]););}function s(t){var e=t.pathValue.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="Invalid path value")}function c(t){return t>=48&&t<=57}function u(t){var e,a=t.index,r=a,n=t.max,i=!1,s=!1,u=!1,o=!1;if(r>=n)t.err="Invalid path value: missing param "+t.pathValue[r];else if(43!==(e=t.pathValue.charCodeAt(r))&&45!==e||(e=++r<n?t.pathValue.charCodeAt(r):0),c(e)||46===e){if(46!==e){if(i=48===e,e=++r<n?t.pathValue.charCodeAt(r):0,i&&r<n&&e&&c(e))return void(t.err="Invalid path value: "+t.pathValue[a]+" illegal number");for(;r<n&&c(t.pathValue.charCodeAt(r));)r++,s=!0;e=r<n?t.pathValue.charCodeAt(r):0}if(46===e){for(o=!0,r++;c(t.pathValue.charCodeAt(r));)r++,u=!0;e=r<n?t.pathValue.charCodeAt(r):0}if(101===e||69===e){if(o&&!s&&!u)return void(t.err="Invalid path value: "+t.pathValue[r]+" invalid float exponent");if(43!==(e=++r<n?t.pathValue.charCodeAt(r):0)&&45!==e||r++,!(r<n&&c(t.pathValue.charCodeAt(r))))return void(t.err="Invalid path value: "+t.pathValue[r]+" invalid float exponent");for(;r<n&&c(t.pathValue.charCodeAt(r));)r++}t.index=r,t.param=+t.pathValue.slice(a,r)}else t.err="Invalid path value: "+t.pathValue[r]+" not number"}function o(t){return t>=48&&t<=57||43===t||45===t||46===t}function h(t){for(;t.index<t.max&&(10===(e=t.pathValue.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0);)t.index++;var e}function l(t){var e,a,r,c,l=t.max;if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(e=t.pathValue.charCodeAt(t.index)))if(r=n[t.pathValue[t.index].toLowerCase()],t.index++,h(t),t.data=[],r){for(a=!1;;){for(c=r;c>0;c--){if(97!=(32|e)||3!==c&&4!==c?u(t):s(t),t.err.length)return;t.data.push(t.param),h(t),a=!1,t.index<l&&44===t.pathValue.charCodeAt(t.index)&&(t.index++,h(t),a=!0)}if(!a){if(t.index>=t.max)break;if(!o(t.pathValue.charCodeAt(t.index)))break}}i(t)}else i(t);else t.err="Invalid path value: "+t.pathValue[t.index]+" not a path command"}function p(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return n[e]===t.length-1&&/[achlmrqstvz]/g.test(e)}))}function f(t,n){if(p(t))return e(t);var i=new r(t);for(h(i);i.index<i.max&&!i.err.length;)l(i);return i.err.length?i.segments=[]:i.segments.length&&("mM".indexOf(i.segments[0][0])<0?(i.err="Invalid path value: missing M/m",i.segments=[]):i.segments[0][0]="M"),a(i.segments,n)}function x(t){return p(t)&&t.every((function(t){return t[0]===t[0].toUpperCase()}))}function y(t,r){if(x(t))return e(t);t=f(t);var n=[],i=0,s=0,c=0,u=0,o=0,h=t.length,l="",p=[],y=0,m=[];"M"===t[0][0]&&(i=+t[0][1],s=+t[0][2],c=i,u=s,o++,n[0]=["M",i,s]);for(var v=o;v<h;v++){if(l=(p=t[v])[0],n.push(m=[]),l!==l.toUpperCase())switch(m[0]=l.toUpperCase(),m[0]){case"A":p.slice(1,-2).concat([+p[6]+i,+p[7]+s]).map((function(t){return m.push(t)}));break;case"V":m[1]=+p[1]+s;break;case"H":m[1]=+p[1]+i;break;case"M":c=+p[1]+i,u=+p[2]+s;default:p.map((function(t,e){return e&&m.push(+t+(e%2?i:s))}))}else p.map((function(t){return m.push(t)}));switch(y=m.length,m[0]){case"Z":i=c,s=u;break;case"H":i=+m[1];break;case"V":s=+m[1];break;case"M":c=+m[y-2],u=+m[y-1];default:i=+m[y-2],s=+m[y-1]}}return a(n,r)}function m(t){return p(t)&&t.slice(1).every((function(t){return t[0]===t[0].toLowerCase()}))}function v(t,r){if(m(t))return e(t);t=f(t);var n=[],i=0,s=0,c=0,u=0,o=0,h=[],l="",p=[],x=0,y=t.length;"M"===t[0][0]&&(s=+t[0][1],c=+t[0][2],u=s,o=c,x++,n.push(["M",s,c]));for(var v=function(e){if(h=t[e],l=h[0],n.push(p=[]),l!==l.toLowerCase())switch(p[0]=l.toLowerCase(),p[0]){case"a":h.slice(1,-2).concat([+h[6]-s,+h[7]-c]).map((function(t){return p.push(t)}));break;case"v":p[1]=+h[1]-c;break;case"m":u=+h[1],o=+h[2];default:h.map((function(t,e){return e&&p.push(+t-(e%2?s:c))}))}else p=[],n[e]=p,"m"===l&&(u=+h[1]+s,o=+h[2]+c),h.map((function(t){return n[e].push(t)}));switch(i=n[e].length,n[e][0]){case"z":s=u,c=o;break;case"h":s+=n[e][i-1];break;case"v":c+=n[e][i-1];break;default:s+=n[e][i-2],c+=n[e][i-1]}},d=x;d<y;d++)v(d);return a(n,r)}function d(t){return t.map((function(t){return t[0].concat(t.slice(1).join(" "))})).join("")}function M(t,e,a){var r,n;switch(t[0]){case"S":return n=function(t,e,a,r,n){return"CS".indexOf(n)>-1?{x1:2*t-a,y1:2*e-r}:{x1:t,y1:e}}(e.x1,e.y1,e.x2,e.y2,a),e.x1=n.x1,e.y1=n.y1,["C",n.x1,n.y1].concat(t.slice(1));case"T":return r=function(t,e,a,r,n){return"QT".indexOf(n)>-1?{qx:2*t-a,qy:2*e-r}:{qx:t,qy:e}}(e.x1,e.y1,e.qx,e.qy,a),e.qx=r.qx,e.qy=r.qy,["Q",e.qx,e.qy].concat(t.slice(1));case"Q":e.qx=t[1],e.qy=t[2];case"H":return["L",t[1],e.y1];case"V":return["L",e.x1,t[1]]}return t}function g(t,e){for(var r,n,i={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},s=[],c="",u="",o=(t=y(t)).length,h=0;h<o;h++)t[h]&&(c=t[h][0]),s[h]=c,h&&(u=s[h-1]),t[h]=M(t[h],i,u),n=(r=t[h]).length,i.x1=+r[n-2],i.y1=+r[n-1],i.x2=+r[n-4]||i.x1,i.y2=+r[n-3]||i.y1;return a(t,e)}function A(t,e){var a=y(t,e),r="Z"===a.slice(-1)[0][0],n=[],i=0;return n=g(a).map((function(t,e){return i=t.length,{seg:a[e],n:t,c:a[e][0],x:t[i-2],y:t[i-1]}})).map((function(t,e,a){var n=t.seg,i=t.n,s=e&&a[e-1],c=a[e+1]&&a[e+1],u=t.c,o=a.length,h=e?a[e-1].x:a[o-1].x,l=e?a[e-1].y:a[o-1].y,p=[];switch(u){case"M":p=r?["Z"]:[u,h,l];break;case"A":p=n.slice(0,-3).concat([1===n[5]?0:1,h,l]);break;case"C":p=c&&"S"===c.c?["S",n[1],n[2],h,l]:[u,n[3],n[4],n[1],n[2],h,l];break;case"S":p=s&&"CS".indexOf(s.c)>-1&&(!c||c&&"S"!==c.c)?["C",i[3],i[4],i[1],i[2],h,l]:[u,i[1],i[2],h,l];break;case"Q":p=c&&"T"===c.c?["T",h,l]:n.slice(0,-2).concat([h,l]);break;case"T":p=s&&"QT".indexOf(s.c)>-1&&(!c||c&&"T"!==c.c)?["Q",i[1],i[2],h,l]:[u,h,l];break;case"Z":p=["M",h,l];break;case"H":p=[u,h];break;case"V":p=[u,l];break;default:p=n.slice(0,-2).concat([h,l])}return p})),r?n.reverse():[n[0]].concat(n.slice(1).reverse())}function C(t){return t.replace(/(m|M)/g,"|$1").split("|").map((function(t){return t.trim()})).filter((function(t){return t}))}function b(t,e){var a=y(t,e),r=v(t,e);return a.map((function(t,e){return e?t.join("").length<r[e].join("").length?t:r[e]:t}))}function q(t){return t.slice(1).map((function(t,e,a){var r,n,i,s,c,u,o,h,l,p=a[0===e?a.length-1:e-1];return r=p.slice(p.length-2).concat(t.slice(1)),n=r[0],i=r[1],s=r[2],c=r[3],u=r[4],o=r[5],h=r[6],3*(((l=r[7])-i)*(s+u)-(h-n)*(c+o)+c*(n-u)-s*(i-o)+l*(u+n/3)-h*(o+i/3))/20})).reduce((function(t,e){return t+e}),0)}function V(t){return p(t)&&t.slice(1).every((function(t){return"C"===t[0]}))}function w(t,e,a,r,n,i,s,c,u){var o=1-u;return{x:Math.pow(o,3)*t+3*Math.pow(o,2)*u*a+3*o*u*u*n+Math.pow(u,3)*s,y:Math.pow(o,3)*e+3*Math.pow(o,2)*u*r+3*o*u*u*i+Math.pow(u,3)*c}}function k(t,e,a,r,n,i,s,c){var u,o=n-2*a+t-(s-2*n+a),h=2*(a-t)-2*(n-a),l=t-a,p=(-h+Math.sqrt(h*h-4*o*l))/2/o,f=(-h-Math.sqrt(h*h-4*o*l))/2/o,x=[e,c],y=[t,s];return Math.abs(p)>"1e12"&&(p=.5),Math.abs(f)>"1e12"&&(f=.5),p>0&&p<1&&(u=w(t,e,a,r,n,i,s,c,p),y.push(u.x),x.push(u.y)),f>0&&f<1&&(u=w(t,e,a,r,n,i,s,c,f),y.push(u.x),x.push(u.y)),o=i-2*r+e-(c-2*i+r),l=e-r,p=(-(h=2*(r-e)-2*(i-r))+Math.sqrt(h*h-4*o*l))/2/o,f=(-h-Math.sqrt(h*h-4*o*l))/2/o,Math.abs(p)>"1e12"&&(p=.5),Math.abs(f)>"1e12"&&(f=.5),p>0&&p<1&&(u=w(t,e,a,r,n,i,s,c,p),y.push(u.x),x.push(u.y)),f>0&&f<1&&(u=w(t,e,a,r,n,i,s,c,f),y.push(u.x),x.push(u.y)),{min:{x:Math.min.apply(0,y),y:Math.min.apply(0,x)},max:{x:Math.max.apply(0,y),y:Math.max.apply(0,x)}}}function P(t,e,a){if(t[a].length>7){t[a].shift();for(var r=t[a];r.length;)e[a]="A",t.splice(a++,0,["C"].concat(r.splice(0,6)));t.splice(a,1)}}function I(t,e,a){return{x:t*Math.cos(a)-e*Math.sin(a),y:t*Math.sin(a)+e*Math.cos(a)}}function S(t,e,a,r,n,i,s,c,u,o){var h,l,p,f,x,y=120*Math.PI/180,m=Math.PI/180*(n||0),v=[];if(o)l=o[0],p=o[1],f=o[2],x=o[3];else{t=(h=I(t,e,-m)).x,e=h.y;var d=(t-(c=(h=I(c,u,-m)).x))/2,M=(e-(u=h.y))/2,g=d*d/(a*a)+M*M/(r*r);g>1&&(a*=g=Math.sqrt(g),r*=g);var A=a*a,C=r*r,b=(i==s?-1:1)*Math.sqrt(Math.abs((A*C-A*M*M-C*d*d)/(A*M*M+C*d*d)));f=b*a*M/r+(t+c)/2,x=b*-r*d/a+(e+u)/2,l=Math.asin(((e-x)/r).toFixed(9)),p=Math.asin(((u-x)/r).toFixed(9)),l=t<f?Math.PI-l:l,p=c<f?Math.PI-p:p,l<0&&(l=2*Math.PI+l),p<0&&(p=2*Math.PI+p),s&&l>p&&(l-=2*Math.PI),!s&&p>l&&(p-=2*Math.PI)}var q=p-l;if(Math.abs(q)>y){var V=p,w=c,k=u;p=l+y*(s&&p>l?1:-1),c=f+a*Math.cos(p),u=x+r*Math.sin(p),v=S(c,u,a,r,n,0,s,w,k,[p,V,f,x])}q=p-l;var P=Math.cos(l),L=Math.sin(l),N=Math.cos(p),T=Math.sin(p),O=Math.tan(q/4),Q=4/3*a*O,z=4/3*r*O,D=[t,e],H=[t+Q*L,e-z*P],Z=[c+Q*T,u-z*N],j=[c,u];return H[0]=2*D[0]-H[0],H[1]=2*D[1]-H[1],o?[H,Z,j].concat(v):(v=[H,Z,j].concat(v).join().split(",")).map((function(t,e){return e%2?I(v[e-1],t,m).y:I(t,v[e+1],m).x}))}function L(t,e,a,r,n,i){return[1/3*t+2/3*a,1/3*e+2/3*r,1/3*n+2/3*a,1/3*i+2/3*r,n,i]}function N(t,e,a,r){return[t,e,a,r,a,r]}function T(t,e){switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"M":return e.x=t[1],e.y=t[2],t;case"A":return["C"].concat(S.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=t[1],e.qy=t[2],["C"].concat(L.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(N(e.x1,e.y1,t[1],t[2]));case"Z":return["C"].concat(N(e.x1,e.y1,e.x,e.y))}return t}function O(t,r){if(V(t))return e(t);for(var n,i,s={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},c=[],u="",o=(t=g(t)).length,h=0;h<o;h++)u=t[h][0],c[h]=u,t[h]=T(t[h],s),P(t,c,h),o=t.length,i=(n=t[h]).length,s.x1=+n[i-2],s.y1=+n[i-1],s.x2=+n[i-4]||s.x1,s.y2=+n[i-3]||s.y1;return a(t,r)}function Q(t){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=O(t);var e=0,a=0,r=[],n=[];t.map((function(t){if("M"===t[0])e=t[1],a=t[2],r.push(e),n.push(a);else{var i=k.apply(0,[e,a].concat(t.slice(1)));r=r.concat(i.min.x,i.max.x),n=n.concat(i.min.y,i.max.y),e=t[5],a=t[6]}}));var i=Math.min.apply(0,r),s=Math.min.apply(0,n),c=Math.max.apply(0,r),u=Math.max.apply(0,n),o=c-i,h=u-s;return{x:i,y:s,x2:c,y2:u,width:o,height:h,cx:i+o/2,cy:s+h/2}}var z={getShapeArea:q,getDrawDirection:function(t){if(!V(t))throw"getDrawDirection expects a curveArray";return q(t)>=0},clonePath:e,splitPath:C,isPathArray:p,isCurveArray:V,isAbsoluteArray:x,isRelativeArray:m,getPathBBox:Q,roundPath:a,optimizePath:b,pathToAbsolute:y,pathToRelative:v,pathToCurve:O,pathToString:d,parsePathString:f,reverseCurve:function(t){var e=t.slice(1).map((function(e,a,r){return a?r[a-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,a){return t[t.length-a-2*(1-a%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))},reversePath:A,normalizePath:g,options:t};function D(t,e,a){return[e*t[0]+a*t[2]+t[4],e*t[1]+a*t[3]+t[5]]}function H(t,e,r){var n,i,s,c,u,o,h,l,p=r.round,f=r.origin,x=y(t),m=O(x),v=g(x),d=function(t,e,a){var r=new z.CSSMatrix,n=Q(t),i=a&&!isNaN(a.x)?+a.x:n.cx,s=a&&!isNaN(a.y)?+a.y:n.cy,c=e.translate,u=e.rotate,o=e.skew,h=e.scale;return c&&(r=Array.isArray(c)?r.translate.apply(r,c):r.translate(c)),(u||o||h)&&(r=r.translate(i,s),u&&(r=Array.isArray(u)?r.rotate.apply(r,u):r.rotate(u)),o&&(r=o[0]?r.skewX(o[0]):r,r=o[1]?r.skewY(o[1]):r),h&&(r=Array.isArray(h)?r.scale.apply(r,h):r.scale(h)),r=r.translate(-i,-s)),r.toArray()}(m,e,f),M={x1:0,y1:0,x2:0,y2:0,x:0,y:0},A=[],C=[],b=0,q="",V=[];for(s=0,u=x.length;s<u;s++)C=x[s],x[s]&&(q=C[0]),b=(C=v[s]).length,M.x1=+C[b-2],M.y1=+C[b-1],M.x2=+C[b-4]||M.x1,M.y2=+C[b-3]||M.y1,V={s:x[s],c:x[s][0]},"Z"!==q&&(V.x=M.x1,V.y=M.y1),A=A.concat(V);return a(A=A.map((function(t,e,a){var r,s,u;switch(q=t.c,C=t.s,q){case"A":var p=function(t,e,a,r){var n=Math.cos(r*Math.PI/180),i=Math.sin(r*Math.PI/180),s=[e*(t[0]*n+t[2]*i),e*(t[1]*n+t[3]*i),a*(-t[0]*i+t[2]*n),a*(-t[1]*i+t[3]*n)],c=s[0]*s[0]+s[2]*s[2],u=s[1]*s[1]+s[3]*s[3],o=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),h=(c+u)/2;if(o<1e-10*h)return{rx:e=a=Math.sqrt(h),ry:a,ax:r=0};var l=s[0]*s[1]+s[2]*s[3],p=h+(o=Math.sqrt(o))/2,f=h-o/2;return(r=Math.abs(l)<1e-10&&Math.abs(p-u)<1e-10?90:180*Math.atan(Math.abs(l)>Math.abs(p-u)?(p-c)/l:l/(p-u))/Math.PI)>=0?(e=Math.sqrt(p),a=Math.sqrt(f)):(r+=90,e=Math.sqrt(f),a=Math.sqrt(p)),{rx:e,ry:a,ax:r}}(d,C[1],C[2],C[3]);return d[0]*d[3]-d[1]*d[2]<0&&(C[5]=+C[5]?0:1),r=D(d,t.x,t.y),n=r[0],i=r[1],C[6]===n&&C[7]===i?["L",n,i]:[q,p.rx,p.ry,p.ax,C[4],C[5],n,i];case"L":case"H":case"V":return s=D(d,t.x,t.y),h=s[0],l=s[1],n!==h&&i!==l?C=["L",h,l]:i===l?C=["H",h]:n===h&&(C=["V",l]),n=h,i=l,C;default:for(c=1,o=C.length;c<o;c+=2)u=D(d,C[c],C[c+1]),n=u[0],i=u[1],C[c]=n,C[c+1]=i;return C}})),p)}var Z=function(a,r){var n=!r||0!=+r.round&&!1!==r.round?t.round:0,i=n&&(r&&r.decimals||t.decimals),s=r&&r.origin,c=f(a,this.round);return this.round=0===n?0:i,this.origin=!s||isNaN(s.x)||isNaN(s.y)?null:s,this.segments=e(c),this.pathValue=a,this};for(var j in Z.prototype.toAbsolute=function(){var t=y(this.segments,this.round);return this.segments=e(t),this},Z.prototype.toRelative=function(){var t=v(this.segments,this.round);return this.segments=e(t),this},Z.prototype.reverse=function(t){this.toAbsolute();var a,r,n=C(this.pathValue).length>1&&C(this.toString());return a=n&&e(n).map((function(e,a){return t?a?A(e):f(e):A(e)})),r=n?[].concat.apply([],a):t?this.segments:A(this.segments),this.segments=e(r),this},Z.prototype.normalize=function(){var t=g(this.segments,this.round);return this.segments=e(t),this},Z.prototype.optimize=function(){var t=b(this.segments,this.round);return this.segments=e(t),this},Z.prototype.transform=function(t){var a=H(this.segments,t,{round:this.round,origin:this.origin});return this.segments=e(a),this},Z.prototype.flipX=function(){return this.transform({rotate:[180,0,0]}),this},Z.prototype.flipY=function(){return this.transform({rotate:[0,180,0]}),this},Z.prototype.toString=function(){return d(this.segments)},DOMMatrix.prototype.toArray=function(){var t=this;return[t.a,t.b,t.c,t.d,t.e,t.f]},z.CSSMatrix=DOMMatrix,z)Z[j]=z[j];export default Z;
