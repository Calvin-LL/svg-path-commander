// SVGPathCommander v0.1.8 | thednp Â© 2021 | MIT-License
const t={origin:null,decimals:4,round:1};function e(t){const e=new h,n=Array.from(t);if(16===n.length){const[t,a,r,s,i,c,m,o,l,h,u,f,p,y,x,d]=n;e.m11=t,e.a=t,e.m21=i,e.c=i,e.m31=l,e.m41=p,e.e=p,e.m12=a,e.b=a,e.m22=c,e.d=c,e.m32=h,e.m42=y,e.f=y,e.m13=r,e.m23=m,e.m33=u,e.m43=x,e.m14=s,e.m24=o,e.m34=f,e.m44=d}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");{const[t,a,r,s,i,c]=n;e.m11=t,e.a=t,e.m12=a,e.b=a,e.m21=r,e.c=r,e.m22=s,e.d=s,e.m41=i,e.e=i,e.m42=c,e.f=c}}return e}function n(t){return e([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44])}function a(t){const n=String(t).replace(/\s/g,"");let a=new h,r=!0;return n.split(")").filter(t=>t).map(t=>{const[e,n]=t.split("("),a=n.split(",").map(t=>t.includes("rad")?parseFloat(t)*(180/Math.PI):parseFloat(t)),[s,i,c,m]=a;return("matrix3d"===e||"rotate3d"===e&&[s,i].every(t=>!Number.isNaN(+t)&&0!==t)&&m||["rotateX","rotateY"].includes(e)&&s||"translate3d"===e&&[s,i,c].every(t=>!Number.isNaN(+t))&&c||"scale3d"===e&&[s,i,c].every(t=>!Number.isNaN(+t)&&t!==s))&&(r=!1),{prop:e,components:a}}).forEach(t=>{const{prop:n,components:s}=t,[i,c,m,o]=s,l=[i,c,m],h=[i,c,m,o];if("perspective"!==n||r)if(n.includes("matrix")){const t=s.map(t=>Math.abs(t)<1e-6?0:t);[6,16].includes(t.length)&&(a=a.multiply(e(t)))}else if(["translate","translate3d"].some(t=>n===t)&&i)a=a.translate(i,c||0,m||0);else if("rotate3d"===n&&h.every(t=>!Number.isNaN(+t))&&o)a=a.rotateAxisAngle(i,c,m,o);else if("scale3d"===n&&l.every(t=>!Number.isNaN(+t))&&l.some(t=>1!==t))a=a.scale(i,c,m);else if("rotate"===n&&i)a=a.rotate(0,0,i);else if("scale"!==n||Number.isNaN(i)||1===i){if("skew"===n&&(i||c))a=i?a.skewX(i):a,a=c?a.skewY(c):a;else if(/[XYZ]/.test(n)&&i)if(n.includes("skew"))a=a[n](i);else{const t=n.replace(/[XYZ]/,""),e=n.replace(t,""),r=["X","Y","Z"].indexOf(e),s=[0===r?i:0,1===r?i:0,2===r?i:0];a=a[t](...s)}}else{const t=Number.isNaN(+c)?i:c;a=a.scale(i,t,1)}else a.m34=-1/i}),a}function r(t,e,n){const a=new h;return a.m41=t,a.e=t,a.m42=e,a.f=e,a.m43=n,a}function s(t,e,n){const a=new h,r=Math.PI/180,s=t*r,i=e*r,c=n*r,m=Math.cos(s),o=-Math.sin(s),l=Math.cos(i),u=-Math.sin(i),f=Math.cos(c),p=-Math.sin(c),y=l*f,x=-l*p;a.m11=y,a.a=y,a.m12=x,a.b=x,a.m13=u;const d=o*u*f+m*p;a.m21=d,a.c=d;const M=m*f-o*u*p;return a.m22=M,a.d=M,a.m23=-o*l,a.m31=o*p-m*u*f,a.m32=o*f+m*u*p,a.m33=m*l,a}function i(t,e,n,a){const r=new h,s=a*(Math.PI/360),i=Math.sin(s),c=Math.cos(s),m=i*i,o=Math.sqrt(t*t+e*e+n*n);let l=t,u=e,f=n;0===o?(l=0,u=0,f=1):(l/=o,u/=o,f/=o);const p=l*l,y=u*u,x=f*f,d=1-2*(y+x)*m;r.m11=d,r.a=d;const M=2*(l*u*m+f*i*c);r.m12=M,r.b=M,r.m13=2*(l*f*m-u*i*c);const g=2*(u*l*m-f*i*c);r.m21=g,r.c=g;const A=1-2*(x+p)*m;return r.m22=A,r.d=A,r.m23=2*(u*f*m+l*i*c),r.m31=2*(f*l*m+u*i*c),r.m32=2*(f*u*m-l*i*c),r.m33=1-2*(p+y)*m,r}function c(t,e,n){const a=new h;return a.m11=t,a.a=t,a.m22=e,a.d=e,a.m33=n,a}function m(t){const e=new h,n=t*Math.PI/180,a=Math.tan(n);return e.m21=a,e.c=a,e}function o(t){const e=new h,n=t*Math.PI/180,a=Math.tan(n);return e.m12=a,e.b=a,e}function l(t,n){return e([n.m11*t.m11+n.m12*t.m21+n.m13*t.m31+n.m14*t.m41,n.m11*t.m12+n.m12*t.m22+n.m13*t.m32+n.m14*t.m42,n.m11*t.m13+n.m12*t.m23+n.m13*t.m33+n.m14*t.m43,n.m11*t.m14+n.m12*t.m24+n.m13*t.m34+n.m14*t.m44,n.m21*t.m11+n.m22*t.m21+n.m23*t.m31+n.m24*t.m41,n.m21*t.m12+n.m22*t.m22+n.m23*t.m32+n.m24*t.m42,n.m21*t.m13+n.m22*t.m23+n.m23*t.m33+n.m24*t.m43,n.m21*t.m14+n.m22*t.m24+n.m23*t.m34+n.m24*t.m44,n.m31*t.m11+n.m32*t.m21+n.m33*t.m31+n.m34*t.m41,n.m31*t.m12+n.m32*t.m22+n.m33*t.m32+n.m34*t.m42,n.m31*t.m13+n.m32*t.m23+n.m33*t.m33+n.m34*t.m43,n.m31*t.m14+n.m32*t.m24+n.m33*t.m34+n.m34*t.m44,n.m41*t.m11+n.m42*t.m21+n.m43*t.m31+n.m44*t.m41,n.m41*t.m12+n.m42*t.m22+n.m43*t.m32+n.m44*t.m42,n.m41*t.m13+n.m42*t.m23+n.m43*t.m33+n.m44*t.m43,n.m41*t.m14+n.m42*t.m24+n.m43*t.m34+n.m44*t.m44])}class h{constructor(...t){const e=this;if(e.a=1,e.b=0,e.c=0,e.d=1,e.e=0,e.f=0,e.m11=1,e.m12=0,e.m13=0,e.m14=0,e.m21=0,e.m22=1,e.m23=0,e.m24=0,e.m31=0,e.m32=0,e.m33=1,e.m34=0,e.m41=0,e.m42=0,e.m43=0,e.m44=1,t&&t.length){let n=t;return t instanceof Array&&(t[0]instanceof Array&&[16,6].includes(t[0].length)||"string"==typeof t[0]||[h,DOMMatrix].some(e=>t[0]instanceof e))&&([n]=t),e.setMatrixValue(n)}return e}set isIdentity(t){this.isIdentity=t}get isIdentity(){const t=this;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m41&&0===t.m42&&0===t.m43&&1===t.m44}get is2D(){const t=this;return 0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m43&&1===t.m44}set is2D(t){this.is2D=t}setMatrixValue(t){return[DOMMatrix,h].some(e=>t instanceof e)?n(t):"string"==typeof t&&t.length&&"none"!==t?a(t):Array.isArray(t)?e(t):this}toString(){const t=this.toArray().join(",");return`${this.is2D?"matrix":"matrix3d"}(${t})`}toArray(){const t=this;let e;return e=t.is2D?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44],e.map(t=>Math.abs(t)<1e-6?0:(t*10**6>>0)/10**6)}toJSON(){return JSON.parse(JSON.stringify(this))}multiply(t){return l(this,t)}translate(t,e,n){let a=e,s=n;return null==s&&(s=0),null==a&&(a=0),l(this,r(t,a,s))}scale(t,e,n){let a=e,r=n;return null==a&&(a=t),null==r&&(r=t),l(this,c(t,a,r))}rotate(t,e,n){let a=t,r=e,i=n;return null==r&&(r=0),null==i&&(i=a,a=0),l(this,s(a,r,i))}rotateAxisAngle(t,e,n,a){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return l(this,i(t,e,n,a))}skewX(t){return l(this,m(t))}skewY(t){return l(this,o(t))}transformPoint(t){let e=r(t.x,t.y,t.z);return e.m44=t.w||1,e=this.multiply(e),{x:e.m41,y:e.m42,z:e.m43,w:e.m44}}transform(t){const e=this,n=e.m11*t.x+e.m12*t.y+e.m13*t.z+e.m14*t.w,a=e.m21*t.x+e.m22*t.y+e.m23*t.z+e.m24*t.w,r=e.m31*t.x+e.m32*t.y+e.m33*t.z+e.m34*t.w,s=e.m41*t.x+e.m42*t.y+e.m43*t.z+e.m44*t.w;return{x:n/s,y:a/s,z:r/s,w:s}}}h.Translate=r,h.Rotate=s,h.RotateAxisAngle=i,h.Scale=c,h.SkewX=m,h.SkewY=o,h.Multiply=l,h.fromArray=e,h.fromMatrix=n,h.fromString=a;const u="undefined"!=typeof DOMMatrix?DOMMatrix:h;function f(t,e,n){if(t[n].length>7){t[n].shift();const a=t[n];let r=n;for(;a.length;)e[n]="A",t.splice(r+=1,0,["C"].concat(a.splice(0,6)));t.splice(n,1)}}var p={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function y(t){return Array.isArray(t)&&t.every(t=>{const e=t[0].toLowerCase();return p[e]===t.length-1&&/[achlmrqstvz]/gi.test(e)})}function x(t){return y(t)&&t.slice(1).every(t=>"C"===t[0])}function d(t){return t.map(t=>Array.isArray(t)?d(t):Number.isNaN(+t)?t:+t)}function M(t){let e=t.pathValue[t.segmentStart],n=e.toLowerCase(),a=t.data;if("m"===n&&a.length>2&&(t.segments.push([e,a[0],a[1]]),a=a.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.segments.push([e].concat(a));else for(;a.length>=p[n]&&(t.segments.push([e].concat(a.splice(0,p[n]))),p[n]););}function g(t){const e=t.pathValue.charCodeAt(t.index);return 48===e?(t.param=0,void(t.index+=1)):49===e?(t.param=1,void(t.index+=1)):void(t.err="Invalid path value: invalid Arc flag "+e)}function A(t){return t>=48&&t<=57}function b(t){const e=t.index,{max:n}=t;let a,r=e,s=!1,i=!1,c=!1,m=!1;if(r>=n)t.err="Invalid path value: missing param "+t.pathValue[r];else if(a=t.pathValue.charCodeAt(r),43!==a&&45!==a||(r+=1,a=r<n?t.pathValue.charCodeAt(r):0),A(a)||46===a){if(46!==a){if(s=48===a,r+=1,a=r<n?t.pathValue.charCodeAt(r):0,s&&r<n&&a&&A(a))return void(t.err=`Invalid path value: ${t.pathValue[e]} illegal number`);for(;r<n&&A(t.pathValue.charCodeAt(r));)r+=1,i=!0;a=r<n?t.pathValue.charCodeAt(r):0}if(46===a){for(m=!0,r+=1;A(t.pathValue.charCodeAt(r));)r+=1,c=!0;a=r<n?t.pathValue.charCodeAt(r):0}if(101===a||69===a){if(m&&!i&&!c)return void(t.err=`Invalid path value: ${t.pathValue[r]} invalid float exponent`);if(r+=1,a=r<n?t.pathValue.charCodeAt(r):0,43!==a&&45!==a||(r+=1),!(r<n&&A(t.pathValue.charCodeAt(r))))return void(t.err=`Invalid path value: ${t.pathValue[r]} invalid float exponent`);for(;r<n&&A(t.pathValue.charCodeAt(r));)r+=1}t.index=r,t.param=+t.pathValue.slice(e,r)}else t.err=`Invalid path value at index ${r}: ${t.pathValue[r]} is not a number`}function v(t){for(;t.index<t.max&&(10===(e=t.pathValue.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0);)t.index+=1;var e}function w(t){return t>=48&&t<=57||43===t||45===t||46===t}function N(t){const{max:e}=t,n=t.pathValue.charCodeAt(t.index),a=p[t.pathValue[t.index].toLowerCase()];if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0;default:return!1}}(n))if(t.index+=1,v(t),t.data=[],a){for(;;){for(let r=a;r>0;r-=1){if(97!=(32|n)||3!==r&&4!==r?b(t):g(t),t.err.length)return;t.data.push(t.param),v(t),t.index<e&&44===t.pathValue.charCodeAt(t.index)&&(t.index+=1,v(t))}if(t.index>=t.max)break;if(!w(t.pathValue.charCodeAt(t.index)))break}M(t)}else M(t);else t.err=`Invalid path value: ${t.pathValue[t.index]} not a path command`}function C(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}function k(t){if(y(t))return d(t);const e=new C(t);for(v(e);e.index<e.max&&!e.err.length;)N(e);return e.err.length?e.segments=[]:e.segments.length&&("mM".indexOf(e.segments[0][0])<0?(e.err="Invalid path value: missing M/m",e.segments=[]):e.segments[0][0]="M"),e.segments}function q(t){return y(t)&&t.every(t=>t[0]===t[0].toUpperCase())}function V(t){if(q(t))return d(t);const e=k(t),n=e.length,a=[];let r=0,s=0,i=0,c=0,m=0;"M"===e[0][0]&&(r=+e[0][1],s=+e[0][2],i=r,c=s,m+=1,a.push(["M",r,s]));for(let t=m;t<n;t+=1){const n=e[t],[m]=n,o=m.toUpperCase(),l=[];let h=[];if(a.push(l),m!==o)switch(l[0]=o,o){case"A":h=n.slice(1,-2).concat([+n[6]+r,+n[7]+s]);for(let t=0;t<h.length;t+=1)l.push(h[t]);break;case"V":l[1]=+n[1]+s;break;case"H":l[1]=+n[1]+r;break;default:"M"===o&&(i=+n[1]+r,c=+n[2]+s);for(let t=1;t<n.length;t+=1)l.push(+n[t]+(t%2?r:s))}else for(let t=0;t<n.length;t+=1)l.push(n[t]);const u=l.length;switch(o){case"Z":r=i,s=c;break;case"H":r=+l[1];break;case"V":s=+l[1];break;default:r=+l[u-2],s=+l[u-1],"M"===o&&(i=r,c=s)}}return a}function P(t,e,n){const[a]=t,r=t.slice(1);let s=t;if("TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null),"H"===a)s=["L",t[1],e.y1];else if("V"===a)s=["L",e.x1,t[1]];else if("S"===a){const{x1:t,y1:a}=function(t,e,n,a,r){return"CS".indexOf(r)>-1?{x1:2*t-n,y1:2*e-a}:{x1:t,y1:e}}(e.x1,e.y1,e.x2,e.y2,n);e.x1=t,e.y1=a,s=["C",t,a].concat(r)}else if("T"===a){const{qx:t,qy:a}=function(t,e,n,a,r){return"QT".indexOf(r)>-1?{qx:2*t-n,qy:2*e-a}:{qx:t,qy:e}}(e.x1,e.y1,e.qx,e.qy,n);e.qx=t,e.qy=a,s=["Q",t,a].concat(r)}else if("Q"===a){const[t,n]=r;e.qx=t,e.qy=n}return s}function S(t){return Array.isArray(t)&&t.every(t=>{const e=t[0].toLowerCase();return p[e]===t.length-1&&/[ACLMQZ]/.test(t[0])})}function I(t){if(S(t))return d(t);const e=V(t),n={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},a=[],r=e.length;let s,i,c="";for(let t=0;t<r;t+=1){const[r]=e[t];a[t]=r,t&&(c=a[t-1]),e[t]=P(e[t],n,c),s=e[t],i=s.length,n.x1=+s[i-2],n.y1=+s[i-1],n.x2=+s[i-4]||n.x1,n.y2=+s[i-3]||n.y1}return e}function O(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function z(t,e,n,a,r,s,i,c,m,o){const l=120*Math.PI/180,h=Math.PI/180*(r||0);let u,f,p,y,x,d=[],M=t,g=c,A=e,b=m,v=n,w=a;if(o){const[t,e,n,a]=o;f=t,p=e,y=n,x=a}else{u=O(M,A,-h),M=u.x,A=u.y,u=O(g,b,-h),g=u.x,b=u.y;const t=(M-g)/2,e=(A-b)/2;let n=t**2/v**2+e**2/w**2;n>1&&(n=Math.sqrt(n),v*=n,w*=n);const a=v**2,r=w**2,c=(s===i?-1:1)*Math.sqrt(Math.abs((a*r-a*e*e-r*t*t)/(a*e*e+r*t*t)));y=c*v*e/w+(M+g)/2,x=c*-w*t/v+(A+b)/2,f=Math.asin(((A-x)/w*10**9>>0)/10**9),p=Math.asin(((b-x)/w*10**9>>0)/10**9),f=M<y?Math.PI-f:f,p=g<y?Math.PI-p:p,f<0&&(f=2*Math.PI+f),p<0&&(p=2*Math.PI+p),i&&f>p&&(f-=2*Math.PI),!i&&p>f&&(p-=2*Math.PI)}let N=p-f;if(Math.abs(N)>l){const t=p,e=g,n=b;p=f+l*(i&&p>f?1:-1),g=y+v*Math.cos(p),b=x+w*Math.sin(p),d=z(g,b,v,w,r,0,i,e,n,[p,t,y,x])}N=p-f;const C=Math.cos(f),k=Math.sin(f),q=Math.cos(p),V=Math.sin(p),P=Math.tan(N/4),S=4/3*v*P,I=4/3*w*P,L=[M,A],T=[M+S*k,A-I*C],D=[g+S*V,b-I*q],X=[g,b];return T[0]=2*L[0]-T[0],T[1]=2*L[1]-T[1],o?[T,D,X].concat(d):(d=[T,D,X].concat(d).join().split(","),d.map((t,e)=>e%2?O(d[e-1],t,h).y:O(t,d[e+1],h).x))}function L(t,e,n,a,r,s){return[1/3*t+2/3*n,1/3*e+2/3*a,1/3*r+2/3*n,1/3*s+2/3*a,r,s]}function T(t,e,n,a,r,s,i,c,m){const o=1-m;return{x:o**3*t+o*o*3*m*n+3*o*m*m*r+m**3*i,y:o**3*e+o*o*3*m*a+3*o*m*m*s+m**3*c}}function D(t,e,n){const a=t[0],r=t[1];return[a+(e[0]-a)*n,r+(e[1]-r)*n]}function X(t,e,n,a){const r=.5,s=[t,e],i=[n,a],c=D(s,i,r),m=D(i,c,r),o=D(c,m,r),l=D(m,o,r),h=D(o,l,r),u=T.apply(0,s.concat(c,o,h,r)),f=T.apply(0,h.concat(l,m,i,0));return[u.x,u.y,f.x,f.y,n,a]}function Z(t,e){"TQ".indexOf(t[0])<0&&(e.qx=null,e.qy=null);const[n,a]=t.slice(1);switch(t[0]){case"M":return e.x=n,e.y=a,t;case"A":return["C"].concat(z.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=n,e.qy=a,["C"].concat(L.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(X(e.x1,e.y1,t[1],t[2]));case"Z":return["C"].concat(X(e.x1,e.y1,e.x,e.y))}return t}function Q(t){if(x(t))return d(t);const e=I(t),n={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},a=[];let r,s,i="",c=e.length;for(let t=0;t<c;t+=1)e[t]&&([i]=e[t]),a[t]=i,e[t]=Z(e[t],n),f(e,a,t),c=e.length,r=e[t],s=r.length,n.x1=+r[s-2],n.y1=+r[s-1],n.x2=+r[s-4]||n.x1,n.y2=+r[s-3]||n.y1;return e}function Y(t,e,n,a,r,s,i,c){return 3*((c-e)*(n+r)-(i-t)*(a+s)+a*(t-r)-n*(e-s)+c*(r+t/3)-i*(s+e/3))/20}function $(t){let e=0,n=0,a=0,r=0,s=0;return Q(t).map(t=>{switch(t[0]){case"M":case"Z":return a="M"===t[0]?t[1]:a,r="M"===t[0]?t[2]:r,e=a,n=r,0;default:return s=Y.apply(0,[e,n].concat(t.slice(1))),[e,n]=t.slice(-2),s}}).reduce((t,e)=>t+e,0)}function j(t,e,n,a,r){return r*(r*(-3*t+9*e-9*n+3*a)+6*t-12*e+6*n)-3*t+3*e}function E(t,e,n,a,r,s,i,c,m){let o;(null===m||Number.isNaN(+m))&&(o=1),o>1&&(o=1),o<0&&(o=0);const l=o/2;let h=0,u=0,f=0,p=0;const y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].forEach((m,o)=>{h=l*m+l,u=j(t,n,r,i,h),f=j(e,a,s,c,h),p+=y[o]*Math.sqrt(u*u+f*f)}),l*p}function H(t,e,n,a,r,s,i,c){let m=r-2*n+t-(i-2*r+n),o=2*(n-t)-2*(r-n),l=t-n,h=(-o+Math.sqrt(o*o-4*m*l))/2/m,u=(-o-Math.sqrt(o*o-4*m*l))/2/m;const f=[e,c],p=[t,i];let y;return Math.abs(h)>"1e12"&&(h=.5),Math.abs(u)>"1e12"&&(u=.5),h>0&&h<1&&(y=T(t,e,n,a,r,s,i,c,h),p.push(y.x),f.push(y.y)),u>0&&u<1&&(y=T(t,e,n,a,r,s,i,c,u),p.push(y.x),f.push(y.y)),m=s-2*a+e-(c-2*s+a),o=2*(a-e)-2*(s-a),l=e-a,h=(-o+Math.sqrt(o*o-4*m*l))/2/m,u=(-o-Math.sqrt(o*o-4*m*l))/2/m,Math.abs(h)>"1e12"&&(h=.5),Math.abs(u)>"1e12"&&(u=.5),h>0&&h<1&&(y=T(t,e,n,a,r,s,i,c,h),p.push(y.x),f.push(y.y)),u>0&&u<1&&(y=T(t,e,n,a,r,s,i,c,u),p.push(y.x),f.push(y.y)),{min:{x:Math.min.apply(0,p),y:Math.min.apply(0,f)},max:{x:Math.max.apply(0,p),y:Math.max.apply(0,f)}}}function R(t){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};const e=Q(t);let n=0,a=0,r=[],s=[];e.forEach(t=>{const[e,i]=t.slice(-2);if("M"===t[0])n=e,a=i,r.push(e),s.push(i);else{const c=H.apply(0,[n,a].concat(t.slice(1)));r=r.concat(c.min.x,c.max.x),s=s.concat(c.min.y,c.max.y),n=e,a=i}});const i=Math.min.apply(0,r),c=Math.min.apply(0,s),m=Math.max.apply(0,r),o=Math.max.apply(0,s),l=m-i,h=o-c;return{x:i,y:c,x2:m,y2:o,width:l,height:h,cx:i+l/2,cy:c+h/2}}function J(t){return y(t)&&t.slice(1).every(t=>t[0]===t[0].toLowerCase())}function B(e,n){const a=Number.isNaN(+n)?t.round&&t.decimals:+n;let r;return r=a?e.map(t=>t.map(t=>{const e=+t,n=10**a;return e?e%1==0?e:Math.round(e*n)/n:t})):d(e),r}function F(t,e){return B(t,e).map(t=>t[0].concat(t.slice(1).join(" "))).join("")}function U(t){return F(V(t)).replace(/(m|M)/g,"|$1").split("|").map(t=>t.trim()).filter(t=>t)}function G(t){if(J(t))return d(t);const e=k(t),n=e.length,a=[];let r=0,s=0,i=0,c=0,m=0;"M"===e[0][0]&&(r=+e[0][1],s=+e[0][2],i=r,c=s,m+=1,a.push(["M",r,s]));for(let t=m;t<n;t+=1){const n=e[t],[m]=n,o=m.toLowerCase(),l=[];let h=[];if(a.push(l),m!==o)switch(l[0]=o,o){case"a":h=n.slice(1,-2).concat([+n[6]-r,+n[7]-s]);for(let t=0;t<h.length;t+=1)l.push(h[t]);break;case"v":l[1]=+n[1]-s;break;default:for(let t=1;t<n.length;t+=1)l.push(+n[t]-(t%2?r:s));"m"===o&&(i=+n[1],c=+n[2])}else{"m"===m&&(i=+n[1]+r,c=+n[2]+s);for(let t=0;t<n.length;t+=1)l.push(n[t])}const u=l.length;switch(l[0]){case"z":r=i,s=c;break;case"h":r+=l[u-1];break;case"v":s+=l[u-1];break;default:r+=a[t][u-2],s+=a[t][u-1]}}return a}function K(t,e){const n=B(V(t),e),a=B(G(t),e);return n.map((t,e)=>e?t.join("").length<a[e].join("").length?t:a[e]:t)}function W(t){const e=V(t),n="Z"===e.slice(-1)[0][0];let a=[],r=0;return a=I(e).map((t,n)=>(r=t.length,{seg:e[n],n:t,c:e[n][0],x:t[r-2],y:t[r-1]})).map((t,e,a)=>{const r=t.seg,s=t.n,i=e&&a[e-1],c=a[e+1]&&a[e+1],m=t.c,o=a.length,l=e?a[e-1].x:a[o-1].x,h=e?a[e-1].y:a[o-1].y;let u=[];switch(m){case"M":u=n?["Z"]:[m,l,h];break;case"A":u=r.slice(0,-3).concat([1===r[5]?0:1,l,h]);break;case"C":u=c&&"S"===c.c?["S",r[1],r[2],l,h]:[m,r[3],r[4],r[1],r[2],l,h];break;case"S":u=i&&"CS".indexOf(i.c)>-1&&(!c||c&&"S"!==c.c)?["C",s[3],s[4],s[1],s[2],l,h]:[m,s[1],s[2],l,h];break;case"Q":u=c&&"T"===c.c?["T",l,h]:r.slice(0,-2).concat([l,h]);break;case"T":u=i&&"QT".indexOf(i.c)>-1&&(!c||c&&"T"!==c.c)?["Q",s[1],s[2],l,h]:[m,l,h];break;case"Z":u=["M",l,h];break;case"H":u=[m,l];break;case"V":u=[m,h];break;default:u=r.slice(0,-2).concat([l,h])}return u}),n?a.reverse():[a[0]].concat(a.slice(1).reverse())}function _(t){let e=new u;const{origin:n}=t,a=+n[0],r=+n[1],{translate:s}=t,{rotate:i}=t,{skew:c}=t,{scale:m}=t;return(!Number.isNaN(s)||Array.isArray(s)&&s.some(t=>0!=+t))&&(e=Array.isArray(s)?e.translate(+s[0]||0,+s[1]||0,+s[2]||0):e.translate(+s||0,0,0)),(i||c||m)&&(e=e.translate(+a,+r),i&&(e=Array.isArray(i)&&i.some(t=>0!=+t)?e.rotate(+i[0]||0,+i[1]||0,+i[2]||0):e.rotate(+i||0)),Array.isArray(c)&&c.some(t=>0!=+t)&&(Array.isArray(c)?(e=c[0]?e.skewX(+c[0]||0):e,e=c[1]?e.skewY(+c[1]||0):e):e=e.skewX(+c||0)),(!Number.isNaN(m)||Array.isArray(m)&&m.some(t=>1!=+t))&&(e=Array.isArray(m)?e.scale(+m[0]||1,+m[1]||1,+m[2]||1):e.scale(+m||1)),e=e.translate(-a,-r)),e}function tt(t,e,n){const a=t.transformPoint({x:e[0],y:e[1],z:0,w:1}),r=n[0]||0,s=n[1]||0,i=n[2]||0,c=a.x-r,m=a.y-s,o=a.z-i;return[c*(Math.abs(i)/Math.abs(o))+r,m*(Math.abs(i)/Math.abs(o))+s]}function et(t,e){let n,a,r,s,i,c,m,o,l;const h=V(t),u=I(h),p=_(e),y=Object.keys(e),{origin:x}=e,{a:M,b:g,c:A,d:b,e:v,f:w}=p,N=[M,g,A,b,v,w],C={x1:0,y1:0,x2:0,y2:0,x:0,y:0};let k=[],q=0,P="",S=[];const O=[];let z=[];if(!p.isIdentity){for(r=0,i=h.length;r<i;r+=1)k=h[r],h[r]&&([P]=k),O[r]=P,"A"!==P||p.is2D&&["skewX","skewY"].find(t=>y.includes(t))||(k=Z(u[r],C),h[r]=Z(u[r],C),f(h,O,r),u[r]=Z(u[r],C),f(u,O,r),i=Math.max(h.length,u.length)),k=u[r],q=k.length,C.x1=+k[q-2],C.y1=+k[q-1],C.x2=+k[q-4]||C.x1,C.y2=+k[q-3]||C.y1,z={s:h[r],c:h[r][0]},"Z"!==P&&(z.x=C.x1,z.y=C.y1),S=S.concat(z);return S=S.map(t=>{switch(P=t.c,k=t.s,P){case"A":return l=function(t,e,n,a){const r=Math.cos(a*Math.PI/180),s=Math.sin(a*Math.PI/180),i=[e*(t[0]*r+t[2]*s),e*(t[1]*r+t[3]*s),n*(-t[0]*s+t[2]*r),n*(-t[1]*s+t[3]*r)],c=i[0]*i[0]+i[2]*i[2],m=i[1]*i[1]+i[3]*i[3];let o=((i[0]-i[3])*(i[0]-i[3])+(i[2]+i[1])*(i[2]+i[1]))*((i[0]+i[3])*(i[0]+i[3])+(i[2]-i[1])*(i[2]-i[1]));const l=(c+m)/2;if(o<1e-9*l){const t=Math.sqrt(l);return{rx:t,ry:t,ax:0}}const h=i[0]*i[1]+i[2]*i[3];o=Math.sqrt(o);const u=l+o/2,f=l-o/2;let p,y,x=Math.abs(h)<1e-9&&Math.abs(u-m)<1e-9?90:Math.atan(Math.abs(h)>Math.abs(u-m)?(u-c)/h:h/(u-m)*180)/Math.PI;return x>=0?(p=Math.sqrt(u),y=Math.sqrt(f)):(x+=90,p=Math.sqrt(f),y=Math.sqrt(u)),{rx:p,ry:y,ax:x}}(N,k[1],k[2],k[3]),N[0]*N[3]-N[1]*N[2]<0&&(k[5]=+k[5]?0:1),[m,o]=tt(p,[k[6],k[7]],x),k=n===m&&a===o||l.rx<1e-9*l.ry||l.ry<1e-9*l.rx?["L",m,o]:[P,l.rx,l.ry,l.ax,k[4],k[5],m,o],n=m,a=o,k;case"L":case"H":case"V":return[m,o]=tt(p,[t.x,t.y],x),n!==m&&a!==o?k=["L",m,o]:a===o?k=["H",m]:n===m&&(k=["V",o]),n=m,a=o,k;default:for(s=1,c=k.length;s<c;s+=2)[n,a]=tt(p,[k[s],k[s+1]],x),k[s]=n,k[s+1]=a;return k}}),S}return d(h)}const nt={CSSMatrix:u,parsePathString:k,isPathArray:y,isCurveArray:x,isAbsoluteArray:q,isRelativeArray:J,isNormalizedArray:S,pathToAbsolute:V,pathToRelative:G,pathToCurve:Q,pathToString:F,getDrawDirection:function(t){return $(Q(t))>=0},getPathArea:$,getPathBBox:R,getPathLength:function(t){let e=0;return Q(t).forEach((t,n,a)=>{e+="M"!==t[0]?E.apply(0,a[n-1].slice(-2).concat(t.slice(1))):0}),e},getPointAtLength:function(t,e){let n,a,r,s=0;return Q(t).map((t,i,c)=>(a=i?c[i-1].slice(-2).concat(t.slice(1)):t.slice(1),n=i?E.apply(0,a):0,s+=n,r=0===i?{x:a[0],y:a[1]}:s>e&&e>s-n?T.apply(0,a.concat(1-(s-e)/n)):null,r)).filter(t=>t).slice(-1)[0]},clonePath:d,splitPath:U,roundPath:B,optimizePath:K,reverseCurve:function(t){const e=t.slice(1).map((e,n,a)=>n?a[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))).map(t=>t.map((e,n)=>t[t.length-n-2*(1-n%2)])).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map(t=>["C"].concat(t.slice(2))))},reversePath:W,normalizePath:I,transformPath:et,getSVGMatrix:_,options:t};class at{constructor(e,n){const a=n||{},r=0==+a.round||!1===a.round?0:t.round,{decimals:s}=r&&(a||t),{origin:i}=a;if(this.round=0===r?0:s,i){const{x:t,y:e}=i;[t,e].every(t=>!Number.isNaN(t))&&(this.origin=i)}return this.segments=k(e),this.pathValue=e,this}toAbsolute(){const{segments:t}=this;return this.segments=V(t),this}toRelative(){const{segments:t}=this;return this.segments=G(t),this}reverse(t){this.toAbsolute();const{segments:e}=this,n=U(this.pathValue).length>1&&U(this.toString()),a=n&&d(n).map((e,n)=>t?n?W(e):k(e):W(e));let r=[];return r=n?a.flat(1):t?e:W(e),this.segments=d(r),this}normalize(){const{segments:t}=this;return this.segments=I(t),this}optimize(){const{segments:t}=this;return this.segments=K(t,this.round),this}transform(t){const e=t||{},{segments:n}=this;if(!e.origin){const t=R(n);e.origin=[t.cx,t.cy,t.cx]}return this.segments=et(n,e),this}flipX(){return this.transform({rotate:[180,0,0]}),this}flipY(){return this.transform({rotate:[0,180,0]}),this}toString(){return F(this.segments,this.round)}}Object.keys(nt).forEach(t=>{at[t]=nt[t]});export{at as default};
