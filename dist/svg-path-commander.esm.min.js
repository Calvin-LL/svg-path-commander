// SVGPathCommander v1.0.0 | thednp Â© 2022 | MIT-License
const t={origin:[0,0,0],round:4},e={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function n(t){let n=t.pathValue[t.segmentStart],r=n.toLowerCase(),{data:s}=t;for("m"===r&&s.length>2&&(t.segments.push([n,s[0],s[1]]),s=s.slice(2),r="l",n="m"===n?"l":"L");s.length>=e[r]&&(t.segments.push([n,...s.splice(0,e[r])]),e[r]););}const r="SVGPathCommander error";function s(t){const{index:e}=t,n=t.pathValue.charCodeAt(e);return 48===n?(t.param=0,void(t.index+=1)):49===n?(t.param=1,void(t.index+=1)):void(t.err=`${r}: invalid Arc flag "${n}", expecting 0 or 1 at index ${e}`)}function i(t){return t>=48&&t<=57}function a(t){const{max:e,pathValue:n,index:s}=t;let a,o=s,m=!1,c=!1,l=!1,u=!1;if(o>=e)t.err=`${r}: Invalid path value at index ${o}, "pathValue" is missing param`;else if(a=n.charCodeAt(o),43!==a&&45!==a||(o+=1,a=o<e?n.charCodeAt(o):0),i(a)||46===a){if(46!==a){if(m=48===a,o+=1,a=o<e?n.charCodeAt(o):0,m&&o<e&&a&&i(a))return void(t.err=`${r}: Invalid path value at index ${s}, "${n[s]}" illegal number`);for(;o<e&&i(n.charCodeAt(o));)o+=1,c=!0;a=o<e?n.charCodeAt(o):0}if(46===a){for(u=!0,o+=1;i(n.charCodeAt(o));)o+=1,l=!0;a=o<e?n.charCodeAt(o):0}if(101===a||69===a){if(u&&!c&&!l)return void(t.err=`${r}: Invalid path value at index ${o}, "${n[o]}" invalid float exponent`);if(o+=1,a=o<e?n.charCodeAt(o):0,43!==a&&45!==a||(o+=1),!(o<e&&i(n.charCodeAt(o))))return void(t.err=`${r}: Invalid path value at index ${o}: "${n[o]}" invalid float exponent`);for(;o<e&&i(n.charCodeAt(o));)o+=1}t.index=o,t.param=+t.pathValue.slice(s,o)}else t.err=`${r}: Invalid path value at index ${o}, "${n[o]}" is not a number`}function o(t){const{pathValue:e,max:n}=t;for(;t.index<n&&(10===(r=e.charCodeAt(t.index))||13===r||8232===r||8233===r||32===r||9===r||11===r||12===r||160===r||r>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].includes(r));)t.index+=1;var r}function m(t){return t>=48&&t<=57||43===t||45===t||46===t}function c(t){const{max:i,pathValue:c,index:l}=t,u=c.charCodeAt(l),h=e[c[l].toLowerCase()];if(t.segmentStart=l,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:return!0;default:return!1}}(u))if(t.index+=1,o(t),t.data=[],h){for(;;){for(let e=h;e>0;e-=1){if(97!=(32|u)||3!==e&&4!==e?a(t):s(t),t.err.length)return;t.data.push(t.param),o(t),t.index<i&&44===c.charCodeAt(t.index)&&(t.index+=1,o(t))}if(t.index>=t.max)break;if(!m(c.charCodeAt(t.index)))break}n(t)}else n(t);else t.err=`${r}: Invalid path value "${c[l]}" is not a path command`}function l(t){return t.map(t=>Array.isArray(t)?[...t]:t)}function u(t){this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err=""}function h(t){return Array.isArray(t)&&t.every(t=>{const n=t[0].toLowerCase();return e[n]===t.length-1&&"achlmqstvz".includes(n)})}function f(t){if(h(t))return l(t);const e=new u(t);for(o(e);e.index<e.max&&!e.err.length;)c(e);return e.err.length||("mM".includes(e.segments[0][0])?e.segments[0][0]="M":e.err=r+": missing M/m"),e.err?e.err:e.segments}function y(t){return h(t)&&t.every(([t])=>t===t.toUpperCase())}function x(t){if(y(t))return l(t);const e=f(t);let n=0,r=0,s=0,i=0;return e.map(t=>{const e=t.slice(1).map(Number),[a]=t,o=a.toUpperCase();if("M"===a)return[n,r]=e,s=n,i=r,["M",n,r];let m=[];if(a!==o)switch(o){case"A":m=[o,e[0],e[1],e[2],e[3],e[4],e[5]+n,e[6]+r];break;case"V":m=[o,e[0]+r];break;case"H":m=[o,e[0]+n];break;default:m=[o,...e.map((t,e)=>t+(e%2?r:n))]}else m=[o,...e];const c=m.length;switch(o){case"Z":n=s,r=i;break;case"H":[,n]=m;break;case"V":[,r]=m;break;default:n=m[c-2],r=m[c-1],"M"===o&&(s=n,i=r)}return m})}function g(t){return h(t)&&t.slice(1).every(([t])=>t===t.toLowerCase())}function p(t){if(g(t))return l(t);const e=f(t);let n=0,r=0,s=0,i=0;return e.map(t=>{const e=t.slice(1).map(Number),[a]=t,o=a.toLowerCase();if("M"===a)return[n,r]=e,s=n,i=r,["M",n,r];let m=[];if(a!==o)switch(o){case"a":m=[o,e[0],e[1],e[2],e[3],e[4],e[5]-n,e[6]-r];break;case"v":m=[o,e[0]-r];break;case"h":m=[o,e[0]-n];break;default:m=[o,...e.map((t,e)=>t-(e%2?r:n))],"m"===o&&([n,r]=e,s=n,i=r)}else"m"===a&&(s=e[0]+n,i=e[1]+r),m=[o,...e];const c=m.length;switch(o){case"z":n=s,r=i;break;case"h":n+=m[1];break;case"v":r+=m[1];break;default:n+=m[c-2],r+=m[c-1]}return m})}function d(t,e,n){if(t[n].length>7){t[n].shift();const r=t[n];let s=n;for(;r.length;)e[n]="A",t.splice(s+=1,0,["C",...r.splice(0,6)]);t.splice(n,1)}}function M(t,e,n){const[r]=t,{x1:s,y1:i,x2:a,y2:o}=e,m=t.slice(1).map(Number);let c=t;if("TQ".includes(r)||(e.qx=null,e.qy=null),"H"===r)c=["L",t[1],i];else if("V"===r)c=["L",s,t[1]];else if("S"===r){const{x1:t,y1:r}=function(t,e,n,r,s){return"CS".includes(s)?{x1:2*t-n,y1:2*e-r}:{x1:t,y1:e}}(s,i,a,o,n);e.x1=t,e.y1=r,c=["C",t,r,...m]}else if("T"===r){const{qx:t,qy:r}=function(t,e,n,r,s){return"QT".includes(s)?{qx:2*t-n,qy:2*e-r}:{qx:t,qy:e}}(s,i,e.qx,e.qy,n);e.qx=t,e.qy=r,c=["Q",t,r,...m]}else if("Q"===r){const[t,n]=m;e.qx=t,e.qy=n}return c}function b(t){return y(t)&&t.every(([t])=>"ACLMQZ".includes(t))}const N={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null};function v(t){if(b(t))return l(t);const e=x(t),n={...N},r=[],s=e.length;let i="",a="";for(let t=0;t<s;t+=1){[i]=e[t],r[t]=i,t&&(a=r[t-1]),e[t]=M(e[t],n,a);const s=e[t],o=s.length;n.x1=+s[o-2],n.y1=+s[o-1],n.x2=+s[o-4]||n.x1,n.y2=+s[o-3]||n.y1}return e}function A(t){const e=f(t),n=v(e),{length:r}=e,s="Z"===n.slice(-1)[0][0],i=s?r-2:r-1,[a,o]=n[0].slice(1),[m,c]=n[i].slice(-2);return s&&a===m&&o===c?e.slice(0,-1):e}function w(t){return b(t)&&t.every(([t])=>"MC".includes(t))}function C(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function S(t,e,n,r,s,i,a,o,m,c){let l=t,u=e,h=n,f=r,y=o,x=m;const g=120*Math.PI/180,p=Math.PI/180*(+s||0);let d,M,b,N,v,A=[];if(c)[M,b,N,v]=c;else{d=C(l,u,-p),l=d.x,u=d.y,d=C(y,x,-p),y=d.x,x=d.y;const t=(l-y)/2,e=(u-x)/2;let n=t*t/(h*h)+e*e/(f*f);n>1&&(n=Math.sqrt(n),h*=n,f*=n);const r=h*h,s=f*f,o=(i===a?-1:1)*Math.sqrt(Math.abs((r*s-r*e*e-s*t*t)/(r*e*e+s*t*t)));N=o*h*e/f+(l+y)/2,v=o*-f*t/h+(u+x)/2,M=(Math.asin((u-v)/f)*10**9>>0)/10**9,b=(Math.asin((x-v)/f)*10**9>>0)/10**9,M=l<N?Math.PI-M:M,b=y<N?Math.PI-b:b,M<0&&(M=2*Math.PI+M),b<0&&(b=2*Math.PI+b),a&&M>b&&(M-=2*Math.PI),!a&&b>M&&(b-=2*Math.PI)}let w=b-M;if(Math.abs(w)>g){const t=b,e=y,n=x;b=M+g*(a&&b>M?1:-1),y=N+h*Math.cos(b),x=v+f*Math.sin(b),A=S(y,x,h,f,s,0,a,e,n,[b,t,N,v])}w=b-M;const k=Math.cos(M),P=Math.sin(M),q=Math.cos(b),T=Math.sin(b),I=Math.tan(w/4),$=4/3*h*I,V=4/3*f*I,L=[l,u],j=[l+$*P,u-V*k],E=[y+$*T,x-V*q],O=[y,x];if(j[0]=2*L[0]-j[0],j[1]=2*L[1]-j[1],c)return[...j,...E,...O,...A];A=[...j,...E,...O,...A];const z=[];for(let t=0,e=A.length;t<e;t+=1)z[t]=t%2?C(A[t-1],A[t],p).y:C(A[t],A[t+1],p).x;return z}function k(t,e,n,r,s,i){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*s+2/3*n,1/3*i+2/3*r,s,i]}function P(t,e,n){const[r,s]=t,[i,a]=e;return[r+(i-r)*n,s+(a-s)*n]}function q(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}function T(t,e,n,r,s){const i=q([t,e],[n,r]);let a={x:0,y:0};if("number"==typeof s)if(s<.001)a={x:t,y:e};else if(s>=i)a={x:n,y:r};else{const[o,m]=P([t,e],[n,r],s/i);a={x:o,y:m}}return{length:i,point:a,min:{x:Math.min(t,n),y:Math.min(e,r)},max:{x:Math.max(t,n),y:Math.max(e,r)}}}function I(t,e,n,r){const s=.5,i=[t,e],a=[n,r],o=P(i,a,s),m=P(a,o,s),c=P(o,m,s),l=P(m,c,s),u=P(c,l,s),h=T(...[...i,...o,...c,...u,s]).point,f=T(...[...u,...l,...m,...a,0]).point;return[h.x,h.y,f.x,f.y,n,r]}function $(t,e){const[n]=t,r=t.slice(1).map(Number),[s,i]=r;let a;const{x1:o,y1:m,x:c,y:l}=e;switch("TQ".includes(n)||(e.qx=null,e.qy=null),n){case"M":return e.x=s,e.y=i,t;case"A":return a=[o,m,...r],["C",...S(...a)];case"Q":return e.qx=s,e.qy=i,a=[o,m,...r],["C",...k(...a)];case"L":return["C",...I(o,m,s,i)];case"Z":return["C",...I(o,m,c,l)]}return t}function V(t){if(w(t))return l(t);const e=A(v(t)),n={...N},r=[];let s="",i=e.length;for(let t=0;t<i;t+=1){[s]=e[t],r[t]=s,e[t]=$(e[t],n),d(e,r,t),i=e.length;const a=e[t],o=a.length;n.x1=+a[o-2],n.y1=+a[o-1],n.x2=+a[o-4]||n.x1,n.y2=+a[o-3]||n.y1}return e}function L(e,n){let{round:r}=t;if("off"===n||"off"===r)return l(e);r=n>=0?n:r;const s="number"==typeof r&&r>=1?10**r:1;return e.map(t=>{const e=t.slice(1).map(Number).map(t=>r?Math.round(t*s)/s:Math.round(t));return[t[0],...e]})}function j(t,e){return L(t,e).map(t=>t[0]+t.slice(1).join(" ")).join("")}function E(t){const e=x(t),n="Z"===e.slice(-1)[0][0],r=v(e).map((t,n)=>{const[r,s]=t.slice(-2).map(Number);return{seg:e[n],n:t,c:e[n][0],x:r,y:s}}).map((t,e,r)=>{const s=t.seg,i=t.n,a=e&&r[e-1],o=r[e+1]&&r[e+1],m=t.c,c=r.length,l=e?r[e-1].x:r[c-1].x,u=e?r[e-1].y:r[c-1].y;let h=[];switch(m){case"M":h=n?["Z"]:[m,l,u];break;case"A":h=[m,...s.slice(1,-3),1===s[5]?0:1,l,u];break;case"C":h=o&&"S"===o.c?["S",s[1],s[2],l,u]:[m,s[3],s[4],s[1],s[2],l,u];break;case"S":h=a&&"CS".includes(a.c)&&(!o||o&&"S"!==o.c)?["C",i[3],i[4],i[1],i[2],l,u]:[m,i[1],i[2],l,u];break;case"Q":h=o&&"T"===o.c?["T",l,u]:[m,...s.slice(1,-2),l,u];break;case"T":h=a&&"QT".includes(a.c)&&(!o||o&&"T"!==o.c)?["Q",i[1],i[2],l,u]:[m,l,u];break;case"Z":h=["M",l,u];break;case"H":h=[m,l];break;case"V":h=[m,u];break;default:h=[m,...s.slice(1,-2),l,u]}return h});return n?r.reverse():[r[0],...r.slice(1).reverse()]}function O(t){const e=[];let n,r=-1;return t.forEach(t=>{"M"===t[0]?(n=[t],r+=1):n=[...n,t],e[r]=n}),e}function z(t,e,n,r){const[s]=t,i=t=>Math.round(1e4*t)/1e4,a=t.slice(1).map(t=>+t),o=e.slice(1).map(t=>+t),{x1:m,y1:c,x2:l,y2:u,x:h,y:f}=n;let y=t;const[x,g]=o.slice(-2);if("TQ".includes(s)||(n.qx=null,n.qy=null),["V","H","S","T","Z"].includes(s))y=[s,...a];else if("L"===s)i(h)===i(x)?y=["V",g]:i(f)===i(g)&&(y=["H",x]);else if("C"===s){const[t,e]=o;"CS".includes(r)&&i(t)===i(2*m-l)&&i(e)===i(2*c-u)&&(y=["S",...o.slice(-4)]),n.x1=t,n.y1=e}else if("Q"===s){const[t,e]=o;n.qx=t,n.qy=e,"QT".includes(r)&&i(t)===i(2*m-l)&&i(e)===i(2*c-u)&&(y=["T",...o.slice(-2)])}return y}function Z(t,e){const n=x(t),r=v(n),s={...N},i=[],a=n.length;let o="",m="",c=0,l=0,u=0,h=0;for(let t=0;t<a;t+=1){[o]=n[t],i[t]=o,t&&(m=i[t-1]),n[t]=z(n[t],r[t],s,m);const e=n[t],a=e.length;switch(s.x1=+e[a-2],s.y1=+e[a-1],s.x2=+e[a-4]||s.x1,s.y2=+e[a-3]||s.y1,o){case"Z":c=u,l=h;break;case"H":[,c]=e;break;case"V":[,l]=e;break;default:[c,l]=e.slice(-2).map(Number),"M"===o&&(u=c,h=l)}s.x=c,s.y=l}const f=L(n,e),y=L(p(n),e);return f.map((t,e)=>e?t.join("").length<y[e].join("").length?t:y[e]:t)}function Q(t){const e=new W,n=Array.from(t);if(!n.every(t=>!Number.isNaN(t)))throw TypeError(`CSSMatrix: "${t}" must only have numbers.`);if(16===n.length){const[t,r,s,i,a,o,m,c,l,u,h,f,y,x,g,p]=n;e.m11=t,e.a=t,e.m21=a,e.c=a,e.m31=l,e.m41=y,e.e=y,e.m12=r,e.b=r,e.m22=o,e.d=o,e.m32=u,e.m42=x,e.f=x,e.m13=s,e.m23=m,e.m33=h,e.m43=g,e.m14=i,e.m24=c,e.m34=f,e.m44=p}else{if(6!==n.length)throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.");{const[t,r,s,i,a,o]=n;e.m11=t,e.a=t,e.m12=r,e.b=r,e.m21=s,e.c=s,e.m22=i,e.d=i,e.m41=a,e.e=a,e.m42=o,e.f=o}}return e}function D(t){const e=Object.keys(new W);if("object"==typeof t&&e.every(e=>e in t))return Q([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]);throw TypeError(`CSSMatrix: "${JSON.stringify(t)}" is not a DOMMatrix / CSSMatrix / JSON compatible object.`)}function F(t){if("string"!=typeof t)throw TypeError(`CSSMatrix: "${t}" is not a string.`);const e=String(t).replace(/\s/g,"");let n=new W;const r=`CSSMatrix: invalid transform string "${t}"`;return e.split(")").filter(t=>t).forEach(t=>{const[e,s]=t.split("(");if(!s)throw TypeError(r);const i=s.split(",").map(t=>t.includes("rad")?parseFloat(t)*(180/Math.PI):parseFloat(t)),[a,o,m,c]=i,l=[a,o,m],u=[a,o,m,c];if("perspective"===e&&a&&[o,m].every(t=>void 0===t))n.m34=-1/a;else if(e.includes("matrix")&&[6,16].includes(i.length)&&i.every(t=>!Number.isNaN(+t))){const t=i.map(t=>Math.abs(t)<1e-6?0:t);n=n.multiply(Q(t))}else if("translate3d"===e&&l.every(t=>!Number.isNaN(+t)))n=n.translate(a,o,m);else if("translate"===e&&a&&void 0===m)n=n.translate(a,o||0,0);else if("rotate3d"===e&&u.every(t=>!Number.isNaN(+t))&&c)n=n.rotateAxisAngle(a,o,m,c);else if("rotate"===e&&a&&[o,m].every(t=>void 0===t))n=n.rotate(0,0,a);else if("scale3d"===e&&l.every(t=>!Number.isNaN(+t))&&l.some(t=>1!==t))n=n.scale(a,o,m);else if("scale"!==e||Number.isNaN(a)||1===a||void 0!==m)if("skew"===e&&(a||!Number.isNaN(a)&&o)&&void 0===m)n=n.skew(a,o||0);else{if(!(/[XYZ]/.test(e)&&a&&[o,m].every(t=>void 0===t)&&["translate","rotate","scale","skew"].some(t=>e.includes(t))))throw TypeError(r);if(["skewX","skewY"].includes(e))n=n[e](a);else{const t=e.replace(/[XYZ]/,""),r=e.replace(t,""),s=["X","Y","Z"].indexOf(r),i="scale"===t?1:0,o=[0===s?a:i,1===s?a:i,2===s?a:i];n=n[t](...o)}}else{const t=Number.isNaN(+o)?a:o;n=n.scale(a,t,1)}}),n}function H(t,e){return e?[t.a,t.b,t.c,t.d,t.e,t.f]:[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]}function X(t,e,n){const r=new W;return r.m41=t,r.e=t,r.m42=e,r.f=e,r.m43=n,r}function Y(t,e,n){const r=new W,s=Math.PI/180,i=t*s,a=e*s,o=n*s,m=Math.cos(i),c=-Math.sin(i),l=Math.cos(a),u=-Math.sin(a),h=Math.cos(o),f=-Math.sin(o),y=l*h,x=-l*f;r.m11=y,r.a=y,r.m12=x,r.b=x,r.m13=u;const g=c*u*h+m*f;r.m21=g,r.c=g;const p=m*h-c*u*f;return r.m22=p,r.d=p,r.m23=-c*l,r.m31=c*f-m*u*h,r.m32=c*h+m*u*f,r.m33=m*l,r}function B(t,e,n,r){const s=new W,i=Math.sqrt(t*t+e*e+n*n);if(0===i)return s;const a=t/i,o=e/i,m=n/i,c=r*(Math.PI/360),l=Math.sin(c),u=Math.cos(c),h=l*l,f=a*a,y=o*o,x=m*m,g=1-2*(y+x)*h;s.m11=g,s.a=g;const p=2*(a*o*h+m*l*u);s.m12=p,s.b=p,s.m13=2*(a*m*h-o*l*u);const d=2*(o*a*h-m*l*u);s.m21=d,s.c=d;const M=1-2*(x+f)*h;return s.m22=M,s.d=M,s.m23=2*(o*m*h+a*l*u),s.m31=2*(m*a*h+o*l*u),s.m32=2*(m*o*h-a*l*u),s.m33=1-2*(f+y)*h,s}function R(t,e,n){const r=new W;return r.m11=t,r.a=t,r.m22=e,r.d=e,r.m33=n,r}function J(t,e){const n=new W;if(t){const e=t*Math.PI/180,r=Math.tan(e);n.m21=r,n.c=r}if(e){const t=e*Math.PI/180,r=Math.tan(t);n.m12=r,n.b=r}return n}function G(t){return J(t,0)}function U(t){return J(0,t)}function K(t,e){return Q([e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44])}class W{constructor(...t){const e=this;if(e.a=1,e.b=0,e.c=0,e.d=1,e.e=0,e.f=0,e.m11=1,e.m12=0,e.m13=0,e.m14=0,e.m21=0,e.m22=1,e.m23=0,e.m24=0,e.m31=0,e.m32=0,e.m33=1,e.m34=0,e.m41=0,e.m42=0,e.m43=0,e.m44=1,t&&t.length){const n=[16,6].some(e=>e===t.length)?t:t[0];return e.setMatrixValue(n)}return e}get isIdentity(){const t=this;return 1===t.m11&&0===t.m12&&0===t.m13&&0===t.m14&&0===t.m21&&1===t.m22&&0===t.m23&&0===t.m24&&0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m41&&0===t.m42&&0===t.m43&&1===t.m44}get is2D(){const t=this;return 0===t.m31&&0===t.m32&&1===t.m33&&0===t.m34&&0===t.m43&&1===t.m44}setMatrixValue(t){return"string"==typeof t&&t.length&&"none"!==t?F(t):[Array,Float64Array,Float32Array].some(e=>t instanceof e)?Q(t):[W,DOMMatrix,Object].some(e=>t instanceof e)?D(t):this}toFloat32Array(t){return Float32Array.from(H(this,t))}toFloat64Array(t){return Float64Array.from(H(this,t))}toString(){const{is2D:t}=this;return`${t?"matrix":"matrix3d"}(${this.toFloat64Array(t).join(", ")})`}toJSON(){const{is2D:t,isIdentity:e}=this;return{...this,is2D:t,isIdentity:e}}multiply(t){return K(this,t)}translate(t,e,n){let r=e,s=n;return void 0===r&&(r=0),void 0===s&&(s=0),K(this,X(t,r,s))}scale(t,e,n){let r=e,s=n;return void 0===r&&(r=t),void 0===s&&(s=1),K(this,R(t,r,s))}rotate(t,e,n){let r=t,s=e||0,i=n||0;return"number"==typeof t&&void 0===e&&void 0===n&&(i=r,r=0,s=0),K(this,Y(r,s,i))}rotateAxisAngle(t,e,n,r){if([t,e,n,r].some(t=>Number.isNaN(+t)))throw new TypeError("CSSMatrix: expecting 4 values");return K(this,B(t,e,n,r))}skewX(t){return K(this,G(t))}skewY(t){return K(this,U(t))}skew(t,e){return K(this,J(t,e))}transformPoint(t){const e=this,n=e.m11*t.x+e.m21*t.y+e.m31*t.z+e.m41*t.w,r=e.m12*t.x+e.m22*t.y+e.m32*t.z+e.m42*t.w,s=e.m13*t.x+e.m23*t.y+e.m33*t.z+e.m43*t.w,i=e.m14*t.x+e.m24*t.y+e.m34*t.z+e.m44*t.w;return t instanceof DOMPoint?new DOMPoint(n,r,s,i):{x:n,y:r,z:s,w:i}}}Object.assign(W,{Translate:X,Rotate:Y,RotateAxisAngle:B,Scale:R,SkewX:G,SkewY:U,Skew:J,Multiply:K,fromArray:Q,fromMatrix:D,fromString:F,toArray:H});function _(t,e,n){const[r,s,i]=n,[a,o,m]=function(t,e){let n=X(...e);return n.m44=e[3]||1,n=t.multiply(n),[n.m41,n.m42,n.m43,n.m44]}(t,[...e,0,1]),c=o-s,l=m-i;return[(a-r)*(Math.abs(i)/Math.abs(l))+r,c*(Math.abs(i)/Math.abs(l))+s]}function tt(t,e){let n,r,s,i,a,o,m,c=0,u=0;const h=x(t),f=v(h),y=function(t){let e=new W;const{origin:n}=t,[r,s]=n,{translate:i}=t,{rotate:a}=t,{skew:o}=t,{scale:m}=t;return Array.isArray(i)&&i.every(t=>!Number.isNaN(+t))&&i.some(t=>0!==t)?e=e.translate(i[0]||0,i[1]||0,i[2]||0):"number"!=typeof i||Number.isNaN(+i)||(e=e.translate(i||0,0,0)),(a||o||m)&&(e=e.translate(r,s),Array.isArray(a)&&a.every(t=>!Number.isNaN(+t))&&a.some(t=>0!==t)?e=e.rotate(a[0],a[1],a[2]):"number"!=typeof a||Number.isNaN(+a)||(e=e.rotate(0,0,a)),Array.isArray(o)&&o.every(t=>!Number.isNaN(+t))&&o.some(t=>0!==t)?(e=o[0]?e.skewX(o[0]):e,e=o[1]?e.skewY(o[1]):e):"number"!=typeof o||Number.isNaN(+o)||(e=e.skewX(o||0)),Array.isArray(m)&&m.every(t=>!Number.isNaN(+t))&&m.some(t=>1!==t)?e=e.scale(m[0],m[1],m[2]):"number"!=typeof m||Number.isNaN(+m)||(e=e.scale(m||1,m||1,m||1)),e=e.translate(-r,-s)),e}(e),g=Object.keys(e),{origin:p}=e,{a:M,b:b,c:A,d:w,e:C,f:S}=y,k=[M,b,A,w,C,S],P={...N};let q=[],T=0,I="",V=[];const L=[];if(!y.isIdentity){for(n=0,s=h.length;n<s;n+=1){q=h[n],h[n]&&([I]=q),L[n]=I,"A"!==I||y.is2D&&["skewX","skewY"].find(t=>g.includes(t))||(q=$(f[n],P),h[n]=$(f[n],P),d(h,L,n),f[n]=$(f[n],P),d(f,L,n),s=Math.max(h.length,f.length)),q=f[n],T=q.length,P.x1=+q[T-2],P.y1=+q[T-1],P.x2=+q[T-4]||P.x1,P.y2=+q[T-3]||P.y1;const t={s:h[n],c:h[n][0],x:P.x1,y:P.y1};V=[...V,t]}return V.map(t=>{switch(I=t.c,q=t.s,I){case"A":return m=function(t,e,n,r){const s=Math.cos(r*Math.PI/180),i=Math.sin(r*Math.PI/180),a=[e*(t[0]*s+t[2]*i),e*(t[1]*s+t[3]*i),n*(-t[0]*i+t[2]*s),n*(-t[1]*i+t[3]*s)],o=a[0]*a[0]+a[2]*a[2],m=a[1]*a[1]+a[3]*a[3];let c=((a[0]-a[3])*(a[0]-a[3])+(a[2]+a[1])*(a[2]+a[1]))*((a[0]+a[3])*(a[0]+a[3])+(a[2]-a[1])*(a[2]-a[1]));const l=(o+m)/2;if(c<1e-9*l){const t=Math.sqrt(l);return{rx:t,ry:t,ax:0}}const u=a[0]*a[1]+a[2]*a[3];c=Math.sqrt(c);const h=l+c/2,f=l-c/2;let y,x,g=Math.abs(u)<1e-9&&Math.abs(h-m)<1e-9?90:Math.atan(Math.abs(u)>Math.abs(h-m)?(h-o)/u:u/(h-m)*180)/Math.PI;return g>=0?(y=Math.sqrt(h),x=Math.sqrt(f)):(g+=90,y=Math.sqrt(f),x=Math.sqrt(h)),{rx:y,ry:x,ax:g}}(k,q[1],q[2],q[3]),k[0]*k[3]-k[1]*k[2]<0&&(q[5]=q[5]?0:1),[a,o]=_(y,[+q[6],+q[7]],p),q=c===a&&u===o||m.rx<1e-9*m.ry||m.ry<1e-9*m.rx?["L",a,o]:[I,m.rx,m.ry,m.ax,q[4],q[5],a,o],c=a,u=o,q;case"L":case"H":case"V":return[a,o]=_(y,[t.x,t.y],p),c!==a&&u!==o?q=["L",a,o]:u===o?q=["H",a]:c===a&&(q=["V",o]),c=a,u=o,q;default:for(r=1,i=q.length;r<i;r+=2)[c,u]=_(y,[+q[r],+q[r+1]],p),q[r]=c,q[r+1]=u;return q}})}return l(h)}function et(t,e,n,r,s,i,a,o,m){const c=1-m;return{x:c**3*t+3*c**2*m*n+3*c*m**2*s+m**3*a,y:c**3*e+3*c**2*m*r+3*c*m**2*i+m**3*o}}function nt(t,e,n,r,s,i,a,o,m){const c="number"==typeof m;let l=t,u=e,h=0,f=[t,e,h],y=[t,e],x=0,g={x:0,y:0},p=[{x:l,y:u}];c&&m<.001&&(g={x:l,y:u});for(let d=0;d<=100;d+=1){if(x=d/100,({x:l,y:u}=et(t,e,n,r,s,i,a,o,x)),p=[...p,{x:l,y:u}],h+=q(y,[l,u]),y=[l,u],c&&h>=m){const t=(h-m)/(h-f[2]);g={x:y[0]*(1-t)+f[0]*t,y:y[1]*(1-t)+f[1]*t}}f=[l,u,h]}return c&&m>=h&&(g={x:a,y:o}),{length:h,point:g,min:{x:Math.min(...p.map(t=>t.x)),y:Math.min(...p.map(t=>t.y))},max:{x:Math.max(...p.map(t=>t.x)),y:Math.max(...p.map(t=>t.y))}}}function rt(t,e,n,r,s,i,a,o,m,c){const l=S(t,e,n,r,s,i,a,o,m),u="number"==typeof c;let[h,f]=[t,e];let y=[],x=[],g=[],p=[],d=0,M={x:0,y:0},b=M,N=M,v=M,A=0;u&&c<.001&&(v={x:h,y:f});for(let t=0,e=l.length;t<e;t+=6)y=l.slice(t,t+6),x=[h,f,...y],({length:d,min:M,max:b,point:N}=nt(...x,(c||0)-A)),u&&A<c&&A+d>=c&&(v=N),A+=d,p=[...p,b],g=[...g,M],[h,f]=y.slice(-2);return u&&c>=A&&(v={x:o,y:m}),{length:A,point:v,min:{x:Math.min(...g.map(t=>t.x)),y:Math.min(...g.map(t=>t.y))},max:{x:Math.max(...p.map(t=>t.x)),y:Math.max(...p.map(t=>t.y))}}}function st(t,e,n,r,s,i,a){const o=1-a;return{x:o**2*t+2*o*a*n+a**2*s,y:o**2*e+2*o*a*r+a**2*i}}function it(t,e,n,r,s,i,a){const o="number"==typeof a;let m=t,c=e,l=0,u=[t,e,l],h=[t,e],f=0,y={x:0,y:0},x=[{x:m,y:c}];o&&a<.001&&(y={x:m,y:c});for(let g=0;g<=100;g+=1){if(f=g/100,({x:m,y:c}=st(t,e,n,r,s,i,f)),x=[...x,{x:m,y:c}],l+=q(h,[m,c]),h=[m,c],o&&l>=a){const t=(l-a)/(l-u[2]);y={x:h[0]*(1-t)+u[0]*t,y:h[1]*(1-t)+u[1]*t}}u=[m,c,l]}return o&&a>=l&&(y={x:s,y:i}),{length:l,point:y,min:{x:Math.min(...x.map(t=>t.x)),y:Math.min(...x.map(t=>t.y))},max:{x:Math.max(...x.map(t=>t.x)),y:Math.max(...x.map(t=>t.y))}}}function at(t,e){const n=A(v(t)),r="number"==typeof e;let s,i=!0,a=[],o="M",m=0,c=0,l=0,u=0,h=[],f=[],y=0,x={x:0,y:0},g=x,p=x,d=x,M=0;for(let t=0,b=n.length;t<b;t+=1)s=n[t],[o]=s,i="M"===o,a=i?a:[m,c,...s.slice(1)],i?([,l,u]=s,x={x:l,y:u},g=x,r&&e<.001&&(d=x)):"L"===o?({length:y,min:x,max:g,point:p}=T(...a,(e||0)-M)):"A"===o?({length:y,min:x,max:g,point:p}=rt(...a,(e||0)-M)):"C"===o?({length:y,min:x,max:g,point:p}=nt(...a,(e||0)-M)):"Q"===o?({length:y,min:x,max:g,point:p}=it(...a,(e||0)-M)):"Z"===o&&(a=[m,c,l,u],({length:y,min:x,max:g,point:p}=T(...a,(e||0)-M))),r&&M<e&&M+y>=e&&(d=p),f=[...f,g],h=[...h,x],M+=y,[m,c]="Z"!==o?s.slice(-2):[l,u];return r&&e>=M&&(d={x:m,y:c}),{length:M,point:d,min:{x:Math.min(...h.map(t=>t.x)),y:Math.min(...h.map(t=>t.y))},max:{x:Math.max(...f.map(t=>t.x)),y:Math.max(...f.map(t=>t.y))}}}function ot(t){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0,cx:0,cy:0,cz:0};const{min:{x:e,y:n},max:{x:r,y:s}}=at(t),i=r-e,a=s-n;return{width:i,height:a,x:e,y:n,x2:r,y2:s,cx:e+i/2,cy:n+a/2,cz:Math.max(i,a)+Math.min(i,a)/2}}function mt(t){return at(t).length}function ct(t,e){return at(t,e).point}Object.assign(W,{Version:"0.1.0"});class lt{constructor(e,n){const s=n||{},i=void 0===e;if(i||!e.length)throw TypeError(`${r}: "pathValue" is ${i?"undefined":"empty"}`);const a=f(e);if("string"==typeof a)throw TypeError(a);this.segments=a;const{width:o,height:m,cx:c,cy:l,cz:u}=this.getBBox();let{round:h,origin:y}=t;const{round:x,origin:g}=s;if("auto"===x){const t=(""+Math.floor(Math.max(o,m))).length;h=t>=4?0:4-t}else(Number.isInteger(x)||"off"===x)&&(h=x);if(Array.isArray(g)&&g.length>=2){const[t,e,n]=g.map(Number);y=[Number.isNaN(t)?c:t,Number.isNaN(e)?l:e,Number.isNaN(n)?u:n]}else y=[c,l,u];return this.round=h,this.origin=y,this}getBBox(){return ot(this.segments)}getTotalLength(){return mt(this.segments)}getPointAtLength(t){return ct(this.segments,t)}toAbsolute(){const{segments:t}=this;return this.segments=x(t),this}toRelative(){const{segments:t}=this;return this.segments=p(t),this}toCurve(){const{segments:t}=this;return this.segments=V(t),this}reverse(t){this.toAbsolute();const{segments:e}=this,n=O(e),r=n.length>1?n:0,s=r&&l(r).map((e,n)=>t?n?E(e):f(e):E(e));let i=[];return i=r?s.flat(1):t?e:E(e),this.segments=l(i),this}normalize(){const{segments:t}=this;return this.segments=v(t),this}optimize(){const{segments:t}=this;return this.segments=Z(t,this.round),this}transform(t){if(!t||"object"!=typeof t||"object"==typeof t&&!["translate","rotate","skew","scale"].some(e=>e in t))return this;const e={};Object.keys(t).forEach(n=>{e[n]=Array.isArray(t[n])?[...t[n]]:Number(t[n])});const{segments:n}=this,[r,s,i]=this.origin,{origin:a}=e;if(Array.isArray(a)&&a.length>=2){const[t,n,o]=a.map(Number);e.origin=[Number.isNaN(t)?r:t,Number.isNaN(n)?s:n,o||i]}else e.origin=[r,s,i];return this.segments=tt(n,e),this}flipX(){return this.transform({rotate:[180,0,0]}),this}flipY(){return this.transform({rotate:[0,180,0]}),this}toString(){return j(this.segments,this.round)}}function ut(t){let e=0,n=0,r=0;return V(t).map(t=>{switch(t[0]){case"M":return[,e,n]=t,0;default:return r=function(t,e,n,r,s,i,a,o){return 3*((o-e)*(n+s)-(a-t)*(r+i)+r*(t-s)-n*(e-i)+o*(s+t/3)-a*(i+e/3))/20}(e,n,...t.slice(1)),[e,n]=t.slice(-2),r}}).reduce((t,e)=>t+e,0)}function ht(t,e){const n=f(t),r=[];if("string"==typeof n)throw TypeError(n);let s=[...n],i=mt(s),a=s.length-1,o=0,m=0,c=n[0];const[l,u]=c.slice(-2),h={x:l,y:u};if(a<=0||!e||!Number.isFinite(e))return{segment:c,index:0,length:m,point:h,lengthAtSegment:o};if(e>=i)return s=n.slice(0,-1),o=mt(s),m=i-o,{segment:n[a],index:a,length:m,lengthAtSegment:o};for(;a>0;)c=s[a],s=s.slice(0,-1),o=mt(s),m=i-o,i=o,r.push({segment:c,index:a,length:m,lengthAtSegment:o}),a-=1;return r.find(({lengthAtSegment:t})=>t<=e)}function ft(t,e){const n=A(f(t)),r=v(n),s=mt(n),i=t=>{const n=t.x-e.x,r=t.y-e.y;return n*n+r*r};let a=8,o={x:0,y:0},m=0,c=o,l=0,u=1/0;for(let t=0;t<=s;t+=a)o=ct(r,t),m=i(o),m<u&&(c=o,l=t,u=m);a/=2;let h={x:0,y:0},y=h,x=0,g=0,p=0,d=0;for(;a>.5;)x=l-a,h=ct(r,x),p=i(h),g=l+a,y=ct(r,g),d=i(y),x>=0&&p<u?(c=h,l=x,u=p):g<=s&&d<u?(c=y,l=g,u=d):a/=2;const M=ht(n,l);return{closest:c,distance:Math.sqrt(u),segment:M}}const yt={circle:["cx","cy","r"],ellipse:["cx","cy","rx","ry"],rect:["width","height","x","y","rx","ry"],polygon:["points"],polyline:["points"],glyph:[]};const xt={CSSMatrix:W,parsePathString:f,isPathArray:h,isCurveArray:w,isAbsoluteArray:y,isRelativeArray:g,isNormalizedArray:b,isValidPath:function(t){if("string"!=typeof t)return!1;const e=new u(t);for(o(e);e.index<e.max&&!e.err.length;)c(e);return!e.err.length&&"mM".includes(e.segments[0][0])},pathToAbsolute:x,pathToRelative:p,pathToCurve:V,pathToString:j,getDrawDirection:function(t){return ut(V(t))>=0},getPathArea:ut,getPathBBox:ot,pathLengthFactory:at,getTotalLength:mt,getPointAtLength:ct,getClosestPoint:function(t,e){return ft(t,e).closest},getSegmentOfPoint:function(t,e){const n=ft(t,e),{segment:r}=n;return void 0!==r?r.segment:null},getPropertiesAtPoint:ft,getPropertiesAtLength:ht,getSegmentAtLength:function(t,e){const n=ht(t,e),{segment:r}=void 0!==n?n:{segment:null};return r},isPointInStroke:function(t,e){const{distance:n}=ft(t,e);return Math.abs(n)<.001},clonePath:l,splitPath:O,fixPath:A,roundPath:L,optimizePath:Z,reverseCurve:function(t){const e=t.slice(1).map((e,n,r)=>n?[...r[n-1].slice(-2),...e.slice(1)]:[...t[0].slice(1),...e.slice(1)]).map(t=>t.map((e,n)=>t[t.length-n-2*(1-n%2)])).reverse();return[["M",...e[0].slice(0,2)],...e.map(t=>["C",...t.slice(2)])]},reversePath:E,normalizePath:v,transformPath:tt,shapeToPath:function(e,n){const r=Object.keys(yt),s=e instanceof Element;if(s&&!r.some(t=>e.tagName===t))throw TypeError(`shapeToPath: "${e}" is not SVGElement`);const i=document.createElementNS("http://www.w3.org/2000/svg","path"),a=s?e.tagName:e.type,o={};if(o.type=a,s){const t=yt[a];t.forEach(t=>{o[t]=e.getAttribute(t)}),Object.values(e.attributes).forEach(({name:e,value:n})=>{t.includes(e)||i.setAttribute(e,n)})}else Object.assign(o,e);let m;const{round:c}=t;return"circle"===a?m=j(function(t){const{cx:e,cy:n,r:r}=t;return[["M",e-r,n],["a",r,r,0,1,0,2*r,0],["a",r,r,0,1,0,-2*r,0]]}(o),c):"ellipse"===a?m=j(function(t){const{cx:e,cy:n,rx:r,ry:s}=t;return[["M",e-r,n],["a",r,s,0,1,0,2*r,0],["a",r,s,0,1,0,-2*r,0]]}(o),c):["polyline","polygon"].includes(a)?m=j(function(t){const e=[],n=t.points.trim().split(/[\s|,]/).map(Number);let r=0;for(;r<n.length;)e.push([r?"L":"M",n[r],n[r+1]]),r+=2;return"polygon"===t.type?[...e,["z"]]:e}(o),c):"rect"===a?m=j(function(t){const e=+t.x||0,n=+t.y||0,r=+t.width,s=+t.height;let i=+t.rx,a=+t.ry;return i||a?(i=i||a,a=a||i,2*i>r&&(i-=(2*i-r)/2),2*a>s&&(a-=(2*a-s)/2),[["M",e+i,n],["h",r-2*i],["s",i,0,i,a],["v",s-2*a],["s",0,a,-i,a],["h",2*i-r],["s",-i,0,-i,-a],["v",2*a-s],["s",0,-a,i,-a]]):[["M",e,n],["h",r],["v",s],["H",e],["Z"]]}(o),c):"line"===a?m=j(function(t){const{x1:e,y1:n,x2:r,y2:s}=t;return[["M",e,n],["L",r,s]]}(o),c):"glyph"===a&&(m=s?e.getAttribute("d"):e.type),!!m&&(i.setAttribute("d",m),n&&s&&(e.before(i,e),e.remove()),i)},options:t};Object.assign(lt,xt,{Version:"1.0.0"});export{lt as default};
