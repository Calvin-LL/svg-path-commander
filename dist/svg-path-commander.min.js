// SVGPathCommander v0.0.8a | thednp Â© 2020 | MIT-License
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SVGPathCommander=e()}(this,(function(){"use strict";var t={origin:null,decimals:3,round:1};function e(t,e){var r=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,a=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,i=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,s=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,u=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,o=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,m=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,c=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,h=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,l=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,f=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,p=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,y=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,x=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,d=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,v=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return new n(r,a,i,s,u,o,m,c,h,l,f,p,y,x,d,v)}var n=function(){var t=[].slice.call(arguments),e=this;if(t.length)for(var n=t.length;n--;)Math.abs(t[n])<1e-6&&(t[n]=0);if(e.setIdentity(),16==t.length)e.is2D=!1,e.isIdentity=!1,e.m11=e.a=t[0],e.m12=e.b=t[1],e.m13=t[2],e.m14=t[3],e.m21=e.c=t[4],e.m22=e.d=t[5],e.m23=t[6],e.m24=t[7],e.m31=t[8],e.m32=t[9],e.m33=t[10],e.m34=t[11],e.m41=e.e=t[12],e.m42=e.f=t[13],e.m43=t[14],e.m44=t[15];else if(6==t.length)e.is2D=!0,e.isIdentity=!1,e.m11=e.a=t[0],e.m12=e.b=t[1],e.m14=e.e=t[4],e.m21=e.c=t[2],e.m22=e.d=t[3],e.m24=e.f=t[5];else if(1===t.length&&"string"==typeof t[0])e.setMatrixValue(t[0]);else if(t.length>0)throw new TypeError("Invalid Matrix Value")};n.prototype.setMatrixValue=function(t){t=String(t).trim();var e=this;if(e.setIdentity(),"none"==t)return e;var n,r,a=t.slice(0,t.indexOf("("));if("matrix3d"==a){for(e.is2D=!1,e.isIdentity=!1,r=(n=t.slice(9,-1).split(",")).length;r--;)n[r]=+n[r];e.m11=e.a=n[0],e.m12=e.b=n[1],e.m13=n[2],e.m14=n[3],e.m21=e.c=n[4],e.m22=e.d=n[5],e.m23=n[6],e.m24=n[7],e.m31=n[8],e.m32=n[9],e.m33=n[10],e.m34=n[11],e.m41=e.e=n[12],e.m42=e.f=n[13],e.m43=n[14],e.m44=n[15]}else{if("matrix"!=a)throw new TypeError("Invalid Matrix Value");for(e.is2D=!0,e.isIdentity=!1,r=(n=t.slice(7,-1).split(",")).length;r--;)n[r]=+n[r];e.m11=e.a=n[0],e.m12=e.b=n[2],e.m41=e.e=n[4],e.m21=e.c=n[1],e.m22=e.d=n[3],e.m42=e.f=n[5]}return e},n.prototype.multiply=function(t){return e(this,t)},n.prototype.translate=function(t,r,a){return null==a&&(a=0),null==r&&(r=0),0!==this.m34&&a&&(this.is2D=!1),e(this,function(t,e,r){var a=new n;return a.m41=a.e=t,a.m42=a.f=e,a.m43=r,a}(t,r,a))},n.prototype.scale=function(t,r,a){return null==r&&(r=t),null==a&&(a=1),0!==this.m34&&(t!==r||t!==a||r!==a)&&(this.is2D=!1),e(this,function(t,e,r){var a=new n;return a.m11=a.a=t,a.m22=a.d=e,a.m33=r,a}(t,r,a))},n.prototype.rotate=function(t,r,a){return null==r&&(r=t),null==a&&(a=t),0!==this.m34&&(t||r)&&(this.is2D=!1),e(this,function(t,e,r){t*=Math.PI/180,e*=Math.PI/180,r*=Math.PI/180;var a=Math.cos(t),i=-Math.sin(t),s=Math.cos(e),u=-Math.sin(e),o=Math.cos(r),m=-Math.sin(r),c=new n;return c.m11=c.a=s*o,c.m12=c.b=-s*m,c.m13=u,c.m21=c.c=i*u*o+a*m,c.m22=c.d=a*o-i*u*m,c.m23=-i*s,c.m31=i*m-a*u*o,c.m32=i*o+a*u*m,c.m33=a*s,c}(t,r,a))},n.prototype.rotateAxisAngle=function(t,r,a,i){return 0!==this.m34&&(t||r)&&(this.is2D=!1),null==r&&(r=t),null==a&&(a=t),e(this,function(t,e,r,a){a*=Math.PI/360;var i=Math.sin(a),s=Math.cos(a),u=i*i,o=Math.sqrt(t*t+e*e+r*r);0===o?(t=0,e=0,r=1):(t/=o,e/=o,r/=o);var m=t*t,c=e*e,h=r*r,l=new n;return l.m11=l.a=1-2*(c+h)*u,l.m12=l.b=2*(t*e*u+r*i*s),l.m13=2*(t*r*u-e*i*s),l.m21=l.c=2*(e*t*u-r*i*s),l.m22=l.d=1-2*(h+m)*u,l.m23=2*(e*r*u+t*i*s),l.m31=2*(r*t*u+e*i*s),l.m32=2*(r*e*u-t*i*s),l.m33=1-2*(m+c)*u,l.m14=l.m24=l.m34=0,l.m41=l.e=l.m42=l.f=l.m43=0,l.m44=1,l}(t,r,a,i))},n.prototype.skewX=function(t){return e(this,function(t){t*=Math.PI/180;var e=new n;return e.m21=e.c=Math.tan(t),e}(t))},n.prototype.skewY=function(t){return e(this,function(t){t*=Math.PI/180;var e=new n;return e.m12=e.b=Math.tan(t),e}(t))},n.prototype.toString=function(){var t=this;return t.is2D?"matrix("+[t.a,t.b,t.c,t.d,t.e,t.f].join(", ")+")":"matrix3d("+[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44].join(", ")+")"},n.prototype.setIdentity=function(){var t=this;return t.is2D=!0,t.isIdentity=!0,t.m11=t.a=1,t.m12=t.b=0,t.m13=0,t.m14=0,t.m21=t.c=0,t.m22=t.d=1,t.m23=0,t.m24=0,t.m31=0,t.m32=0,t.m33=1,t.m34=0,t.m41=t.e=0,t.m42=t.f=0,t.m43=0,t.m44=1,this};var r=void 0!==typeof DOMMatrix?DOMMatrix:n;function a(t){return t.map((function(t){return Array.isArray(t)?a(t):isNaN(+t)?t:+t}))}function i(e,n){var r=isNaN(+n)?t.round&&t.decimals:+n;return r?e.map((function(t){return t.map((function(t,e){var n=+t,a=Math.pow(10,r);return e?n%1==0?n:Math.round(n*a)/a:t}))})):a(e)}function s(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n];r.length;)e[n]="A",t.splice(n++,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}r.prototype.toArray=function(){var t=this;return[t.a,t.b,t.c,t.d,t.e,t.f]};var u={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function o(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return u[e]===t.length-1&&/[achlmrqstvz]/g.test(e)}))}function m(t){return o(t)&&t.slice(1).every((function(t){return"C"===t[0]}))}function c(t){var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;if("m"===n&&r.length>2&&(t.segments.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.segments.push([e].concat(r));else for(;r.length>=u[n]&&(t.segments.push([e].concat(r.splice(0,u[n]))),u[n]););}function h(t){var e=t.pathValue.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="Invalid path value: invalid Arc flag "+e)}function l(t){return t>=48&&t<=57}function f(t){var e,n=t.index,r=n,a=t.max,i=!1,s=!1,u=!1,o=!1;if(r>=a)t.err="Invalid path value: missing param "+t.pathValue[r];else if(43!==(e=t.pathValue.charCodeAt(r))&&45!==e||(e=++r<a?t.pathValue.charCodeAt(r):0),l(e)||46===e){if(46!==e){if(i=48===e,e=++r<a?t.pathValue.charCodeAt(r):0,i&&r<a&&e&&l(e))return void(t.err="Invalid path value: "+t.pathValue[n]+" illegal number");for(;r<a&&l(t.pathValue.charCodeAt(r));)r++,s=!0;e=r<a?t.pathValue.charCodeAt(r):0}if(46===e){for(o=!0,r++;l(t.pathValue.charCodeAt(r));)r++,u=!0;e=r<a?t.pathValue.charCodeAt(r):0}if(101===e||69===e){if(o&&!s&&!u)return void(t.err="Invalid path value: "+t.pathValue[r]+" invalid float exponent");if(43!==(e=++r<a?t.pathValue.charCodeAt(r):0)&&45!==e||r++,!(r<a&&l(t.pathValue.charCodeAt(r))))return void(t.err="Invalid path value: "+t.pathValue[r]+" invalid float exponent");for(;r<a&&l(t.pathValue.charCodeAt(r));)r++}t.index=r,t.param=+t.pathValue.slice(n,r)}else t.err="Invalid path value: "+t.pathValue[r]+" not number"}function p(t){for(;t.index<t.max&&(10===(e=t.pathValue.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0);)t.index++;var e}function y(t){return t>=48&&t<=57||43===t||45===t||46===t}function x(t){var e,n,r,a,i=t.max;if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(e=t.pathValue.charCodeAt(t.index)))if(r=u[t.pathValue[t.index].toLowerCase()],t.index++,p(t),t.data=[],r){for(n=!1;;){for(a=r;a>0;a--){if(97!=(32|e)||3!==a&&4!==a?f(t):h(t),t.err.length)return;t.data.push(t.param),p(t),n=!1,t.index<i&&44===t.pathValue.charCodeAt(t.index)&&(t.index++,p(t),n=!0)}if(!n){if(t.index>=t.max)break;if(!y(t.pathValue.charCodeAt(t.index)))break}}c(t)}else c(t);else t.err="Invalid path value: "+t.pathValue[t.index]+" not a path command"}function d(t){return this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err="",this}function v(t,e){if(o(t))return a(t);var n=new d(t);for(p(n);n.index<n.max&&!n.err.length;)x(n);return n.err.length?n.segments=[]:n.segments.length&&("mM".indexOf(n.segments[0][0])<0?(n.err="Invalid path value: missing M/m",n.segments=[]):n.segments[0][0]="M"),i(n.segments,e)}function M(t){return o(t)&&t.every((function(t){return t[0]===t[0].toUpperCase()}))}function g(t,e){if(M(t))return a(t);t=v(t);var n=[],r=0,s=0,u=0,o=0,m=0,c=t.length,h="",l=[],f=0,p=[];"M"===t[0][0]&&(r=+t[0][1],s=+t[0][2],u=r,o=s,m++,n[0]=["M",r,s]);for(var y=m;y<c;y++){if(h=(l=t[y])[0],n.push(p=[]),h!==h.toUpperCase())switch(p[0]=h.toUpperCase(),p[0]){case"A":l.slice(1,-2).concat([+l[6]+r,+l[7]+s]).map((function(t){return p.push(t)}));break;case"V":p[1]=+l[1]+s;break;case"H":p[1]=+l[1]+r;break;case"M":u=+l[1]+r,o=+l[2]+s;default:l.map((function(t,e){return e&&p.push(+t+(e%2?r:s))}))}else l.map((function(t){return p.push(t)}));switch(f=p.length,p[0]){case"Z":r=u,s=o;break;case"H":r=+p[1];break;case"V":s=+p[1];break;case"M":u=+p[f-2],o=+p[f-1];default:r=+p[f-2],s=+p[f-1]}}return i(n,e)}function b(t,e,n){var r,a;switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"H":return["L",t[1],e.y1];case"V":return["L",e.x1,t[1]];case"S":return a=function(t,e,n,r,a){return"CS".indexOf(a)>-1?{x1:2*t-n,y1:2*e-r}:{x1:t,y1:e}}(e.x1,e.y1,e.x2,e.y2,n),e.x1=a.x1,e.y1=a.y1,["C",a.x1,a.y1].concat(t.slice(1));case"T":return r=function(t,e,n,r,a){return"QT".indexOf(a)>-1?{qx:2*t-n,qy:2*e-r}:{qx:t,qy:e}}(e.x1,e.y1,e.qx,e.qy,n),e.qx=r.qx,e.qy=r.qy,["Q",e.qx,e.qy].concat(t.slice(1));case"Q":e.qx=t[1],e.qy=t[2]}return t}function A(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return u[e]===t.length-1&&/[ACLMQZ]/.test(t[0])}))}function w(t,e){if(A(t))return a(t);for(var n,r,s={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},u=[],o="",m="",c=(t=g(t)).length,h=0;h<c;h++)o=t[h][0],u[h]=o,h&&(m=u[h-1]),t[h]=b(t[h],s,m),r=(n=t[h]).length,s.x1=+n[r-2],s.y1=+n[r-1],s.x2=+n[r-4]||s.x1,s.y2=+n[r-3]||s.y1;return i(t,e)}function C(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function q(t,e,n,r,a,i,s,u,o,m){var c,h,l,f,p,y=120*Math.PI/180,x=Math.PI/180*(a||0),d=[];if(m)h=m[0],l=m[1],f=m[2],p=m[3];else{t=(c=C(t,e,-x)).x,e=c.y;var v=(t-(u=(c=C(u,o,-x)).x))/2,M=(e-(o=c.y))/2,g=v*v/(n*n)+M*M/(r*r);g>1&&(n*=g=Math.sqrt(g),r*=g);var b=n*n,A=r*r,w=(i==s?-1:1)*Math.sqrt(Math.abs((b*A-b*M*M-A*v*v)/(b*M*M+A*v*v)));f=w*n*M/r+(t+u)/2,p=w*-r*v/n+(e+o)/2,h=Math.asin(((e-p)/r).toFixed(9)),l=Math.asin(((o-p)/r).toFixed(9)),h=t<f?Math.PI-h:h,l=u<f?Math.PI-l:l,h<0&&(h=2*Math.PI+h),l<0&&(l=2*Math.PI+l),s&&h>l&&(h-=2*Math.PI),!s&&l>h&&(l-=2*Math.PI)}var V=l-h;if(Math.abs(V)>y){var I=l,P=u,k=o;l=h+y*(s&&l>h?1:-1),u=f+n*Math.cos(l),o=p+r*Math.sin(l),d=q(u,o,n,r,a,0,s,P,k,[l,I,f,p])}V=l-h;var S=Math.cos(h),L=Math.sin(h),T=Math.cos(l),N=Math.sin(l),D=Math.tan(V/4),O=4/3*n*D,Q=4/3*r*D,j=[t,e],z=[t+O*L,e-Q*S],Z=[u+O*N,o-Q*T],H=[u,o];return z[0]=2*j[0]-z[0],z[1]=2*j[1]-z[1],m?[z,Z,H].concat(d):(d=[z,Z,H].concat(d).join().split(",")).map((function(t,e){return e%2?C(d[e-1],t,x).y:C(t,d[e+1],x).x}))}function V(t,e,n,r,a,i){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*a+2/3*n,1/3*i+2/3*r,a,i]}function I(t,e,n,r,a,i,s,u,o){var m=1-o;return{x:Math.pow(m,3)*t+3*Math.pow(m,2)*o*n+3*m*o*o*a+Math.pow(o,3)*s,y:Math.pow(m,3)*e+3*Math.pow(m,2)*o*r+3*m*o*o*i+Math.pow(o,3)*u}}function P(t,e,n){return[t[0]+(e[0]-t[0])*n,t[1]+(e[1]-t[1])*n]}function k(t,e,n,r){var a=.5,i=[t,e],s=[n,r],u=P(i,s,a),o=P(s,u,a),m=P(u,o,a),c=P(o,m,a),h=P(m,c,a),l=I.apply(0,i.concat(u,m,h,a)),f=I.apply(0,h.concat(c,o,s,0));return[l.x,l.y,f.x,f.y,n,r]}function S(t,e){switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"M":return e.x=t[1],e.y=t[2],t;case"A":return["C"].concat(q.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=t[1],e.qy=t[2],["C"].concat(V.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(k(e.x1,e.y1,t[1],t[2]));case"Z":return["C"].concat(k(e.x1,e.y1,e.x,e.y))}return t}function L(t,e){if(m(t))return a(t);for(var n,r,u={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},o=[],c="",h=(t=w(t)).length,l=0;l<h;l++)t[l]&&(c=t[l][0]),o[l]=c,t[l]=S(t[l],u),s(t,o,l),h=t.length,r=(n=t[l]).length,u.x1=+n[r-2],u.y1=+n[r-1],u.x2=+n[r-4]||u.x1,u.y2=+n[r-3]||u.y1;return i(t,e)}function T(t,e,n,r,a,i,s,u){return 3*((u-e)*(n+a)-(s-t)*(r+i)+r*(t-a)-n*(e-i)+u*(a+t/3)-s*(i+e/3))/20}function N(t){var e=0,n=0,r=0,a=0,i=0;return L(t).map((function(t,s){var u;switch(t[0]){case"M":case"Z":return r="M"===t[0]?t[1]:r,a="M"===t[0]?t[2]:a,e=r,n=a,0;default:return i=T.apply(0,[e,n].concat(t.slice(1))),u=t.slice(-2),e=u[0],n=u[1],i}})).reduce((function(t,e){return t+e}),0)}function D(t,e,n,r,a){return a*(a*(-3*t+9*e-9*n+3*r)+6*t-12*e+6*n)-3*t+3*e}function O(t,e,n,r,a,i,s,u,o){(null===o||isNaN(+o))&&(o=1);var m=(o=o>1?1:o<0?0:o)/2,c=0,h=0,l=0,f=0,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].map((function(o,y){h=D(t,n,a,s,c=m*o+m),l=D(e,r,i,u,c),f+=p[y]*Math.sqrt(h*h+l*l)})),m*f}function Q(t,e,n,r,a,i,s,u){var o,m=a-2*n+t-(s-2*a+n),c=2*(n-t)-2*(a-n),h=t-n,l=(-c+Math.sqrt(c*c-4*m*h))/2/m,f=(-c-Math.sqrt(c*c-4*m*h))/2/m,p=[e,u],y=[t,s];return Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(o=I(t,e,n,r,a,i,s,u,l),y.push(o.x),p.push(o.y)),f>0&&f<1&&(o=I(t,e,n,r,a,i,s,u,f),y.push(o.x),p.push(o.y)),m=i-2*r+e-(u-2*i+r),h=e-r,l=(-(c=2*(r-e)-2*(i-r))+Math.sqrt(c*c-4*m*h))/2/m,f=(-c-Math.sqrt(c*c-4*m*h))/2/m,Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(o=I(t,e,n,r,a,i,s,u,l),y.push(o.x),p.push(o.y)),f>0&&f<1&&(o=I(t,e,n,r,a,i,s,u,f),y.push(o.x),p.push(o.y)),{min:{x:Math.min.apply(0,y),y:Math.min.apply(0,p)},max:{x:Math.max.apply(0,y),y:Math.max.apply(0,p)}}}function j(t){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=L(t);var e=0,n=0,r=[],a=[];t.map((function(t){if("M"===t[0])e=t[1],n=t[2],r.push(e),a.push(n);else{var i=Q.apply(0,[e,n].concat(t.slice(1)));r=r.concat(i.min.x,i.max.x),a=a.concat(i.min.y,i.max.y),e=t[5],n=t[6]}}));var i=Math.min.apply(0,r),s=Math.min.apply(0,a),u=Math.max.apply(0,r),o=Math.max.apply(0,a),m=u-i,c=o-s;return{x:i,y:s,x2:u,y2:o,width:m,height:c,cx:i+m/2,cy:s+c/2}}function z(t){return o(t)&&t.slice(1).every((function(t){return t[0]===t[0].toLowerCase()}))}function Z(t){return t.replace(/(m|M)/g,"|$1").split("|").map((function(t){return t.trim()})).filter((function(t){return t}))}function H(t,e){if(z(t))return a(t);t=v(t);var n=[],r=0,s=0,u=0,o=0,m=0,c=[],h="",l=[],f=0,p=t.length;"M"===t[0][0]&&(s=+t[0][1],u=+t[0][2],o=s,m=u,f++,n.push(["M",s,u]));for(var y=function(e){if(c=t[e],h=c[0],n.push(l=[]),h!==h.toLowerCase())switch(l[0]=h.toLowerCase(),l[0]){case"a":c.slice(1,-2).concat([+c[6]-s,+c[7]-u]).map((function(t){return l.push(t)}));break;case"v":l[1]=+c[1]-u;break;case"m":o=+c[1],m=+c[2];default:c.map((function(t,e){return e&&l.push(+t-(e%2?s:u))}))}else l=[],n[e]=l,"m"===h&&(o=+c[1]+s,m=+c[2]+u),c.map((function(t){return n[e].push(t)}));switch(r=n[e].length,n[e][0]){case"z":s=o,u=m;break;case"h":s+=n[e][r-1];break;case"v":u+=n[e][r-1];break;default:s+=n[e][r-2],u+=n[e][r-1]}},x=f;x<p;x++)y(x);return i(n,e)}function X(t,e){var n=g(t,e),r=H(t,e);return n.map((function(t,e){return e?t.join("").length<r[e].join("").length?t:r[e]:t}))}function R(t,e){var n=g(t,e),r="Z"===n.slice(-1)[0][0],a=[],i=0;return a=w(n).map((function(t,e){return i=t.length,{seg:n[e],n:t,c:n[e][0],x:t[i-2],y:t[i-1]}})).map((function(t,e,n){var a=t.seg,i=t.n,s=e&&n[e-1],u=n[e+1]&&n[e+1],o=t.c,m=n.length,c=e?n[e-1].x:n[m-1].x,h=e?n[e-1].y:n[m-1].y,l=[];switch(o){case"M":l=r?["Z"]:[o,c,h];break;case"A":l=a.slice(0,-3).concat([1===a[5]?0:1,c,h]);break;case"C":l=u&&"S"===u.c?["S",a[1],a[2],c,h]:[o,a[3],a[4],a[1],a[2],c,h];break;case"S":l=s&&"CS".indexOf(s.c)>-1&&(!u||u&&"S"!==u.c)?["C",i[3],i[4],i[1],i[2],c,h]:[o,i[1],i[2],c,h];break;case"Q":l=u&&"T"===u.c?["T",c,h]:a.slice(0,-2).concat([c,h]);break;case"T":l=s&&"QT".indexOf(s.c)>-1&&(!u||u&&"T"!==u.c)?["Q",i[1],i[2],c,h]:[o,c,h];break;case"Z":l=["M",c,h];break;case"H":l=[o,c];break;case"V":l=[o,h];break;default:l=a.slice(0,-2).concat([c,h])}return l})),r?a.reverse():[a[0]].concat(a.slice(1).reverse())}function U(t){return t.map((function(t){return t[0].concat(t.slice(1).join(" "))})).join("")}var Y={CSSMatrix:r,parsePathString:v,isPathArray:o,isCurveArray:m,isAbsoluteArray:M,isRelativeArray:z,isNormalizedArray:A,pathToAbsolute:g,pathToRelative:H,pathToCurve:L,pathToString:U,getDrawDirection:function(t){return N(L(t))>=0},getPathArea:N,getPathBBox:j,getPathLength:function(t){var e=0;return L(t).map((function(t,n,r){e+="M"!==t[0]?O.apply(0,r[n-1].slice(-2).concat(t.slice(1))):0})),e},getPointAtLength:function(t,e){var n,r,a=0;return L(t).map((function(t,i,s){return r=i?s[i-1].slice(-2).concat(t.slice(1)):t.slice(1),n=i?O.apply(0,r):0,a+=n,0===i?{x:r[0],y:r[1]}:a>e&&e>a-n?I.apply(0,r.concat(1-(a-e)/n)):null})).filter((function(t){return t})).slice(-1)[0]},clonePath:a,splitPath:Z,roundPath:i,optimizePath:X,reverseCurve:function(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))},reversePath:R,normalizePath:w,options:t};function B(t,e,n){return[e*t[0]+n*t[2]+t[4],e*t[1]+n*t[3]+t[5]]}function E(t,e,n){var a,s,u,o,m,c,h,l,f=n.round,p=n.origin,y=g(t),x=L(y),d=w(y),v=function(t,e,n){var a=new r,i=j(t),s=n&&!isNaN(n.x)?+n.x:i.cx,u=n&&!isNaN(n.y)?+n.y:i.cy,o=e.translate,m=e.rotate,c=e.skew,h=e.scale;return o&&(a=Array.isArray(o)?a.translate.apply(a,o):a.translate(o)),(m||c||h)&&(a=a.translate(s,u),m&&(a=Array.isArray(m)?a.rotate.apply(a,m):a.rotate(m)),c&&(Array.isArray(c)?(a=c[0]?a.skewX(c[0]):a,a=c[1]?a.skewY(c[1]):a):a=a.skewX(c)),h&&(a=Array.isArray(h)?a.scale.apply(a,h):a.scale(h)),a=a.translate(-s,-u)),a.toArray()}(x,e,p),M={x1:0,y1:0,x2:0,y2:0,x:0,y:0},b=[],A=[],C=0,q="",V=[];for(u=0,m=y.length;u<m;u++)A=y[u],y[u]&&(q=A[0]),C=(A=d[u]).length,M.x1=+A[C-2],M.y1=+A[C-1],M.x2=+A[C-4]||M.x1,M.y2=+A[C-3]||M.y1,V={s:y[u],c:y[u][0]},"Z"!==q&&(V.x=M.x1,V.y=M.y1),b=b.concat(V);return i(b=b.map((function(t,e,n){var r,i,u;switch(q=t.c,A=t.s,q){case"A":var m=function(t,e,n,r){var a=Math.cos(r*Math.PI/180),i=Math.sin(r*Math.PI/180),s=[e*(t[0]*a+t[2]*i),e*(t[1]*a+t[3]*i),n*(-t[0]*i+t[2]*a),n*(-t[1]*i+t[3]*a)],u=s[0]*s[0]+s[2]*s[2],o=s[1]*s[1]+s[3]*s[3],m=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),c=(u+o)/2;if(m<1e-9*c)return{rx:e=n=Math.sqrt(c),ry:n,ax:r=0};var h=s[0]*s[1]+s[2]*s[3],l=c+(m=Math.sqrt(m))/2,f=c-m/2;return(r=Math.abs(h)<1e-9&&Math.abs(l-o)<1e-9?90:180*Math.atan(Math.abs(h)>Math.abs(l-o)?(l-u)/h:h/(l-o))/Math.PI)>=0?(e=Math.sqrt(l),n=Math.sqrt(f)):(r+=90,e=Math.sqrt(f),n=Math.sqrt(l)),{rx:e,ry:n,ax:r}}(v,A[1],A[2],A[3]);return v[0]*v[3]-v[1]*v[2]<0&&(A[5]=+A[5]?0:1),r=B(v,t.x,t.y),a=r[0],s=r[1],A[6]===a&&A[7]===s||m.rx<1e-9*m.ry||m.ry<1e-9*m.rx?["L",a,s]:[q,m.rx,m.ry,m.ax,A[4],A[5],a,s];case"L":case"H":case"V":return i=B(v,t.x,t.y),h=i[0],l=i[1],a!==h&&s!==l?A=["L",h,l]:s===l?A=["H",h]:a===h&&(A=["V",l]),a=h,s=l,A;default:for(o=1,c=A.length;o<c;o+=2)u=B(v,A[o],A[o+1]),a=u[0],s=u[1],A[o]=a,A[o+1]=s;return A}})),f)}var F=function(e,n){var r=!n||0!=+n.round&&!1!==n.round?t.round:0,i=r&&(n&&n.decimals||t.decimals),s=n&&n.origin,u=v(e,this.round);return this.round=0===r?0:i,this.origin=!s||isNaN(s.x)||isNaN(s.y)?null:s,this.segments=a(u),this.pathValue=e,this};for(var G in F.prototype.toAbsolute=function(){var t=g(this.segments,this.round);return this.segments=a(t),this},F.prototype.toRelative=function(){var t=H(this.segments,this.round);return this.segments=a(t),this},F.prototype.reverse=function(t){this.toAbsolute();var e,n,r=Z(this.pathValue).length>1&&Z(this.toString());return e=r&&a(r).map((function(e,n){return t?n?R(e):v(e):R(e)})),n=r?[].concat.apply([],e):t?this.segments:R(this.segments),this.segments=a(n),this},F.prototype.normalize=function(){var t=w(this.segments,this.round);return this.segments=a(t),this},F.prototype.optimize=function(){var t=X(this.segments,this.round);return this.segments=a(t),this},F.prototype.transform=function(t){var e=E(this.segments,t,{round:this.round,origin:this.origin});return this.segments=a(e),this},F.prototype.flipX=function(){return this.transform({rotate:[180,0,0]}),this},F.prototype.flipY=function(){return this.transform({rotate:[0,180,0]}),this},F.prototype.toString=function(){return U(this.segments)},Y)F[G]=Y[G];return F}));
