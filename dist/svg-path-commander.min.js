// SVGPathCommander v0.0.9 | thednp Â© 2020 | MIT-License
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SVGPathCommander=e()}(this,(function(){"use strict";var t={origin:null,decimals:3,round:1};function e(t,e,r){var n=new u;return n.m41=n.e=t,n.m42=n.f=e,n.m43=r,n}function r(t,e,r){var n=new u;t*=Math.PI/180,e*=Math.PI/180,r*=Math.PI/180;var a=Math.cos(t),i=-Math.sin(t),s=Math.cos(e),o=-Math.sin(e),m=Math.cos(r),c=-Math.sin(r);return n.m11=n.a=s*m,n.m12=n.b=-s*c,n.m13=o,n.m21=n.c=i*o*m+a*c,n.m22=n.d=a*m-i*o*c,n.m23=-i*s,n.m31=i*c-a*o*m,n.m32=i*m+a*o*c,n.m33=a*s,n}function n(t,e,r,n){n*=Math.PI/360;var a=Math.sin(n),i=Math.cos(n),s=a*a,o=Math.sqrt(t*t+e*e+r*r);0===o?(t=0,e=0,r=1):(t/=o,e/=o,r/=o);var m=t*t,c=e*e,h=r*r,l=new u;return l.m11=l.a=1-2*(c+h)*s,l.m12=l.b=2*(t*e*s+r*a*i),l.m13=2*(t*r*s-e*a*i),l.m21=l.c=2*(e*t*s-r*a*i),l.m22=l.d=1-2*(h+m)*s,l.m23=2*(e*r*s+t*a*i),l.m31=2*(r*t*s+e*a*i),l.m32=2*(r*e*s-t*a*i),l.m33=1-2*(m+c)*s,l.m14=l.m24=l.m34=0,l.m41=l.e=l.m42=l.f=l.m43=0,l.m44=1,l}function a(t,e,r){var n=new u;return n.m11=n.a=t,n.m22=n.d=e,n.m33=r,n}function i(t){t*=Math.PI/180;var e=new u;return e.m21=e.c=Math.tan(t),e}function s(t){t*=Math.PI/180;var e=new u;return e.m12=e.b=Math.tan(t),e}function o(t,e){var r=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,n=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,a=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,i=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,s=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,o=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,m=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,c=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,h=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,l=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,f=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,p=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,y=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,x=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,d=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,v=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return new u([r,s,h,y,n,o,l,x,a,m,f,d,i,c,p,v])}function m(t,e){var r=Array.from(e);return 16==r.length?(t.m11=t.a=r[0],t.m21=t.c=r[1],t.m31=r[2],t.m41=t.e=r[3],t.m12=t.b=r[4],t.m22=t.d=r[5],t.m32=r[6],t.m42=t.f=r[7],t.m13=r[8],t.m23=r[9],t.m33=r[10],t.m43=r[11],t.m14=r[12],t.m24=r[13],t.m34=r[14],t.m44=r[15]):6==r.length?(t.m11=t.a=r[0],t.m12=t.b=r[1],t.m14=t.e=r[4],t.m21=t.c=r[2],t.m22=t.d=r[3],t.m24=t.f=r[5]):console.error("CSSMatrix: expecting a 6/16 values Array"),t}var u=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.setIdentity(),t&&t.length&&this.setMatrixValue(t)},c={isIdentity:{configurable:!0},is2D:{configurable:!0}};u.prototype.setMatrixValue=function(t){var e=this;if(!t||!t.length)return e;if(t.length&&"string"==typeof t[0]&&t[0].length){var r,n,a=String(t[0]).trim();if("none"==a)return e;r=a.slice(0,a.indexOf("(")),n=a.slice("matrix"===r?7:9,-1).split(",").map((function(t){return Math.abs(t)<1e-6?0:+t})),[6,16].indexOf(n.length)>-1?m(e,n):console.error("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax")}else t[0]instanceof u||Array.isArray(t[0])?m(e,t[0]):Array.isArray(t)&&m(e,t);return e},u.prototype.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},u.prototype.toArray=function(t){var e=this;return e.is2D?[e.a,e.b,e.c,e.d,e.e,e.f]:t?[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]:[e.m11,e.m21,e.m31,e.m41,e.m12,e.m22,e.m32,e.m42,e.m13,e.m23,e.m33,e.m43,e.m14,e.m24,e.m34,e.m44]},u.prototype.multiply=function(t){return o(this,t)},u.prototype.translate=function(t,r,n){return null==n&&(n=0),null==r&&(r=0),o(this,e(t,r,n))},u.prototype.scale=function(t,e,r){return null==e&&(e=t),null==r&&(r=t),o(this,a(t,e,r))},u.prototype.rotate=function(t,e,n){return null==e&&(e=0),null==n&&(n=t,t=0),o(this,r(t,e,n))},u.prototype.rotateAxisAngle=function(t,e,r,a){return 4!==arguments.length?(console.error("CSSMatrix: expecting 4 values"),this):o(this,n(t,e,r,a))},u.prototype.skewX=function(t){return o(this,i(t))},u.prototype.skewY=function(t){return o(this,s(t))},u.prototype.setIdentity=function(){return m(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},c.isIdentity.get=function(){var t=this;return 1==t.m11&&0==t.m12&&0==t.m13&&0==t.m14&&0==t.m21&&1==t.m22&&0==t.m23&&0==t.m24&&0==t.m31&&0==t.m32&&1==t.m33&&0==t.m34&&0==t.m41&&0==t.m42&&0==t.m43&&1==t.m44},c.isIdentity.set=function(t){this.isIdentity=t},c.is2D.get=function(){var t=this;return 0==t.m31&&0==t.m32&&1==t.m33&&0==t.m34&&0==t.m43&&1==t.m44},c.is2D.set=function(t){this.is2D=t},u.prototype.transformPoint=function(t){var r=e(t.x,t.y,t.z);return r.m44=t.w||1,{x:(r=this.multiply(r)).m41,y:r.m42,z:r.m43,w:r.m44}},Object.defineProperties(u.prototype,c),u.Translate=e,u.Rotate=r,u.RotateAxisAngle=n,u.Scale=a,u.SkewX=i,u.SkewY=s,u.Multiply=o,u.fromMatrix=function(t){return new u([t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44])},u.fromArray=function(t){return m(new u,t)},u.feedFromArray=m;var h=void 0!==typeof DOMMatrix?DOMMatrix:u;function l(t){return t.map((function(t){return Array.isArray(t)?l(t):isNaN(+t)?t:+t}))}function f(e,r){var n=isNaN(+r)?t.round&&t.decimals:+r;return n?e.map((function(t){return t.map((function(t,e){var r=+t,a=Math.pow(10,n);return r?r%1==0?r:Math.round(r*a)/a:t}))})):l(e)}function p(t,e,r){if(t[r].length>7){t[r].shift();for(var n=t[r];n.length;)e[r]="A",t.splice(r++,0,["C"].concat(n.splice(0,6)));t.splice(r,1)}}var y={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function x(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return y[e]===t.length-1&&/[achlmrqstvz]/g.test(e)}))}function d(t){return x(t)&&t.slice(1).every((function(t){return"C"===t[0]}))}function v(t){var e=t.pathValue[t.segmentStart],r=e.toLowerCase(),n=t.data;if("m"===r&&n.length>2&&(t.segments.push([e,n[0],n[1]]),n=n.slice(2),r="l",e="m"===e?"l":"L"),"r"===r)t.segments.push([e].concat(n));else for(;n.length>=y[r]&&(t.segments.push([e].concat(n.splice(0,y[r]))),y[r]););}function M(t){var e=t.pathValue.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="Invalid path value: invalid Arc flag "+e)}function g(t){return t>=48&&t<=57}function A(t){var e,r=t.index,n=r,a=t.max,i=!1,s=!1,o=!1,m=!1;if(n>=a)t.err="Invalid path value: missing param "+t.pathValue[n];else if(43!==(e=t.pathValue.charCodeAt(n))&&45!==e||(e=++n<a?t.pathValue.charCodeAt(n):0),g(e)||46===e){if(46!==e){if(i=48===e,e=++n<a?t.pathValue.charCodeAt(n):0,i&&n<a&&e&&g(e))return void(t.err="Invalid path value: "+t.pathValue[r]+" illegal number");for(;n<a&&g(t.pathValue.charCodeAt(n));)n++,s=!0;e=n<a?t.pathValue.charCodeAt(n):0}if(46===e){for(m=!0,n++;g(t.pathValue.charCodeAt(n));)n++,o=!0;e=n<a?t.pathValue.charCodeAt(n):0}if(101===e||69===e){if(m&&!s&&!o)return void(t.err="Invalid path value: "+t.pathValue[n]+" invalid float exponent");if(43!==(e=++n<a?t.pathValue.charCodeAt(n):0)&&45!==e||n++,!(n<a&&g(t.pathValue.charCodeAt(n))))return void(t.err="Invalid path value: "+t.pathValue[n]+" invalid float exponent");for(;n<a&&g(t.pathValue.charCodeAt(n));)n++}t.index=n,t.param=+t.pathValue.slice(r,n)}else t.err="Invalid path value: "+t.pathValue[n]+" not number"}function b(t){for(;t.index<t.max&&(10===(e=t.pathValue.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0);)t.index++;var e}function w(t){return t>=48&&t<=57||43===t||45===t||46===t}function C(t){var e,r,n,a,i=t.max;if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(e=t.pathValue.charCodeAt(t.index)))if(n=y[t.pathValue[t.index].toLowerCase()],t.index++,b(t),t.data=[],n){for(r=!1;;){for(a=n;a>0;a--){if(97!=(32|e)||3!==a&&4!==a?A(t):M(t),t.err.length)return;t.data.push(t.param),b(t),r=!1,t.index<i&&44===t.pathValue.charCodeAt(t.index)&&(t.index++,b(t),r=!0)}if(!r){if(t.index>=t.max)break;if(!w(t.pathValue.charCodeAt(t.index)))break}}v(t)}else v(t);else t.err="Invalid path value: "+t.pathValue[t.index]+" not a path command"}function q(t){return this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err="",this}function V(t,e){if(x(t))return l(t);var r=new q(t);for(b(r);r.index<r.max&&!r.err.length;)C(r);return r.err.length?r.segments=[]:r.segments.length&&("mM".indexOf(r.segments[0][0])<0?(r.err="Invalid path value: missing M/m",r.segments=[]):r.segments[0][0]="M"),f(r.segments,e)}function P(t){return x(t)&&t.every((function(t){return t[0]===t[0].toUpperCase()}))}function I(t,e){if(P(t))return l(t);t=V(t);var r=[],n=0,a=0,i=0,s=0,o=0,m=t.length,u="",c=[],h=0,p=[];"M"===t[0][0]&&(n=+t[0][1],a=+t[0][2],i=n,s=a,o++,r[0]=["M",n,a]);for(var y=o;y<m;y++){if(u=(c=t[y])[0],r.push(p=[]),u!==u.toUpperCase())switch(p[0]=u.toUpperCase(),p[0]){case"A":c.slice(1,-2).concat([+c[6]+n,+c[7]+a]).map((function(t){return p.push(t)}));break;case"V":p[1]=+c[1]+a;break;case"H":p[1]=+c[1]+n;break;case"M":i=+c[1]+n,s=+c[2]+a;default:c.map((function(t,e){return e&&p.push(+t+(e%2?n:a))}))}else c.map((function(t){return p.push(t)}));switch(h=p.length,p[0]){case"Z":n=i,a=s;break;case"H":n=+p[1];break;case"V":a=+p[1];break;case"M":i=+p[h-2],s=+p[h-1];default:n=+p[h-2],a=+p[h-1]}}return f(r,e)}function S(t,e,r){var n,a;switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"H":return["L",t[1],e.y1];case"V":return["L",e.x1,t[1]];case"S":return a=function(t,e,r,n,a){return"CS".indexOf(a)>-1?{x1:2*t-r,y1:2*e-n}:{x1:t,y1:e}}(e.x1,e.y1,e.x2,e.y2,r),e.x1=a.x1,e.y1=a.y1,["C",a.x1,a.y1].concat(t.slice(1));case"T":return n=function(t,e,r,n,a){return"QT".indexOf(a)>-1?{qx:2*t-r,qy:2*e-n}:{qx:t,qy:e}}(e.x1,e.y1,e.qx,e.qy,r),e.qx=n.qx,e.qy=n.qy,["Q",e.qx,e.qy].concat(t.slice(1));case"Q":e.qx=t[1],e.qy=t[2]}return t}function k(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return y[e]===t.length-1&&/[ACLMQZ]/.test(t[0])}))}function L(t,e){if(k(t))return l(t);for(var r,n,a={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},i=[],s="",o="",m=(t=I(t)).length,u=0;u<m;u++)s=t[u][0],i[u]=s,u&&(o=i[u-1]),t[u]=S(t[u],a,o),n=(r=t[u]).length,a.x1=+r[n-2],a.y1=+r[n-1],a.x2=+r[n-4]||a.x1,a.y2=+r[n-3]||a.y1;return f(t,e)}function T(t,e,r){return{x:t*Math.cos(r)-e*Math.sin(r),y:t*Math.sin(r)+e*Math.cos(r)}}function N(t,e,r,n,a,i,s,o,m,u){var c,h,l,f,p,y=120*Math.PI/180,x=Math.PI/180*(a||0),d=[];if(u)h=u[0],l=u[1],f=u[2],p=u[3];else{t=(c=T(t,e,-x)).x,e=c.y;var v=(t-(o=(c=T(o,m,-x)).x))/2,M=(e-(m=c.y))/2,g=v*v/(r*r)+M*M/(n*n);g>1&&(r*=g=Math.sqrt(g),n*=g);var A=r*r,b=n*n,w=(i==s?-1:1)*Math.sqrt(Math.abs((A*b-A*M*M-b*v*v)/(A*M*M+b*v*v)));f=w*r*M/n+(t+o)/2,p=w*-n*v/r+(e+m)/2,h=Math.asin(((e-p)/n).toFixed(9)),l=Math.asin(((m-p)/n).toFixed(9)),h=t<f?Math.PI-h:h,l=o<f?Math.PI-l:l,h<0&&(h=2*Math.PI+h),l<0&&(l=2*Math.PI+l),s&&h>l&&(h-=2*Math.PI),!s&&l>h&&(l-=2*Math.PI)}var C=l-h;if(Math.abs(C)>y){var q=l,V=o,P=m;l=h+y*(s&&l>h?1:-1),o=f+r*Math.cos(l),m=p+n*Math.sin(l),d=N(o,m,r,n,a,0,s,V,P,[l,q,f,p])}C=l-h;var I=Math.cos(h),S=Math.sin(h),k=Math.cos(l),L=Math.sin(l),O=Math.tan(C/4),z=4/3*r*O,D=4/3*n*O,Q=[t,e],j=[t+z*S,e-D*I],Z=[o+z*L,m-D*k],H=[o,m];return j[0]=2*Q[0]-j[0],j[1]=2*Q[1]-j[1],u?[j,Z,H].concat(d):(d=[j,Z,H].concat(d).join().split(",")).map((function(t,e){return e%2?T(d[e-1],t,x).y:T(t,d[e+1],x).x}))}function O(t,e,r,n,a,i){return[1/3*t+2/3*r,1/3*e+2/3*n,1/3*a+2/3*r,1/3*i+2/3*n,a,i]}function z(t,e,r,n,a,i,s,o,m){var u=1-m;return{x:Math.pow(u,3)*t+3*Math.pow(u,2)*m*r+3*u*m*m*a+Math.pow(m,3)*s,y:Math.pow(u,3)*e+3*Math.pow(u,2)*m*n+3*u*m*m*i+Math.pow(m,3)*o}}function D(t,e,r){var n=t[0],a=t[1];return[n+(e[0]-n)*r,a+(e[1]-a)*r]}function Q(t,e,r,n){var a=.5,i=[t,e],s=[r,n],o=D(i,s,a),m=D(s,o,a),u=D(o,m,a),c=D(m,u,a),h=D(u,c,a),l=z.apply(0,i.concat(o,u,h,a)),f=z.apply(0,h.concat(c,m,s,0));return[l.x,l.y,f.x,f.y,r,n]}function j(t,e){switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"M":return e.x=t[1],e.y=t[2],t;case"A":return["C"].concat(N.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=t[1],e.qy=t[2],["C"].concat(O.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(Q(e.x1,e.y1,t[1],t[2]));case"Z":return["C"].concat(Q(e.x1,e.y1,e.x,e.y))}return t}function Z(t,e){if(d(t))return l(t);for(var r,n,a={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},i=[],s="",o=(t=L(t)).length,m=0;m<o;m++)t[m]&&(s=t[m][0]),i[m]=s,t[m]=j(t[m],a),p(t,i,m),o=t.length,n=(r=t[m]).length,a.x1=+r[n-2],a.y1=+r[n-1],a.x2=+r[n-4]||a.x1,a.y2=+r[n-3]||a.y1;return f(t,e)}function H(t,e,r,n,a,i,s,o){return 3*((o-e)*(r+a)-(s-t)*(n+i)+n*(t-a)-r*(e-i)+o*(a+t/3)-s*(i+e/3))/20}function R(t){var e=0,r=0,n=0,a=0,i=0;return Z(t).map((function(t){var s;switch(t[0]){case"M":case"Z":return n="M"===t[0]?t[1]:n,a="M"===t[0]?t[2]:a,e=n,r=a,0;default:return i=H.apply(0,[e,r].concat(t.slice(1))),s=t.slice(-2),e=s[0],r=s[1],i}})).reduce((function(t,e){return t+e}),0)}function X(t,e,r,n,a){return a*(a*(-3*t+9*e-9*r+3*n)+6*t-12*e+6*r)-3*t+3*e}function Y(t,e,r,n,a,i,s,o,m){(null===m||isNaN(+m))&&(m=1);var u=(m=m>1?1:m<0?0:m)/2,c=0,h=0,l=0,f=0,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].map((function(m,y){h=X(t,r,a,s,c=u*m+u),l=X(e,n,i,o,c),f+=p[y]*Math.sqrt(h*h+l*l)})),u*f}function F(t,e,r,n,a,i,s,o){var m,u=a-2*r+t-(s-2*a+r),c=2*(r-t)-2*(a-r),h=t-r,l=(-c+Math.sqrt(c*c-4*u*h))/2/u,f=(-c-Math.sqrt(c*c-4*u*h))/2/u,p=[e,o],y=[t,s];return Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(m=z(t,e,r,n,a,i,s,o,l),y.push(m.x),p.push(m.y)),f>0&&f<1&&(m=z(t,e,r,n,a,i,s,o,f),y.push(m.x),p.push(m.y)),u=i-2*n+e-(o-2*i+n),h=e-n,l=(-(c=2*(n-e)-2*(i-n))+Math.sqrt(c*c-4*u*h))/2/u,f=(-c-Math.sqrt(c*c-4*u*h))/2/u,Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(m=z(t,e,r,n,a,i,s,o,l),y.push(m.x),p.push(m.y)),f>0&&f<1&&(m=z(t,e,r,n,a,i,s,o,f),y.push(m.x),p.push(m.y)),{min:{x:Math.min.apply(0,y),y:Math.min.apply(0,p)},max:{x:Math.max.apply(0,y),y:Math.max.apply(0,p)}}}function U(t){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=Z(t);var e=0,r=0,n=[],a=[];t.map((function(t){if("M"===t[0])e=t[1],r=t[2],n.push(e),a.push(r);else{var i=F.apply(0,[e,r].concat(t.slice(1)));n=n.concat(i.min.x,i.max.x),a=a.concat(i.min.y,i.max.y),e=t[5],r=t[6]}}));var i=Math.min.apply(0,n),s=Math.min.apply(0,a),o=Math.max.apply(0,n),m=Math.max.apply(0,a),u=o-i,c=m-s;return{x:i,y:s,x2:o,y2:m,width:u,height:c,cx:i+u/2,cy:s+c/2}}function B(t){return x(t)&&t.slice(1).every((function(t){return t[0]===t[0].toLowerCase()}))}function G(t){return t.map((function(t){return t[0].concat(t.slice(1).join(" "))})).join("")}function $(t){return G(I(t,0)).replace(/(m|M)/g,"|$1").split("|").map((function(t){return t.trim()})).filter((function(t){return t}))}function E(t,e){if(B(t))return l(t);t=V(t);var r=[],n=0,a=0,i=0,s=0,o=0,m=[],u="",c=[],h=0,p=t.length;"M"===t[0][0]&&(a=+t[0][1],i=+t[0][2],s=a,o=i,h++,r.push(["M",a,i]));for(var y=function(e){if(m=t[e],u=m[0],r.push(c=[]),u!==u.toLowerCase())switch(c[0]=u.toLowerCase(),c[0]){case"a":m.slice(1,-2).concat([+m[6]-a,+m[7]-i]).map((function(t){return c.push(t)}));break;case"v":c[1]=+m[1]-i;break;case"m":s=+m[1],o=+m[2];default:m.map((function(t,e){return e&&c.push(+t-(e%2?a:i))}))}else c=[],r[e]=c,"m"===u&&(s=+m[1]+a,o=+m[2]+i),m.map((function(t){return r[e].push(t)}));switch(n=r[e].length,r[e][0]){case"z":a=s,i=o;break;case"h":a+=r[e][n-1];break;case"v":i+=r[e][n-1];break;default:a+=r[e][n-2],i+=r[e][n-1]}},x=h;x<p;x++)y(x);return f(r,e)}function J(t,e){var r=I(t,e),n=E(t,e);return r.map((function(t,e){return e?t.join("").length<n[e].join("").length?t:n[e]:t}))}function K(t,e){var r=I(t,e),n="Z"===r.slice(-1)[0][0],a=[],i=0;return a=L(r).map((function(t,e){return i=t.length,{seg:r[e],n:t,c:r[e][0],x:t[i-2],y:t[i-1]}})).map((function(t,e,r){var a=t.seg,i=t.n,s=e&&r[e-1],o=r[e+1]&&r[e+1],m=t.c,u=r.length,c=e?r[e-1].x:r[u-1].x,h=e?r[e-1].y:r[u-1].y,l=[];switch(m){case"M":l=n?["Z"]:[m,c,h];break;case"A":l=a.slice(0,-3).concat([1===a[5]?0:1,c,h]);break;case"C":l=o&&"S"===o.c?["S",a[1],a[2],c,h]:[m,a[3],a[4],a[1],a[2],c,h];break;case"S":l=s&&"CS".indexOf(s.c)>-1&&(!o||o&&"S"!==o.c)?["C",i[3],i[4],i[1],i[2],c,h]:[m,i[1],i[2],c,h];break;case"Q":l=o&&"T"===o.c?["T",c,h]:a.slice(0,-2).concat([c,h]);break;case"T":l=s&&"QT".indexOf(s.c)>-1&&(!o||o&&"T"!==o.c)?["Q",i[1],i[2],c,h]:[m,c,h];break;case"Z":l=["M",c,h];break;case"H":l=[m,c];break;case"V":l=[m,h];break;default:l=a.slice(0,-2).concat([c,h])}return l})),n?a.reverse():[a[0]].concat(a.slice(1).reverse())}function W(t){var e=new h,r=t.origin,n=+r[0],a=+r[1],i=t.translate,s=t.rotate,o=t.skew,m=t.scale;return(!isNaN(i)||Array.isArray(i)&&i.some((function(t){return 0!=+t})))&&(e=Array.isArray(i)?e.translate(+i[0]||0,+i[1]||0,+i[2]||0):e.translate(+i||0,0,0)),(s||o||m)&&(e=e.translate(+n,+a),s&&(e=Array.isArray(s)&&s.some((function(t){return 0!=+t}))?e.rotate(+s[0]||0,+s[1]||0,+s[2]||0):e.rotate(+s||0)),Array.isArray(o)&&o.some((function(t){return 0!=+t}))&&(Array.isArray(o)?(e=o[0]?e.skewX(+o[0]||0):e,e=o[1]?e.skewY(+o[1]||0):e):e=e.skewX(+o||0)),(!isNaN(m)||Array.isArray(m)&&m.some((function(t){return 1!=+t})))&&(e=Array.isArray(m)?e.scale(+m[0]||1,+m[1]||1,+m[2]||1):e.scale(+m||1)),e=e.translate(-n,-a)),e}function _(t,e,r){var n=t.transformPoint({x:e[0],y:e[1],z:0,w:1}),a=r[0]||0,i=r[1]||0,s=r[2]||0,o=n.x-a,m=n.y-i,u=n.z-s;return[o*(Math.abs(s)/Math.abs(u))+a,m*(Math.abs(s)/Math.abs(u))+i]}function tt(t,e,r){var n,a,i,s,o,m,u,c,h=I(t),y=L(h),x=W(e),d=e.origin,v=[x.a,x.b,x.c,x.d,x.e,x.f],M={x1:0,y1:0,x2:0,y2:0,x:0,y:0},g=[],A=0,b="",w=[],C=[],q=[];if(x.isIdentity)return l(h);for(i=0,o=h.length;i<o;i++)g=h[i],h[i]&&(b=g[0]),C[i]=b,"A"!==b||x.is2D||(g=j(y[i],M),h[i]=j(y[i],M),p(h,C,i),y[i]=j(y[i],M),p(y,C,i),o=Math.max(h.length,y.length)),A=(g=y[i]).length,M.x1=+g[A-2],M.y1=+g[A-1],M.x2=+g[A-4]||M.x1,M.y2=+g[A-3]||M.y1,q={s:h[i],c:h[i][0]},"Z"!==b&&(q.x=M.x1,q.y=M.y1),w=w.concat(q);return f(w=w.map((function(t){var e,r,i;switch(b=t.c,g=t.s,b){case"A":var o=function(t,e,r,n){var a=Math.cos(n*Math.PI/180),i=Math.sin(n*Math.PI/180),s=[e*(t[0]*a+t[2]*i),e*(t[1]*a+t[3]*i),r*(-t[0]*i+t[2]*a),r*(-t[1]*i+t[3]*a)],o=s[0]*s[0]+s[2]*s[2],m=s[1]*s[1]+s[3]*s[3],u=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),c=(o+m)/2;if(u<1e-9*c)return{rx:e=r=Math.sqrt(c),ry:r,ax:n=0};var h=s[0]*s[1]+s[2]*s[3],l=c+(u=Math.sqrt(u))/2,f=c-u/2;return(n=Math.abs(h)<1e-9&&Math.abs(l-m)<1e-9?90:180*Math.atan(Math.abs(h)>Math.abs(l-m)?(l-o)/h:h/(l-m))/Math.PI)>=0?(e=Math.sqrt(l),r=Math.sqrt(f)):(n+=90,e=Math.sqrt(f),r=Math.sqrt(l)),{rx:e,ry:r,ax:n}}(v,g[1],g[2],g[3]);return v[0]*v[3]-v[1]*v[2]<0&&(g[5]=+g[5]?0:1),e=_(x,[g[6],g[7]],d),u=e[0],c=e[1],g=n===u&&a===c||o.rx<1e-9*o.ry||o.ry<1e-9*o.rx?["L",u,c]:[b,o.rx,o.ry,o.ax,g[4],g[5],u,c],n=u,a=c,g;case"L":case"H":case"V":return r=_(x,[t.x,t.y],d),u=r[0],c=r[1],n!==u&&a!==c?g=["L",u,c]:a===c?g=["H",u]:n===u&&(g=["V",c]),n=u,a=c,g;default:for(s=1,m=g.length;s<m;s+=2)i=_(x,[g[s],g[s+1]],d),n=i[0],a=i[1],g[s]=n,g[s+1]=a;return g}})),r)}var et={CSSMatrix:h,parsePathString:V,isPathArray:x,isCurveArray:d,isAbsoluteArray:P,isRelativeArray:B,isNormalizedArray:k,pathToAbsolute:I,pathToRelative:E,pathToCurve:Z,pathToString:G,getDrawDirection:function(t){return R(Z(t))>=0},getPathArea:R,getPathBBox:U,getPathLength:function(t){var e=0;return Z(t).map((function(t,r,n){e+="M"!==t[0]?Y.apply(0,n[r-1].slice(-2).concat(t.slice(1))):0})),e},getPointAtLength:function(t,e){var r,n,a=0;return Z(t).map((function(t,i,s){return n=i?s[i-1].slice(-2).concat(t.slice(1)):t.slice(1),r=i?Y.apply(0,n):0,a+=r,0===i?{x:n[0],y:n[1]}:a>e&&e>a-r?z.apply(0,n.concat(1-(a-e)/r)):null})).filter((function(t){return t})).slice(-1)[0]},clonePath:l,splitPath:$,roundPath:f,optimizePath:J,reverseCurve:function(t){var e=t.slice(1).map((function(e,r,n){return r?n[r-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,r){return t[t.length-r-2*(1-r%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))},reversePath:K,normalizePath:L,transformPath:tt,getSVGMatrix:W,options:t},rt=function(e,r){var n=!r||0!=+r.round&&!1!==r.round?t.round:0,a=n&&(r&&r.decimals||t.decimals),i=r&&r.origin,s=V(e,this.round);return this.round=0===n?0:a,this.origin=!i||isNaN(i.x)||isNaN(i.y)?null:i,this.segments=l(s),this.pathValue=e,this};for(var nt in rt.prototype.toAbsolute=function(){var t=I(this.segments,this.round);return this.segments=l(t),this},rt.prototype.toRelative=function(){var t=E(this.segments,this.round);return this.segments=l(t),this},rt.prototype.reverse=function(t){this.toAbsolute();var e,r,n=$(this.pathValue).length>1&&$(this.toString());return e=n&&l(n).map((function(e,r){return t?r?K(e):V(e):K(e)})),r=n?[].concat.apply([],e):t?this.segments:K(this.segments),this.segments=l(r),this},rt.prototype.normalize=function(){var t=L(this.segments,this.round);return this.segments=l(t),this},rt.prototype.optimize=function(){var t=J(this.segments,this.round);return this.segments=l(t),this},rt.prototype.transform=function(t){if(!(t=t||{}).origin){var e=U(this.segments);t.origin=[e.cx,e.cy,e.cx]}var r=tt(this.segments,t,this.round);return this.segments=l(r),this},rt.prototype.flipX=function(){return this.transform({rotate:[180,0,0]}),this},rt.prototype.flipY=function(){return this.transform({rotate:[0,180,0]}),this},rt.prototype.toString=function(){return G(this.segments)},et)rt[nt]=et[nt];return rt}));
