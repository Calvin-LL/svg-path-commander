// SVGPathCommander v0.1.2 | thednp Â© 2021 | MIT-License
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).SVGPathCommander=e()}(this,(function(){"use strict";var t={origin:null,decimals:3,round:1};function e(t,e,n){var r=new c;return r.m41=r.e=t,r.m42=r.f=e,r.m43=n,r}function n(t,e,n){var r=new c;t*=Math.PI/180,e*=Math.PI/180,n*=Math.PI/180;var a=Math.cos(t),i=-Math.sin(t),s=Math.cos(e),m=-Math.sin(e),u=Math.cos(n),o=-Math.sin(n);return r.m11=r.a=s*u,r.m12=r.b=-s*o,r.m13=m,r.m21=r.c=i*m*u+a*o,r.m22=r.d=a*u-i*m*o,r.m23=-i*s,r.m31=i*o-a*m*u,r.m32=i*u+a*m*o,r.m33=a*s,r}function r(t,e,n,r){r*=Math.PI/360;var a=Math.sin(r),i=Math.cos(r),s=a*a,m=Math.sqrt(t*t+e*e+n*n);0===m?(t=0,e=0,n=1):(t/=m,e/=m,n/=m);var u=t*t,o=e*e,h=n*n,l=new c;return l.m11=l.a=1-2*(o+h)*s,l.m12=l.b=2*(t*e*s+n*a*i),l.m13=2*(t*n*s-e*a*i),l.m21=l.c=2*(e*t*s-n*a*i),l.m22=l.d=1-2*(h+u)*s,l.m23=2*(e*n*s+t*a*i),l.m31=2*(n*t*s+e*a*i),l.m32=2*(n*e*s-t*a*i),l.m33=1-2*(u+o)*s,l.m14=l.m24=l.m34=0,l.m41=l.e=l.m42=l.f=l.m43=0,l.m44=1,l}function a(t,e,n){var r=new c;return r.m11=r.a=t,r.m22=r.d=e,r.m33=n,r}function i(t){t*=Math.PI/180;var e=new c;return e.m21=e.c=Math.tan(t),e}function s(t){t*=Math.PI/180;var e=new c;return e.m12=e.b=Math.tan(t),e}function m(t,e){var n=e.m11*t.m11+e.m12*t.m21+e.m13*t.m31+e.m14*t.m41,r=e.m11*t.m12+e.m12*t.m22+e.m13*t.m32+e.m14*t.m42,a=e.m11*t.m13+e.m12*t.m23+e.m13*t.m33+e.m14*t.m43,i=e.m11*t.m14+e.m12*t.m24+e.m13*t.m34+e.m14*t.m44,s=e.m21*t.m11+e.m22*t.m21+e.m23*t.m31+e.m24*t.m41,m=e.m21*t.m12+e.m22*t.m22+e.m23*t.m32+e.m24*t.m42,u=e.m21*t.m13+e.m22*t.m23+e.m23*t.m33+e.m24*t.m43,o=e.m21*t.m14+e.m22*t.m24+e.m23*t.m34+e.m24*t.m44,h=e.m31*t.m11+e.m32*t.m21+e.m33*t.m31+e.m34*t.m41,l=e.m31*t.m12+e.m32*t.m22+e.m33*t.m32+e.m34*t.m42,f=e.m31*t.m13+e.m32*t.m23+e.m33*t.m33+e.m34*t.m43,p=e.m31*t.m14+e.m32*t.m24+e.m33*t.m34+e.m34*t.m44,y=e.m41*t.m11+e.m42*t.m21+e.m43*t.m31+e.m44*t.m41,x=e.m41*t.m12+e.m42*t.m22+e.m43*t.m32+e.m44*t.m42,d=e.m41*t.m13+e.m42*t.m23+e.m43*t.m33+e.m44*t.m43,v=e.m41*t.m14+e.m42*t.m24+e.m43*t.m34+e.m44*t.m44;return new c([n,s,h,y,r,m,l,x,a,u,f,d,i,o,p,v])}function u(t,e){var n=Array.from(e);if(16==n.length)t.m11=t.a=n[0],t.m21=t.c=n[1],t.m31=n[2],t.m41=t.e=n[3],t.m12=t.b=n[4],t.m22=t.d=n[5],t.m32=n[6],t.m42=t.f=n[7],t.m13=n[8],t.m23=n[9],t.m33=n[10],t.m43=n[11],t.m14=n[12],t.m24=n[13],t.m34=n[14],t.m44=n[15];else{if(6!=n.length)throw new TypeError("CSSMatrix: expecting a 6/16 values Array");t.m11=t.a=n[0],t.m12=t.b=n[1],t.m14=t.e=n[4],t.m21=t.c=n[2],t.m22=t.d=n[3],t.m24=t.f=n[5]}return t}var c=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return this.setIdentity(),t&&t.length&&this.setMatrixValue(t)},o={isIdentity:{configurable:!0},is2D:{configurable:!0}};o.isIdentity.get=function(){var t=this;return 1==t.m11&&0==t.m12&&0==t.m13&&0==t.m14&&0==t.m21&&1==t.m22&&0==t.m23&&0==t.m24&&0==t.m31&&0==t.m32&&1==t.m33&&0==t.m34&&0==t.m41&&0==t.m42&&0==t.m43&&1==t.m44},o.isIdentity.set=function(t){this.isIdentity=t},o.is2D.get=function(){var t=this;return 0==t.m31&&0==t.m32&&1==t.m33&&0==t.m34&&0==t.m43&&1==t.m44},o.is2D.set=function(t){this.is2D=t},Object.defineProperties(c.prototype,o);var h=c.prototype;h.setMatrixValue=function(t){var e=this;if(!t||!t.length)return e;if(t.length&&"string"==typeof t[0]&&t[0].length){var n,r,a=String(t[0]).trim();if("none"==a)return e;if(n=a.slice(0,a.indexOf("(")),r=a.slice("matrix"===n?7:9,-1).split(",").map((function(t){return Math.abs(t)<1e-6?0:+t})),!([6,16].indexOf(r.length)>-1))throw new TypeError("CSSMatrix: expecting valid CSS matrix() / matrix3d() syntax");u(e,r)}else t[0]instanceof c?u(e,t[0].toArray()):Array.isArray(t[0])?u(e,t[0]):Array.isArray(t)&&u(e,t);return e},h.toString=function(){return(this.is2D?"matrix":"matrix3d")+"("+this.toArray(1).join(",")+")"},h.toArray=function(t){var e=this;return e.is2D?[e.a,e.b,e.c,e.d,e.e,e.f]:t?[e.m11,e.m12,e.m13,e.m14,e.m21,e.m22,e.m23,e.m24,e.m31,e.m32,e.m33,e.m34,e.m41,e.m42,e.m43,e.m44]:[e.m11,e.m21,e.m31,e.m41,e.m12,e.m22,e.m32,e.m42,e.m13,e.m23,e.m33,e.m43,e.m14,e.m24,e.m34,e.m44]},h.multiply=function(t){return m(this,t)},h.translate=function(t,n,r){return null==r&&(r=0),null==n&&(n=0),m(this,e(t,n,r))},h.scale=function(t,e,n){return null==e&&(e=t),null==n&&(n=t),m(this,a(t,e,n))},h.rotate=function(t,e,r){return null==e&&(e=0),null==r&&(r=t,t=0),m(this,n(t,e,r))},h.rotateAxisAngle=function(t,e,n,a){if(4!==arguments.length)throw new TypeError("CSSMatrix: expecting 4 values");return m(this,r(t,e,n,a))},h.skewX=function(t){return m(this,i(t))},h.skewY=function(t){return m(this,s(t))},h.setIdentity=function(){return u(this,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},h.transformPoint=function(t){var n=e(t.x,t.y,t.z);return n.m44=t.w||1,{x:(n=this.multiply(n)).m41,y:n.m42,z:n.m43,w:n.m44}},h.transform=function(t){var e=this,n=e.m11*t.x+e.m12*t.y+e.m13*t.z+e.m14*t.w,r=e.m21*t.x+e.m22*t.y+e.m23*t.z+e.m24*t.w,a=e.m31*t.x+e.m32*t.y+e.m33*t.z+e.m34*t.w,i=e.m41*t.x+e.m42*t.y+e.m43*t.z+e.m44*t.w;return{x:n/i,y:r/i,z:a/i,w:i}},c.Translate=e,c.Rotate=n,c.RotateAxisAngle=r,c.Scale=a,c.SkewX=i,c.SkewY=s,c.Multiply=m,c.fromMatrix=function(t){return new c([t.m11,t.m21,t.m31,t.m41,t.m12,t.m22,t.m32,t.m42,t.m13,t.m23,t.m33,t.m43,t.m14,t.m24,t.m34,t.m44])},c.fromArray=function(t){return u(new c,t)},c.feedFromArray=u;var l="undefined"!=typeof DOMMatrix?DOMMatrix:c;function f(t){return t.map((function(t){return Array.isArray(t)?f(t):isNaN(+t)?t:+t}))}function p(e,n){var r=isNaN(+n)?t.round&&t.decimals:+n;return r?e.map((function(t){return t.map((function(t,e){var n=+t,a=Math.pow(10,r);return n?n%1==0?n:Math.round(n*a)/a:t}))})):f(e)}function y(t,e,n){if(t[n].length>7){t[n].shift();for(var r=t[n];r.length;)e[n]="A",t.splice(n++,0,["C"].concat(r.splice(0,6)));t.splice(n,1)}}var x={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0};function d(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return x[e]===t.length-1&&/[achlmrqstvz]/g.test(e)}))}function v(t){return d(t)&&t.slice(1).every((function(t){return"C"===t[0]}))}function M(t){var e=t.pathValue[t.segmentStart],n=e.toLowerCase(),r=t.data;if("m"===n&&r.length>2&&(t.segments.push([e,r[0],r[1]]),r=r.slice(2),n="l",e="m"===e?"l":"L"),"r"===n)t.segments.push([e].concat(r));else for(;r.length>=x[n]&&(t.segments.push([e].concat(r.splice(0,x[n]))),x[n]););}function g(t){var e=t.pathValue.charCodeAt(t.index);return 48===e?(t.param=0,void t.index++):49===e?(t.param=1,void t.index++):void(t.err="Invalid path value: invalid Arc flag "+e)}function A(t){return t>=48&&t<=57}function w(t){var e,n=t.index,r=n,a=t.max,i=!1,s=!1,m=!1,u=!1;if(r>=a)t.err="Invalid path value: missing param "+t.pathValue[r];else if(43!==(e=t.pathValue.charCodeAt(r))&&45!==e||(e=++r<a?t.pathValue.charCodeAt(r):0),A(e)||46===e){if(46!==e){if(i=48===e,e=++r<a?t.pathValue.charCodeAt(r):0,i&&r<a&&e&&A(e))return void(t.err="Invalid path value: "+t.pathValue[n]+" illegal number");for(;r<a&&A(t.pathValue.charCodeAt(r));)r++,s=!0;e=r<a?t.pathValue.charCodeAt(r):0}if(46===e){for(u=!0,r++;A(t.pathValue.charCodeAt(r));)r++,m=!0;e=r<a?t.pathValue.charCodeAt(r):0}if(101===e||69===e){if(u&&!s&&!m)return void(t.err="Invalid path value: "+t.pathValue[r]+" invalid float exponent");if(43!==(e=++r<a?t.pathValue.charCodeAt(r):0)&&45!==e||r++,!(r<a&&A(t.pathValue.charCodeAt(r))))return void(t.err="Invalid path value: "+t.pathValue[r]+" invalid float exponent");for(;r<a&&A(t.pathValue.charCodeAt(r));)r++}t.index=r,t.param=+t.pathValue.slice(n,r)}else t.err="Invalid path value: "+t.pathValue[r]+" not number"}function b(t){for(;t.index<t.max&&(10===(e=t.pathValue.charCodeAt(t.index))||13===e||8232===e||8233===e||32===e||9===e||11===e||12===e||160===e||e>=5760&&[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279].indexOf(e)>=0);)t.index++;var e}function C(t){return t>=48&&t<=57||43===t||45===t||46===t}function q(t){var e,n,r,a,i=t.max;if(t.segmentStart=t.index,function(t){switch(32|t){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}(e=t.pathValue.charCodeAt(t.index)))if(r=x[t.pathValue[t.index].toLowerCase()],t.index++,b(t),t.data=[],r){for(n=!1;;){for(a=r;a>0;a--){if(97!=(32|e)||3!==a&&4!==a?w(t):g(t),t.err.length)return;t.data.push(t.param),b(t),n=!1,t.index<i&&44===t.pathValue.charCodeAt(t.index)&&(t.index++,b(t),n=!0)}if(!n){if(t.index>=t.max)break;if(!C(t.pathValue.charCodeAt(t.index)))break}}M(t)}else M(t);else t.err="Invalid path value: "+t.pathValue[t.index]+" not a path command"}function V(t){return this.segments=[],this.pathValue=t,this.max=t.length,this.index=0,this.param=0,this.segmentStart=0,this.data=[],this.err="",this}function P(t,e){if(d(t))return f(t);var n=new V(t);for(b(n);n.index<n.max&&!n.err.length;)q(n);return n.err.length?n.segments=[]:n.segments.length&&("mM".indexOf(n.segments[0][0])<0?(n.err="Invalid path value: missing M/m",n.segments=[]):n.segments[0][0]="M"),p(n.segments,e)}function I(t){return d(t)&&t.every((function(t){return t[0]===t[0].toUpperCase()}))}function S(t,e){if(I(t))return f(t);t=P(t,e);var n=[],r=0,a=0,i=0,s=0,m=0,u=t.length,c="",o=[],h=0,l=[];"M"===t[0][0]&&(r=+t[0][1],a=+t[0][2],i=r,s=a,m++,n[0]=["M",r,a]);for(var y=m;y<u;y++){if(c=(o=t[y])[0],n.push(l=[]),c!==c.toUpperCase())switch(l[0]=c.toUpperCase(),l[0]){case"A":o.slice(1,-2).concat([+o[6]+r,+o[7]+a]).map((function(t){return l.push(t)}));break;case"V":l[1]=+o[1]+a;break;case"H":l[1]=+o[1]+r;break;case"M":i=+o[1]+r,s=+o[2]+a;default:o.map((function(t,e){return e&&l.push(+t+(e%2?r:a))}))}else o.map((function(t){return l.push(t)}));switch(h=l.length,l[0]){case"Z":r=i,a=s;break;case"H":r=+l[1];break;case"V":a=+l[1];break;case"M":i=+l[h-2],s=+l[h-1];default:r=+l[h-2],a=+l[h-1]}}return p(n,e)}function k(t,e,n){var r,a;switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"H":return["L",t[1],e.y1];case"V":return["L",e.x1,t[1]];case"S":return a=function(t,e,n,r,a){return"CS".indexOf(a)>-1?{x1:2*t-n,y1:2*e-r}:{x1:t,y1:e}}(e.x1,e.y1,e.x2,e.y2,n),e.x1=a.x1,e.y1=a.y1,["C",a.x1,a.y1].concat(t.slice(1));case"T":return r=function(t,e,n,r,a){return"QT".indexOf(a)>-1?{qx:2*t-n,qy:2*e-r}:{qx:t,qy:e}}(e.x1,e.y1,e.qx,e.qy,n),e.qx=r.qx,e.qy=r.qy,["Q",e.qx,e.qy].concat(t.slice(1));case"Q":e.qx=t[1],e.qy=t[2]}return t}function T(t){return Array.isArray(t)&&t.every((function(t){var e=t[0].toLowerCase();return x[e]===t.length-1&&/[ACLMQZ]/.test(t[0])}))}function z(t,e){if(T(t))return f(t);for(var n,r,a={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},i=[],s="",m="",u=(t=S(t,e)).length,c=0;c<u;c++)s=t[c][0],i[c]=s,c&&(m=i[c-1]),t[c]=k(t[c],a,m),r=(n=t[c]).length,a.x1=+n[r-2],a.y1=+n[r-1],a.x2=+n[r-4]||a.x1,a.y2=+n[r-3]||a.y1;return p(t,e)}function L(t,e,n){return{x:t*Math.cos(n)-e*Math.sin(n),y:t*Math.sin(n)+e*Math.cos(n)}}function N(t,e,n,r,a,i,s,m,u,c){var o,h,l,f,p,y=120*Math.PI/180,x=Math.PI/180*(a||0),d=[];if(c)h=c[0],l=c[1],f=c[2],p=c[3];else{t=(o=L(t,e,-x)).x,e=o.y;var v=(t-(m=(o=L(m,u,-x)).x))/2,M=(e-(u=o.y))/2,g=v*v/(n*n)+M*M/(r*r);g>1&&(n*=g=Math.sqrt(g),r*=g);var A=n*n,w=r*r,b=(i==s?-1:1)*Math.sqrt(Math.abs((A*w-A*M*M-w*v*v)/(A*M*M+w*v*v)));f=b*n*M/r+(t+m)/2,p=b*-r*v/n+(e+u)/2,h=Math.asin(((e-p)/r).toFixed(9)),l=Math.asin(((u-p)/r).toFixed(9)),h=t<f?Math.PI-h:h,l=m<f?Math.PI-l:l,h<0&&(h=2*Math.PI+h),l<0&&(l=2*Math.PI+l),s&&h>l&&(h-=2*Math.PI),!s&&l>h&&(l-=2*Math.PI)}var C=l-h;if(Math.abs(C)>y){var q=l,V=m,P=u;l=h+y*(s&&l>h?1:-1),m=f+n*Math.cos(l),u=p+r*Math.sin(l),d=N(m,u,n,r,a,0,s,V,P,[l,q,f,p])}C=l-h;var I=Math.cos(h),S=Math.sin(h),k=Math.cos(l),T=Math.sin(l),z=Math.tan(C/4),O=4/3*n*z,D=4/3*r*z,Q=[t,e],j=[t+O*S,e-D*I],Z=[m+O*T,u-D*k],H=[m,u];return j[0]=2*Q[0]-j[0],j[1]=2*Q[1]-j[1],c?[j,Z,H].concat(d):(d=[j,Z,H].concat(d).join().split(",")).map((function(t,e){return e%2?L(d[e-1],t,x).y:L(t,d[e+1],x).x}))}function O(t,e,n,r,a,i){return[1/3*t+2/3*n,1/3*e+2/3*r,1/3*a+2/3*n,1/3*i+2/3*r,a,i]}function D(t,e,n,r,a,i,s,m,u){var c=1-u;return{x:Math.pow(c,3)*t+3*Math.pow(c,2)*u*n+3*c*u*u*a+Math.pow(u,3)*s,y:Math.pow(c,3)*e+3*Math.pow(c,2)*u*r+3*c*u*u*i+Math.pow(u,3)*m}}function Q(t,e,n){var r=t[0],a=t[1];return[r+(e[0]-r)*n,a+(e[1]-a)*n]}function j(t,e,n,r){var a=.5,i=[t,e],s=[n,r],m=Q(i,s,a),u=Q(s,m,a),c=Q(m,u,a),o=Q(u,c,a),h=Q(c,o,a),l=D.apply(0,i.concat(m,c,h,a)),f=D.apply(0,h.concat(o,u,s,0));return[l.x,l.y,f.x,f.y,n,r]}function Z(t,e){switch("TQ".indexOf(t[0])<0&&(e.qx=e.qy=null),t[0]){case"M":return e.x=t[1],e.y=t[2],t;case"A":return["C"].concat(N.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"Q":return e.qx=t[1],e.qy=t[2],["C"].concat(O.apply(0,[e.x1,e.y1].concat(t.slice(1))));case"L":return["C"].concat(j(e.x1,e.y1,t[1],t[2]));case"Z":return["C"].concat(j(e.x1,e.y1,e.x,e.y))}return t}function H(t,e){if(v(t))return f(t);for(var n,r,a={x1:0,y1:0,x2:0,y2:0,x:0,y:0,qx:null,qy:null},i=[],s="",m=(t=z(t,e)).length,u=0;u<m;u++)t[u]&&(s=t[u][0]),i[u]=s,t[u]=Z(t[u],a),y(t,i,u),m=t.length,r=(n=t[u]).length,a.x1=+n[r-2],a.y1=+n[r-1],a.x2=+n[r-4]||a.x1,a.y2=+n[r-3]||a.y1;return p(t,e)}function R(t,e,n,r,a,i,s,m){return 3*((m-e)*(n+a)-(s-t)*(r+i)+r*(t-a)-n*(e-i)+m*(a+t/3)-s*(i+e/3))/20}function X(t,e){var n=0,r=0,a=0,i=0,s=0;return H(t,e).map((function(t){var e;switch(t[0]){case"M":case"Z":return a="M"===t[0]?t[1]:a,i="M"===t[0]?t[2]:i,n=a,r=i,0;default:return s=R.apply(0,[n,r].concat(t.slice(1))),e=t.slice(-2),n=e[0],r=e[1],s}})).reduce((function(t,e){return t+e}),0)}function Y(t,e,n,r,a){return a*(a*(-3*t+9*e-9*n+3*r)+6*t-12*e+6*n)-3*t+3*e}function E(t,e,n,r,a,i,s,m,u){(null===u||isNaN(+u))&&(u=1);var c=(u=u>1?1:u<0?0:u)/2,o=0,h=0,l=0,f=0,p=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472];return[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816].map((function(u,y){h=Y(t,n,a,s,o=c*u+c),l=Y(e,r,i,m,o),f+=p[y]*Math.sqrt(h*h+l*l)})),c*f}function F(t,e,n,r,a,i,s,m){var u,c=a-2*n+t-(s-2*a+n),o=2*(n-t)-2*(a-n),h=t-n,l=(-o+Math.sqrt(o*o-4*c*h))/2/c,f=(-o-Math.sqrt(o*o-4*c*h))/2/c,p=[e,m],y=[t,s];return Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(u=D(t,e,n,r,a,i,s,m,l),y.push(u.x),p.push(u.y)),f>0&&f<1&&(u=D(t,e,n,r,a,i,s,m,f),y.push(u.x),p.push(u.y)),c=i-2*r+e-(m-2*i+r),h=e-r,l=(-(o=2*(r-e)-2*(i-r))+Math.sqrt(o*o-4*c*h))/2/c,f=(-o-Math.sqrt(o*o-4*c*h))/2/c,Math.abs(l)>"1e12"&&(l=.5),Math.abs(f)>"1e12"&&(f=.5),l>0&&l<1&&(u=D(t,e,n,r,a,i,s,m,l),y.push(u.x),p.push(u.y)),f>0&&f<1&&(u=D(t,e,n,r,a,i,s,m,f),y.push(u.x),p.push(u.y)),{min:{x:Math.min.apply(0,y),y:Math.min.apply(0,p)},max:{x:Math.max.apply(0,y),y:Math.max.apply(0,p)}}}function U(t,e){if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};t=H(t,e);var n=0,r=0,a=[],i=[];t.map((function(t){if("M"===t[0])n=t[1],r=t[2],a.push(n),i.push(r);else{var e=F.apply(0,[n,r].concat(t.slice(1)));a=a.concat(e.min.x,e.max.x),i=i.concat(e.min.y,e.max.y),n=t[5],r=t[6]}}));var s=Math.min.apply(0,a),m=Math.min.apply(0,i),u=Math.max.apply(0,a),c=Math.max.apply(0,i),o=u-s,h=c-m;return{x:s,y:m,x2:u,y2:c,width:o,height:h,cx:s+o/2,cy:m+h/2}}function B(t){return d(t)&&t.slice(1).every((function(t){return t[0]===t[0].toLowerCase()}))}function G(t){return t.map((function(t){return t[0].concat(t.slice(1).join(" "))})).join("")}function $(t){return G(S(t,0)).replace(/(m|M)/g,"|$1").split("|").map((function(t){return t.trim()})).filter((function(t){return t}))}function J(t,e){if(B(t))return f(t);t=P(t,e);var n=[],r=0,a=0,i=0,s=0,m=0,u=[],c="",o=[],h=0,l=t.length;"M"===t[0][0]&&(a=+t[0][1],i=+t[0][2],s=a,m=i,h++,n.push(["M",a,i]));for(var y=function(e){if(u=t[e],c=u[0],n.push(o=[]),c!==c.toLowerCase())switch(o[0]=c.toLowerCase(),o[0]){case"a":u.slice(1,-2).concat([+u[6]-a,+u[7]-i]).map((function(t){return o.push(t)}));break;case"v":o[1]=+u[1]-i;break;case"m":s=+u[1],m=+u[2];default:u.map((function(t,e){return e&&o.push(+t-(e%2?a:i))}))}else o=[],n[e]=o,"m"===c&&(s=+u[1]+a,m=+u[2]+i),u.map((function(t){return n[e].push(t)}));switch(r=n[e].length,n[e][0]){case"z":a=s,i=m;break;case"h":a+=n[e][r-1];break;case"v":i+=n[e][r-1];break;default:a+=n[e][r-2],i+=n[e][r-1]}},x=h;x<l;x++)y(x);return p(n,e)}function K(t,e){var n=S(t,e),r=J(t,e);return n.map((function(t,e){return e?t.join("").length<r[e].join("").length?t:r[e]:t}))}function W(t,e){var n=S(t,e),r="Z"===n.slice(-1)[0][0],a=[],i=0;return a=z(n,e).map((function(t,e){return i=t.length,{seg:n[e],n:t,c:n[e][0],x:t[i-2],y:t[i-1]}})).map((function(t,e,n){var a=t.seg,i=t.n,s=e&&n[e-1],m=n[e+1]&&n[e+1],u=t.c,c=n.length,o=e?n[e-1].x:n[c-1].x,h=e?n[e-1].y:n[c-1].y,l=[];switch(u){case"M":l=r?["Z"]:[u,o,h];break;case"A":l=a.slice(0,-3).concat([1===a[5]?0:1,o,h]);break;case"C":l=m&&"S"===m.c?["S",a[1],a[2],o,h]:[u,a[3],a[4],a[1],a[2],o,h];break;case"S":l=s&&"CS".indexOf(s.c)>-1&&(!m||m&&"S"!==m.c)?["C",i[3],i[4],i[1],i[2],o,h]:[u,i[1],i[2],o,h];break;case"Q":l=m&&"T"===m.c?["T",o,h]:a.slice(0,-2).concat([o,h]);break;case"T":l=s&&"QT".indexOf(s.c)>-1&&(!m||m&&"T"!==m.c)?["Q",i[1],i[2],o,h]:[u,o,h];break;case"Z":l=["M",o,h];break;case"H":l=[u,o];break;case"V":l=[u,h];break;default:l=a.slice(0,-2).concat([o,h])}return l})),r?a.reverse():[a[0]].concat(a.slice(1).reverse())}function _(t){var e=new l,n=t.origin,r=+n[0],a=+n[1],i=t.translate,s=t.rotate,m=t.skew,u=t.scale;return(!isNaN(i)||Array.isArray(i)&&i.some((function(t){return 0!=+t})))&&(e=Array.isArray(i)?e.translate(+i[0]||0,+i[1]||0,+i[2]||0):e.translate(+i||0,0,0)),(s||m||u)&&(e=e.translate(+r,+a),s&&(e=Array.isArray(s)&&s.some((function(t){return 0!=+t}))?e.rotate(+s[0]||0,+s[1]||0,+s[2]||0):e.rotate(+s||0)),Array.isArray(m)&&m.some((function(t){return 0!=+t}))&&(Array.isArray(m)?(e=m[0]?e.skewX(+m[0]||0):e,e=m[1]?e.skewY(+m[1]||0):e):e=e.skewX(+m||0)),(!isNaN(u)||Array.isArray(u)&&u.some((function(t){return 1!=+t})))&&(e=Array.isArray(u)?e.scale(+u[0]||1,+u[1]||1,+u[2]||1):e.scale(+u||1)),e=e.translate(-r,-a)),e}function tt(t,e,n){var r=t.transformPoint({x:e[0],y:e[1],z:0,w:1}),a=n[0]||0,i=n[1]||0,s=n[2]||0,m=r.x-a,u=r.y-i,c=r.z-s;return[m*(Math.abs(s)/Math.abs(c))+a,u*(Math.abs(s)/Math.abs(c))+i]}function et(t,e,n){var r,a,i,s,m,u,c,o,h,l=S(t),x=z(l),d=_(e),v=e.origin,M=[d.a,d.b,d.c,d.d,d.e,d.f],g={x1:0,y1:0,x2:0,y2:0,x:0,y:0},A=[],w=0,b="",C=[],q=[],V=[];if(d.isIdentity)return f(l);for(i=0,m=l.length;i<m;i++)A=l[i],l[i]&&(b=A[0]),q[i]=b,"A"!==b||d.is2D||(A=Z(x[i],g),l[i]=Z(x[i],g),y(l,q,i),x[i]=Z(x[i],g),y(x,q,i),m=Math.max(l.length,x.length)),w=(A=x[i]).length,g.x1=+A[w-2],g.y1=+A[w-1],g.x2=+A[w-4]||g.x1,g.y2=+A[w-3]||g.y1,V={s:l[i],c:l[i][0]},"Z"!==b&&(V.x=g.x1,V.y=g.y1),C=C.concat(V);return p(C=C.map((function(t){var e,n,i;switch(b=t.c,A=t.s,b){case"A":return h=function(t,e,n,r){var a=Math.cos(r*Math.PI/180),i=Math.sin(r*Math.PI/180),s=[e*(t[0]*a+t[2]*i),e*(t[1]*a+t[3]*i),n*(-t[0]*i+t[2]*a),n*(-t[1]*i+t[3]*a)],m=s[0]*s[0]+s[2]*s[2],u=s[1]*s[1]+s[3]*s[3],c=((s[0]-s[3])*(s[0]-s[3])+(s[2]+s[1])*(s[2]+s[1]))*((s[0]+s[3])*(s[0]+s[3])+(s[2]-s[1])*(s[2]-s[1])),o=(m+u)/2;if(c<1e-9*o)return{rx:e=n=Math.sqrt(o),ry:n,ax:r=0};var h=s[0]*s[1]+s[2]*s[3],l=o+(c=Math.sqrt(c))/2,f=o-c/2;return(r=Math.abs(h)<1e-9&&Math.abs(l-u)<1e-9?90:180*Math.atan(Math.abs(h)>Math.abs(l-u)?(l-m)/h:h/(l-u))/Math.PI)>=0?(e=Math.sqrt(l),n=Math.sqrt(f)):(r+=90,e=Math.sqrt(f),n=Math.sqrt(l)),{rx:e,ry:n,ax:r}}(M,A[1],A[2],A[3]),M[0]*M[3]-M[1]*M[2]<0&&(A[5]=+A[5]?0:1),e=tt(d,[A[6],A[7]],v),c=e[0],o=e[1],A=r===c&&a===o||h.rx<1e-9*h.ry||h.ry<1e-9*h.rx?["L",c,o]:[b,h.rx,h.ry,h.ax,A[4],A[5],c,o],r=c,a=o,A;case"L":case"H":case"V":return n=tt(d,[t.x,t.y],v),c=n[0],o=n[1],r!==c&&a!==o?A=["L",c,o]:a===o?A=["H",c]:r===c&&(A=["V",o]),r=c,a=o,A;default:for(s=1,u=A.length;s<u;s+=2)i=tt(d,[A[s],A[s+1]],v),r=i[0],a=i[1],A[s]=r,A[s+1]=a;return A}})),n)}var nt={CSSMatrix:l,parsePathString:P,isPathArray:d,isCurveArray:v,isAbsoluteArray:I,isRelativeArray:B,isNormalizedArray:T,pathToAbsolute:S,pathToRelative:J,pathToCurve:H,pathToString:G,getDrawDirection:function(t,e){return X(H(t,e))>=0},getPathArea:X,getPathBBox:U,getPathLength:function(t,e){var n=0;return H(t,e).map((function(t,e,r){n+="M"!==t[0]?E.apply(0,r[e-1].slice(-2).concat(t.slice(1))):0})),n},getPointAtLength:function(t,e){var n,r,a=0;return H(t,9).map((function(t,i,s){return r=i?s[i-1].slice(-2).concat(t.slice(1)):t.slice(1),n=i?E.apply(0,r):0,a+=n,0===i?{x:r[0],y:r[1]}:a>e&&e>a-n?D.apply(0,r.concat(1-(a-e)/n)):null})).filter((function(t){return t})).slice(-1)[0]},clonePath:f,splitPath:$,roundPath:p,optimizePath:K,reverseCurve:function(t){var e=t.slice(1).map((function(e,n,r){return n?r[n-1].slice(-2).concat(e.slice(1)):t[0].slice(1).concat(e.slice(1))})).map((function(t){return t.map((function(e,n){return t[t.length-n-2*(1-n%2)]}))})).reverse();return[["M"].concat(e[0].slice(0,2))].concat(e.map((function(t){return["C"].concat(t.slice(2))})))},reversePath:W,normalizePath:z,transformPath:et,getSVGMatrix:_,options:t},rt=function(e,n){var r=!n||0!=+n.round&&!1!==n.round?t.round:0,a=r&&(n&&n.decimals||t.decimals),i=n&&n.origin,s=P(e,this.round);return this.round=0===r?0:a,this.origin=!i||isNaN(i.x)||isNaN(i.y)?null:i,this.segments=f(s),this.pathValue=e,this},at=rt.prototype;for(var it in at.toAbsolute=function(){var t=S(this.segments,this.round);return this.segments=f(t),this},at.toRelative=function(){var t=J(this.segments,this.round);return this.segments=f(t),this},at.reverse=function(t){this.toAbsolute();var e,n,r=$(this.pathValue).length>1&&$(this.toString());return e=r&&f(r).map((function(e,n){return t?n?W(e):P(e):W(e)})),n=r?[].concat.apply([],e):t?this.segments:W(this.segments),this.segments=f(n),this},at.normalize=function(){var t=z(this.segments,this.round);return this.segments=f(t),this},at.optimize=function(){var t=K(this.segments,this.round);return this.segments=f(t),this},at.transform=function(t){if(!(t=t||{}).origin){var e=U(this.segments);t.origin=[e.cx,e.cy,e.cx]}var n=et(this.segments,t,this.round);return this.segments=f(n),this},at.flipX=function(){return this.transform({rotate:[180,0,0]}),this},at.flipY=function(){return this.transform({rotate:[0,180,0]}),this},at.toString=function(){return G(this.segments)},nt)rt[it]=nt[it];return rt}));
